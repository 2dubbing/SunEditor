"undefined"===typeof window.SUNEDITOR&&(window.SUNEDITOR={},SUNEDITOR.plugin={});
SUNEDITOR.defaultLang={toolbar:{font:"Font",formats:"Formats",fontSize:"Size",bold:"Bold",underline:"Underline",italic:"Italic",strike:"Strike",removeFormat:"Remove Format",fontColor:"Font Color",hiliteColor:"Hilite Color",indent:"Indent",outdent:"Outdent",align:"Align",alignLeft:"Align left",alignRight:"Align right",alignCenter:"Align center",justifyFull:"Justify full",list:"list",orderList:"Ordered list",unorderList:"Unordered list",line:"Line",table:"Table",link:"Link",image:"Image",video:"Video",
        fullScreen:"Full Screen",codeView:"Code View",undo:"Undo",redo:"Redo",preview:"Preview",print:"print"},dialogBox:{linkBox:{title:"Insert Link",url:"URL to link",text:"Text to display",newWindowCheck:"Open in new window"},imageBox:{title:"Insert Image",file:"Select from files",url:"Image URL",resize100:"resize 100%",resize75:"resize 75%",resize50:"resize 50%",resize25:"resize 25%",remove:"remove image",caption:"Insert image description"},videoBox:{title:"Insert Video",url:"Media embed URL, YouTube"},
        submitButton:"Submit",width:"Width",height:"Height",basic:"Basic",left:"Left",right:"Right",center:"Center"},editLink:{edit:"Edit",remove:"Remove"}};
(function(){function A(a){var d='<div class="sun-editor-id-toolbar-cover"></div>',e=null;var c=SUNEDITOR.lang;c={font:["btn_font",c.toolbar.font,"font","submenu","",'<span class="txt sun-editor-font-family">'+c.toolbar.font+'</span><span class="ico_more"></span>'],formats:["btn_format",c.toolbar.formats,"formatBlock","submenu","",'<span class="txt">'+c.toolbar.formats+'</span><span class="ico_more"></span>'],fontSize:["btn_size",c.toolbar.fontSize,"fontSize","submenu","",'<span class="txt sun-editor-font-size">'+
    c.toolbar.fontSize+'</span><span class="ico_more"></span>'],bold:["sun-editor-id-bold",c.toolbar.bold+"(Ctrl+B)","bold","","",'<div class="ico_bold"></div>'],underline:["sun-editor-id-underline",c.toolbar.underline+"(Ctrl+U)","underline","","",'<div class="ico_underline"></div>'],italic:["sun-editor-id-italic",c.toolbar.italic+"(Ctrl+I)","italic","","",'<div class="ico_italic"></div>'],strike:["sun-editor-id-strike",c.toolbar.strike+"(Ctrl+SHIFT+S)","strikethrough","","",'<div class="ico_strike"></div>'],
    removeFormat:["",c.toolbar.removeFormat+"","removeFormat","","",'<div class="ico_erase"></div>'],fontColor:["",c.toolbar.fontColor,"foreColor","submenu","",'<div class="ico_foreColor"></div>'],hiliteColor:["",c.toolbar.hiliteColor,"hiliteColor","submenu","",'<div class="ico_hiliteColor"></div>'],indent:["",c.toolbar.indent+"(Ctrl + [)","indent","","",'<div class="ico_indnet"></div>'],outdent:["",c.toolbar.outdent+"(Ctrl + ])","outdent","","",'<div class="ico_outdent"></div>'],align:["btn_align",c.toolbar.align,
        "align","submenu","",'<div class="ico_align"></div>'],list:["",c.toolbar.list,"list","submenu","",'<div class="ico_list_num"></div>'],line:["btn_line",c.toolbar.line,"horizontalRules","submenu","",'<hr style="border-width: 1px 0 0; border-style: solid none none; border-color: black; border-image: initial; height: 1px;" /><hr style="border-width: 1px 0 0; border-style: dotted none none; border-color: black; border-image: initial; height: 1px;" /><hr style="border-width: 1px 0 0; border-style: dashed none none; border-color: black; border-image: initial; height: 1px;" />'],
    table:["",c.toolbar.table,"table","submenu","",'<div class="ico_table"></div>'],link:["",c.toolbar.link,"link","dialog","",'<div class="ico_url"></div>'],image:["",c.toolbar.image,"image","dialog","",'<div class="ico_picture"></div>'],video:["",c.toolbar.video,"video","dialog","",'<div class="ico_video"></div>'],fullScreen:["",c.toolbar.fullScreen,"fullScreen","","",'<div class="ico_full_screen_e"></div>'],codeView:["",c.toolbar.codeView,"codeView","","",'<div class="ico_html"></div>'],undo:["",c.toolbar.undo+
    " (Ctrl+Z)","undo","","",'<div class="ico_undo"></div>'],redo:["",c.toolbar.redo+" (Ctrl+Y)","redo","","",'<div class="ico_redo"></div>'],preview:["",c.toolbar.preview,"preview","","",'<div class="ico_preview"></div>'],print:["",c.toolbar.print,"print","","",'<div class="ico_print"></div>']};for(var f=0;f<a.length;f++){for(var b=a[f],g=0;g<b.length;g++){var k=b[g];k="object"===typeof k?[k.className,k.title,k.dataCommand,k.dataDisplay,k.displayOption,k.innerHTML]:c[k];e+='<li>   <button type="button" class="btn_editor '+
    k[0]+'" title="'+k[1]+'" data-command="'+k[2]+'" data-display="'+k[3]+'" data-option="'+k[4]+'">'+k[5]+"   </button></li>"}e=e?'<div class="tool_module"><ul class="editor_tool">'+e+"</ul></div>":"";d+=e;e=null}return d}function B(a,d){"object"!==typeof d&&(d={});d.addFont=d.addFont||null;d.videoX=d.videoX||560;d.videoY=d.videoY||315;d.imageSize=d.imageSize||350;d.imageUploadUrl=d.imageUploadUrl||null;d.fontList=d.fontList||null;d.fontSizeList=d.fontSizeList||null;d.height=/^\d+/.test(d.height)?/^\d+$/.test(d.height)?
    d.height+"px":d.height:a.clientHeight+"px";d.buttonList=d.buttonList||[["undo","redo"],["font","fontSize","formats"],["bold","underline","italic","strike","removeFormat"],["fontColor","hiliteColor"],["indent","outdent"],["align","line","list","table"],["link","image","video"],["fullScreen","codeView"],["preview","print"]];d.width=/^\d+/.test(d.width)?/^\d+$/.test(d.width)?d.width+"px":d.width:/%|auto/.test(a.style.width)?a.style.width:a.clientWidth+"px";d.display=d.display||("none"!==a.style.display&&
a.style.display?a.style.display:"block");var e=document,c=e.createElement("DIV");c.className="sun-editor";c.id="suneditor_"+a.id;c.style.width=d.width;c.style.display=d.display;var f=e.createElement("DIV");f.className="sun-editor-container";var b=e.createElement("DIV");b.className="sun-editor-id-toolbar";b.innerHTML=A(d.buttonList);var g=e.createElement("DIV");g.className="sun-editor-id-editorArea";g.style.height=d.height;var k=e.createElement("IFRAME");k.allowFullscreen=!0;k.frameBorder=0;k.className=
    "input_editor sun-editor-id-wysiwyg";k.style.display="block";var u=e.createElement("TEXTAREA");u.className="input_editor html sun-editor-id-code";u.style.display="none";k.addEventListener("load",function(){this.setAttribute("scrolling","auto");this.contentWindow.document.head.innerHTML='<meta charset="utf-8" /><title>SunEditor</title><link rel="stylesheet" type="text/css" href="'+SUNEDITOR.func.getBasePath+'css/suneditor-contents.css">';this.contentWindow.document.body.className="sun-editor-editable";
    this.contentWindow.document.body.setAttribute("contenteditable",!0);this.contentWindow.document.body.innerHTML=0<a.value.length?"<p>"+a.value+"</p>":"<p>&#65279</p>"});var q=e.createElement("DIV");q.className="sun-editor-id-resizeBar";var n=e.createElement("DIV");n.className="sun-editor-id-loading";n.innerHTML='<div class="ico-loading"></div>';e=e.createElement("DIV");e.className="sun-editor-id-resize-background";g.appendChild(k);g.appendChild(u);f.appendChild(b);f.appendChild(g);f.appendChild(q);
    f.appendChild(e);f.appendChild(n);c.appendChild(f);return{constructed:{_top:c,_relative:f,_toolBar:b,_editorArea:g,_resizeBar:q,_loading:n,_resizeBack:e},options:d}}var C=SUNEDITOR.func={getXMLHttpRequest:function(){if(window.ActiveXObject)try{return new ActiveXObject("Msxml2.XMLHTTP")}catch(a){try{return new ActiveXObject("Microsoft.XMLHTTP")}catch(d){return null}}else return window.XMLHttpRequest?new XMLHttpRequest:null},copyObj:function(a){var d={},e;for(e in a)d[e]=a[e];return d},getBasePath:function(){var a=
        SUNEDITOR.SUNEDITOR_BASEPATH||"";if(!a)for(var d=document.getElementsByTagName("script"),e=0;e<d.length;e++){var c=d[e].src.match(/(^|.*[\\\/])suneditor(\.min)?\.js(?:\?.*|;.*)?$/i);if(c){a=c[1];break}}-1===a.indexOf(":/")&&"//"!==a.slice(0,2)&&(a=0===a.indexOf("/")?location.href.match(/^.*?:\/\/[^\/]*/)[0]+a:location.href.match(/^[^\?]*\/(?:)/)[0]+a);if(!a)throw'[SUNEDITOR.func.getBasePath.fail] The SUNEDITOR installation path could not be automatically detected. Please set the global variable "SUNEDITOR.SUNEDITOR_BASEPATH" before creating editor instances.';
        return a}(),includeFile:function(a,d,e){var c=document.createElement("script");c.type=a;c.src=d;c.onload=e;document.getElementsByTagName("head")[0].appendChild(c)}},D=SUNEDITOR.dom={getArrayIndex:function(a,d){for(var e=-1,c=a.length,f=0;f<c;f++)if(a[f]===d){e=f;break}return e},nextIdx:function(a,d){var e=this.getArrayIndex(a,d);return-1===e?-1:e+1},prevIdx:function(a,d){var e=this.getArrayIndex(a,d);return-1===e?-1:e-1},isCell:function(a){return a&&/^(?:TD|TH)$/i.test(a.nodeName)},getListChildren:function(a,
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        d){var e=[];d=d||function(){return!0};(function b(f){a!==f&&d(f)&&e.push(f);for(var g=0,k=f.children.length;g<k;g++)b(f.children[g])})(a);return e},getListChildNodes:function(a,d){var e=[];d=d||function(){return!0};(function b(a){d(a)&&e.push(a);for(var g=0,k=a.childNodes.length;g<k;g++)b(a.childNodes[g])})(a);return e},getParentNode:function(a,d){if(/\./.test(d)){var e="className";d=d.split(".")[1]}else/#/.test(d)?(e="id",d="^"+d.split("#")[1]+"$"):/:/.test(d)?(e="name",d="^"+d.split(":")[1]+"$"):
        (e="tagName",d="^"+d+"$");for(var c=new RegExp(d,"i");a&&(3===a.nodeType||!c.test(a[e]));){if(/^BODY$/i.test(a.tagName))return null;a=a.parentNode}return a},changeTxt:function(a,d){a&&d&&(a.textContent=d)},addClass:function(a,d){a&&!(new RegExp("(\\s|^)"+d+"(\\s|$)")).test(a.className)&&(a.className+=" "+d)},removeClass:function(a,d){a&&(a.className=a.className.replace(new RegExp("(\\s|^)"+d+"(\\s|$)")," ").trim())},toggleClass:function(a,d){if(a){var e=new RegExp("(\\s|^)"+d+"(\\s|$)");e.test(a.className)?
        a.className=a.className.replace(e," ").trim():a.className+=" "+d}},removeItem:function(a){try{a.remove()}catch(d){a.parentNode.removeChild(a)}}},F=function(a,d,e){var c=SUNEDITOR.editor={context:a,loadedPlugins:{},dialogForm:null,submenu:null,submenuActiveButton:null,controllerArray:[],commandMap:{FONT:a.tool.font,B:a.tool.bold,U:a.tool.underline,I:a.tool.italic,STRIKE:a.tool.strike,SIZE:a.tool.fontSize},_variable:{selectionNode:a.element.wysiwygWindow.document.body.firstChild,copySelection:null,
        wysiwygActive:!0,isFullScreen:!1,innerHeight_fullScreen:0,resizeClientY:0,tabSize:4,originCssText:a.element.topArea.style.cssText,editorHeight:a.user.height,isTouchMove:!1},callModule:function(b,a,c,d){var g=e.getBasePath+"plugins/"+b;if("dialog"===b){var k=this._callBack_addModule.bind(this,"dialog","dialog",c,this.callModule.bind(this,b,a,c,d));if(!SUNEDITOR.plugin.dialog){e.includeFile("text/javascript",g+"/dialog.js",k);return}if(!this.loadedPlugins.dialog){k();return}}SUNEDITOR.plugin[a]?this.loadedPlugins[a]?
        "function"===typeof d&&d():this._callBack_addModule(b,a,c,d):e.includeFile("text/javascript",g+"/"+a+".js",this._callBack_addModule.bind(this,b,a,c,d))},_callBack_addModule:function(b,a,c,d){this.context[b]||(this.context[b]={});SUNEDITOR.plugin[a].add(this,c);this.loadedPlugins[a]=!0;"function"===typeof d&&d()},submenuOn:function(b){this.submenu=b.nextElementSibling;this.submenu.style.display="block";SUNEDITOR.dom.addClass(b,"on");this.submenuActiveButton=b},submenuOff:function(){this.submenu&&(this.submenu.style.display=
        "none",this.submenu=null,SUNEDITOR.dom.removeClass(this.submenuActiveButton,"on"),this.submenuActiveButton=null);this.controllersOff()},controllersOff:function(){var b=this.controllerArray.length;if(0<b){for(var a=0;a<b;a++)this.controllerArray[a].style.display="none";this.controllerArray=[]}},execCommand:function(b,g,c){a.element.wysiwygWindow.document.execCommand(b,g,c)},focus:function(){var b=SUNEDITOR.dom.getParentNode(this._variable.selectionNode,"figcaption");b?b.focus():a.element.wysiwygWindow.document.body.focus()},
    isEdgePoint:function(b,a){return 0===a||a===b.nodeValue.length},createRange:function(){return a.element.wysiwygWindow.document.createRange()},getSelection:function(){return a.element.wysiwygWindow.getSelection()},getSelectionNode:function(){return this.getSelection().extentNode||this.getSelection().anchorNode},getRange:function(){var b=this.getSelection();if(0<b.rangeCount)var a=b.getRangeAt(0);else b=this._variable.copySelection,a=this.createRange(),a.setStart(b.anchorNode,b.anchorOffset),a.setEnd(b.focusNode,
        b.focusOffset);return a},setRange:function(b,a,c,d){var g=this.createRange();g.setStart(b,a);g.setEnd(c,d);b=this.getSelection();0<b.rangeCount&&b.removeAllRanges();b.addRange(g)},showLoading:function(){a.element.loading.style.display="block"},closeLoading:function(){a.element.loading.style.display="none"},getLineElement:function(b){for(;!/^BODY$/i.test(b.parentNode.tagName);)b=b.parentNode;return b},appendP:function(b){b=this.getLineElement(b);var a=document.createElement("P");a.innerHTML="&#65279";
        b.parentNode.insertBefore(a,b.nextElementSibling)},insertNode:function(b,a){if(a){var c=a.parentNode;a=a.nextSibling}else{var d=this.getSelection();c=this.getRange();var g=c.startContainer,e=c.startOffset,f=c.endContainer,p=c.endOffset;c=g;3===g.nodeType&&(c=g.parentNode);if(g===f&&e===p)d.focusNode&&3===d.focusNode.nodeType?a=d.focusNode.splitText(p):(null!==c.lastChild&&/^BR$/i.test(c.lastChild.nodeName)&&c.removeChild(c.lastChild),a=null);else{var r=g;if(g===f)this.isEdgePoint(f,p)||(a=f.splitText(p)),
    this.isEdgePoint(g,e)||(r=g.splitText(e)),c.removeChild(r);else for(d.deleteFromDocument?d.deleteFromDocument():this.removeNode(),a=f;1!==a.nodeType;)a=a.parentNode}}try{c.insertBefore(b,a)}catch(x){c.appendChild(b)}},removeNode:function(){var b=this.getRange(),a=b.startContainer,c=b.startOffset,e=b.endContainer,f=b.endOffset;b=d.getListChildNodes(b.commonAncestorContainer);var n=d.getArrayIndex(b,a);var m=d.getArrayIndex(b,e),p,r=a;for(p=n+1;0<=p;p--)b[p]===r.parentNode&&b[p].firstChild===r&&0===
    c&&(n=p,r=r.parentNode);r=e;for(p=m-1;p>n;p--)b[p]===r.parentNode&&1===b[p].nodeType&&(b.splice(p,1),r=r.parentNode,--m);for(p=n;p<=m;p++)n=b[p],0===n.length||3===n.nodeType&&void 0===n.data?d.removeItem(n):n===a?(n=1===a.nodeType?document.createTextNode(a.textContent):document.createTextNode(a.substringData(0,c)),0<n.length?a.data=n.data:d.removeItem(a)):n===e?(n=1===e.nodeType?document.createTextNode(e.textContent):document.createTextNode(e.substringData(f,e.length-f)),0<n.length?e.data=n.data:
        d.removeItem(e)):d.removeItem(n)},wrapRangeToTag:function(a,c){var b=this.getRange(),d=b.startContainer,g=b.startOffset,e=b.endContainer,f=b.endOffset,p=b.commonAncestorContainer;b={};var r={};if(c){var x="(?:;|^|\\s)(?:"+c[0];for(t=1;t<c.length;t++)x+="|"+c[t];x+=")\\s*:[^;]*\\s*(?:;|$)";x=new RegExp(x,"gi")}if(d===e){var h=a.cloneNode(!1);if(g===f)h.innerHTML="&nbsp;",d.parentNode.insertBefore(h,d.nextSibling);else{e=document.createTextNode(d.substringData(0,g));var v=document.createTextNode(d.substringData(f,
        d.length-f));h.innerText=d.substringData(g,f-g);d.parentNode.insertBefore(h,d.nextSibling);d.data=0<e.data.length?e.data:d.substringData(0,g);0<v.data.length&&d.parentNode.insertBefore(v,h.nextSibling)}b.container=h;b.offset=0;r.container=h;r.offset=1}else if(v=function(b){if(3===b.nodeType)return!0;var c="";x&&0<b.style.cssText.length&&(c=b.style.cssText.replace(x,"").trim());return b.nodeName!==a.nodeName||0<c.length?(0<b.style.cssText.length&&(b.style.cssText=c),!0):!1},/BODY/i.test(p.nodeName)){r=
        SUNEDITOR.dom.getListChildren(p,function(b){return/^P$/i.test(b.nodeName)});p=SUNEDITOR.dom.getParentNode(d,"P");var z=SUNEDITOR.dom.getParentNode(e,"P"),t=0;for(b=r.length;t<b;t++)if(p===r[t])p=t;else if(z===r[t]){z=t;break}h=a.cloneNode(!1);b=this._wrapLineNodesStart(r[p],h,v,d,g);for(t=p+1;t<z;t++)h=a.cloneNode(!1),this._wrapLineNodes(r[t],h,v);h=a.cloneNode(!1);r=this._wrapLineNodesEnd(r[z],h,v,e,f)}else h=a.cloneNode(!1),d=this._wrapLineNodesPart(p,h,v,d,g,e,f),b.container=d.startContainer,b.offset=
        d.startOffset,r.container=d.endContainer,r.offset=d.endOffset;this.setRange(b.container,b.offset,r.container,r.offset)},_wrapLineNodesPart:function(b,a,c,d,e,f,m){var g=d,k=e,n=f,h=m,q=!1,u=!1,t,l,w,y=[];(function E(d,e){for(var f=d.childNodes,p=0,r=f.length;p<r&&!u;p++){var m=f[p];if(q&&m!==n&&3===m.nodeType){l=m;for(t=[];l!==b&&null!==l;)c(l)&&1===l.nodeType&&t.push(l.cloneNode(!1)),l=l.parentNode;if(0<t.length){for(w=l=t.pop();0<t.length;)l=t.pop(),w.appendChild(l);a.appendChild(w);e=l}else e=
        a;e.appendChild(m.cloneNode(!1));y.push(m)}if(m===g){var x=document.createTextNode(g.substringData(0,k)),v=document.createTextNode(g.substringData(k,g.length-k));0<x.length?g.data=x.data:y.push(g);l=m;for(t=[];l!==b&&null!==l;)c(l)&&1===l.nodeType&&t.push(l.cloneNode(!1)),l=l.parentNode;for(w=l=t.pop()||m;0<t.length;)l=t.pop(),w.appendChild(l);w!==m?(a.appendChild(w),e=l):e=a;g=v;k=0;e.appendChild(g);q=!0}else{if(m===n){f=document.createTextNode(n.substringData(h,n.length-h));p=document.createTextNode(n.substringData(0,
        h));r=l=m;for(t=[];l!==b&&null!==l;)c(l)&&1===l.nodeType&&t.push(l.cloneNode(!1)),r=l,l=l.parentNode;for(w=l=t.pop()||m;0<t.length;)l=t.pop(),w.appendChild(l);w!==m?(a.appendChild(w),e=l):e=a;0<f.length?n.data=f.data:y.push(n);n=p;h=p.length;e.appendChild(n);for(b.insertBefore(a,r);0<y.length;){m=y.pop();for(m.data="";m.parentNode&&0===m.parentNode.innerText.length;)m=m.parentNode;SUNEDITOR.dom.removeItem(m)}u=!0;break}E(m)}}})(b);return{startContainer:g,startOffset:k,endContainer:n,endOffset:h}},
    _wrapLineNodes:function(a,c,d){(function m(a,b){for(var c=a.childNodes,g=0,e=c.length;g<e;g++){var f=c[g],k=b;if(d(f)){var n=f.cloneNode(!1);b.appendChild(n);1===f.nodeType&&(k=n)}m(f,k)}})(a,c);a.innerHTML="";a.appendChild(c)},_wrapLineNodesStart:function(a,c,d,e,f){var b=e,g=f,k=document.createElement("P"),r=!1,u,h,q;(function w(e,f){for(var n=e.childNodes,m=0,p=n.length;m<p;m++){var l=n[m],t=f;if(r){if(1===l.nodeType){w(l,l);continue}h=l;for(u=[];null!==h.parentNode&&h!==a&&h!==c;)d(h)&&1===h.nodeType&&
    u.push(h.cloneNode(!1)),h=h.parentNode;if(0<u.length){for(q=h=u.pop();0<u.length;)h=u.pop(),q.appendChild(h);c.appendChild(q);f=h}else f=c}if(r||l!==b){if(!r||d(l)){var x=l.cloneNode(!1);f.appendChild(x);1===l.nodeType&&(t=x)}w(l,t)}else{l=document.createTextNode(b.substringData(0,g));t=document.createTextNode(b.substringData(g,b.length-g));0<l.data.length&&f.appendChild(l);h=f;for(u=[];h!==k&&null!==h;)d(h)&&1===h.nodeType&&u.push(h.cloneNode(!1)),h=h.parentNode;for(q=h=u.pop()||f;0<u.length;)h=
        u.pop(),q.appendChild(h);q!==f?(c.appendChild(q),f=h):f=c;k.appendChild(c);b=t;g=0;r=!0;f.appendChild(b)}}})(a,k);a.parentNode.insertBefore(k,a);SUNEDITOR.dom.removeItem(a);return{container:b,offset:g}},_wrapLineNodesEnd:function(a,c,d,e,f){var b=e,g=f,k=document.createElement("P"),u=!1,q,h,v;(function w(e,f){for(var n=e.childNodes,m=n.length-1;0<=m;m--){var l=n[m],p=f;if(u){if(1===l.nodeType){w(l,l);continue}h=l;for(q=[];null!==h.parentNode&&h!==a&&h!==c;)d(h)&&1===h.nodeType&&q.push(h.cloneNode(!1)),
        h=h.parentNode;if(0<q.length){for(v=h=q.pop();0<q.length;)h=q.pop(),v.insertBefore(h,v.firstChild);c.insertBefore(v,c.firstChild);f=h}else f=c}if(u||l!==b){if(!u||d(l)){var r=l.cloneNode(!1);f.insertBefore(r,f.firstChild);1===l.nodeType&&(p=r)}w(l,p)}else{l=document.createTextNode(b.substringData(g,b.length-g));p=document.createTextNode(b.substringData(0,g));0<l.data.length&&f.insertBefore(l,f.firstChild);h=f;for(q=[];h!==k&&null!==h;)d(h)&&1===h.nodeType&&q.push(h.cloneNode(!1)),h=h.parentNode;for(v=
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    h=q.pop()||f;0<q.length;)h=q.pop(),v.insertBefore(h,v.firstChild);v!==f?(c.insertBefore(v,c.firstChild),f=h):f=c;k.insertBefore(c,k.firstChild);b=p;g=p.data.length;u=!0;f.insertBefore(b,f.firstChild)}}})(a,k);a.parentNode.insertBefore(k,a);SUNEDITOR.dom.removeItem(a);return{container:b,offset:g}},indent:function(a,c){var b=SUNEDITOR.dom.getParentNode(a,"P");if(b){var d=/\d+/.test(b.style.marginLeft)?1*b.style.marginLeft.match(/\d+/)[0]:0;d="indent"===c?d+25:d-25;b.style.marginLeft=(0>d?0:d)+"px"}},
    toggleFrame:function(){if(this._variable.wysiwygActive)a.element.code.value=a.element.wysiwygWindow.document.body.innerHTML.trim().replace(/<\/p>(?=[^\n])/gi,"</p>\n"),a.element.wysiwygElement.style.display="none",a.element.code.style.display="block",this._variable.wysiwygActive=!1;else{var b={"&amp;":"&","&nbsp;":"\u00a0","&lt;":"<","&gt;":">"},c=a.element.code.value.replace(/&[a-z]+;/g,function(a){return"string"===typeof b[a]?b[a]:a});a.element.wysiwygWindow.document.body.innerHTML=0<c.trim().length?
        c:"<p>&#65279</p>";a.element.wysiwygWindow.document.body.scrollTop=0;a.element.code.style.display="none";a.element.wysiwygElement.style.display="block";this._variable.wysiwygActive=!0}},toggleFullScreen:function(b){this._variable.isFullScreen?(a.element.topArea.style.cssText=this._variable.originCssText,a.element.editorArea.style.height=this._variable.editorHeight+"px",d.removeClass(b.firstElementChild,"ico_full_screen_i"),d.addClass(b.firstElementChild,"ico_full_screen_e")):(a.element.topArea.style.position=
        "fixed",a.element.topArea.style.top="0",a.element.topArea.style.left="0",a.element.topArea.style.width="100%",a.element.topArea.style.height="100%",this._variable.innerHeight_fullScreen=window.innerHeight-a.tool.bar.offsetHeight,a.element.editorArea.style.height=this._variable.innerHeight_fullScreen+"px",d.removeClass(b.firstElementChild,"ico_full_screen_e"),d.addClass(b.firstElementChild,"ico_full_screen_i"));this._variable.isFullScreen=!this._variable.isFullScreen},preview:function(){var b=window.open("",
        "_blank");b.mimeType="text/html";b.document.head.innerHTML='<meta charset="utf-8" /><title>'+SUNEDITOR.lang.toolbar.preview+'</title><link rel="stylesheet" type="text/css" href="'+SUNEDITOR.func.getBasePath+'css/suneditor-contents.css">';b.document.body.className="sun-editor-editable";b.document.body.innerHTML=a.element.wysiwygWindow.document.body.innerHTML}},f={_shortcutKeyCode:{66:["bold","B"],83:["strikethrough","STRIKE"],85:["underline","U"],73:["italic","I"],89:["redo"],90:["undo"],219:["outdent"],
        221:["indent"]},_directionKeyKeyCode:/^(?:8|13|32|46|33|34|35|36|37|38|39|40|98|100|102|104)$/,_findButtonEffectTag:function(){for(var b=c._variable.selectionNode,g=!0,f=!0,e=!0,q="B|U|I|STRIKE|FONT|SIZE|",n=new RegExp(q,"i"),m;!/^(?:P|BODY|HTML|DIV)$/i.test(b.nodeName);){if(3!==b.nodeType){var p=[/^STRONG$/.test(b.nodeName)?"B":/^EM/.test(b.nodeName)?"I":b.nodeName];g&&1===b.nodeType&&(0<b.style.fontFamily.length||b.face&&0<b.face.length)&&(p.push("FONT"),g=(b.style.fontFamily||b.face||SUNEDITOR.lang.toolbar.font).replace(/["']/g,
        ""),d.changeTxt(c.commandMap.FONT,g),g=!1,q=q.replace("FONT|",""),n=new RegExp(q,"i"));if(e&&/^A$/i.test(b.nodeName)&&null===b.getAttribute("data-image-link")){if(!a.link||c.controllerArray[0]!==a.link.linkBtn){var r=b;c.callModule("dialog","link",null,function(){SUNEDITOR.plugin.link.call_controller_linkButton.call(c,r)})}e=!1}else e&&a.link&&c.controllerArray[0]===a.link.linkBtn&&c.controllersOff();f&&0<b.style.fontSize.length&&(d.changeTxt(c.commandMap.SIZE,b.style.fontSize.match(/\d+/)[0]),f=
        !1,q=q.replace("SIZE|",""),n=new RegExp(q,"i"));m=b.style.cssText;/:\s*bold(?:;|\s)/.test(m)&&p.push("B");/:\s*underline(?:;|\s)/.test(m)&&p.push("U");/:\s*italic(?:;|\s)/.test(m)&&p.push("I");/:\s*line-through(?:;|\s)/.test(m)&&p.push("STRIKE");for(m=0;m<p.length;m++)n.test(p[m])&&(d.addClass(c.commandMap[p[m]],"on"),q=q.replace(p[m]+"|",""),n=new RegExp(q,"i"))}b=b.parentNode}e&&c.controllersOff();q=q.split("|");b=q.length-1;for(m=0;m<b;m++)/^FONT/i.test(q[m])?d.changeTxt(c.commandMap[q[m]],SUNEDITOR.lang.toolbar.font):
        /^SIZE$/i.test(q[m])?d.changeTxt(c.commandMap[q[m]],SUNEDITOR.lang.toolbar.fontSize):d.removeClass(c.commandMap[q[m]],"on")},resize_window:function(){c._variable.isFullScreen&&(c._variable.innerHeight_fullScreen+=window.innerHeight-a.tool.bar.offsetHeight-c._variable.innerHeight_fullScreen,a.element.editorArea.style.height=c._variable.innerHeight_fullScreen+"px")},touchstart_toolbar:function(){c._variable.isTouchMove=!1},touchmove_toolbar:function(){c._variable.isTouchMove=!0},onClick_toolbar:function(b){if(c._variable.isTouchMove)return!0;
        for(var g=b.target,f=g.getAttribute("data-display"),e=g.getAttribute("data-command"),q=g.className;!e&&!/editor_tool/.test(q)&&!/sun-editor-id-toolbar/.test(q);)g=g.parentNode,e=g.getAttribute("data-command"),f=g.getAttribute("data-display"),q=g.className;if(!e&&!f)return!0;b.preventDefault();b.stopPropagation();c.focus();if(f)b=c.submenu,c.submenuOff(),!/submenu/.test(f)||null!==g.nextElementSibling&&g.nextElementSibling===b?/dialog/.test(f)&&c.callModule("dialog",e,null,function(){SUNEDITOR.plugin.dialog.openDialog.call(c,
            e,g.getAttribute("data-option"))}):c.callModule("submenu",e,g,function(){c.submenuOn(g)});else{if(e)switch(f=g.getAttribute("data-value"),e){case "codeView":c.toggleFrame();d.toggleClass(g,"on");break;case "fullScreen":c.toggleFullScreen(g);d.toggleClass(g,"on");break;case "indent":case "outdent":c.indent(c._variable.selectionNode,e);break;case "redo":case "undo":case "removeFormat":c.execCommand(e,!1,null);break;case "preview":c.preview();break;case "print":a.element.wysiwygWindow.print();break;
            default:c.execCommand(e,!1,f),d.toggleClass(g,"on")}c.submenuOff()}},onMouseUp_wysiwyg:function(a){a.stopPropagation();var b=a.target;c.submenuOff();/^HTML$/i.test(b.nodeName)?(a.preventDefault(),c.focus()):/^IMG$/i.test(b.nodeName)?c.callModule("dialog","image",null,function(){SUNEDITOR.plugin.image._call_controller_imageResize.call(c,b)}):f._findButtonEffectTag()},onKeyDown_wysiwyg:function(b){c._variable.copySelection=e.copyObj(c.getSelection());var g=c.getRange();c._variable.selectionNode=g.startContainer!==
    g.endContainer?g.startContainer:c.getSelectionNode();var k=b.keyCode;g=b.shiftKey;var u=b.ctrlKey||b.metaKey,q=b.altKey;b.stopPropagation();if(u&&!/^(?:16|17|18)$/.test(k)){var n;if(n=!(g&&83!==k))(n=f._shortcutKeyCode[k])?(c.execCommand(n[0],!1,null),d.toggleClass(c.commandMap[n[1]],"on"),n=!0):n=!1;if(n){b.preventDefault();return}}switch(k){case 8:if(/^P$/i.test(c._variable.selectionNode.tagName)&&null===c._variable.selectionNode.previousSibling)return b.preventDefault(),!1;break;case 9:if(b.preventDefault(),
        !u&&!q){for(b=c._variable.selectionNode||c.getSelection().anchorNode;!/^TD$/i.test(b.tagName)&&!/^BODY$/i.test(b.tagName);)b=b.parentNode;if(b&&/^TD$/i.test(b.tagName)){k=d.getParentNode(b,"table");k=d.getListChildren(k,d.isCell);b=g?d.prevIdx(k,b):d.nextIdx(k,b);b!==k.length||g||(b=0);-1===b&&g&&(b=k.length-1);b=k[b];if(!b)return!1;g=c.createRange();g.setStart(b,0);g.setEnd(b,0);b=c.getSelection();0<b.rangeCount&&b.removeAllRanges();b.addRange(g)}else g||(g=a.element.wysiwygWindow.document.createTextNode(Array(c._variable.tabSize+
        1).join("\u00a0")),c.insertNode(g,null),b=c.getSelection(),k=c.createRange(),k.setStart(g,c._variable.tabSize),k.setEnd(g,c._variable.tabSize),0<b.rangeCount&&b.removeAllRanges(),b.addRange(k))}}},onKeyUp_wysiwyg:function(a){f._directionKeyKeyCode.test(a.keyCode)&&f._findButtonEffectTag()},onScroll_wysiwyg:function(){c.controllersOff()},onMouseDown_resizeBar:function(b){function d(){a.element.resizeBackground.style.display="none";document.removeEventListener("mousemove",f.resize_editor);document.removeEventListener("mouseup",
        d)}b.stopPropagation();c._variable.resizeClientY=b.clientY;a.element.resizeBackground.style.display="block";document.addEventListener("mousemove",f.resize_editor);document.addEventListener("mouseup",d)},resize_editor:function(b){var d=b.clientY-c._variable.resizeClientY;a.element.editorArea.style.height=a.element.editorArea.offsetHeight+d+"px";c._variable.editorHeight=a.element.editorArea.offsetHeight+d;c._variable.resizeClientY=b.clientY}};a.tool.bar.addEventListener("touchstart",f.touchstart_toolbar);
    a.tool.bar.addEventListener("touchmove",f.touchmove_toolbar);a.tool.bar.addEventListener("touchend",f.onClick_toolbar);a.tool.bar.addEventListener("click",f.onClick_toolbar);a.element.wysiwygWindow.addEventListener("mouseup",f.onMouseUp_wysiwyg);a.element.wysiwygWindow.addEventListener("keydown",f.onKeyDown_wysiwyg);a.element.wysiwygWindow.addEventListener("keyup",f.onKeyUp_wysiwyg);a.element.wysiwygWindow.addEventListener("scroll",f.onScroll_wysiwyg);a.element.resizebar.addEventListener("mousedown",
        f.onMouseDown_resizeBar);window.addEventListener("resize",f.resize_window);return{save:function(){a.element.textElement.innerHTML=c._variable.wysiwygActive?a.element.wysiwygWindow.document.body.innerHTML:a.element.code.value},getContent:function(){return c._variable.wysiwygActive?a.element.wysiwygWindow.document.body.innerHTML:a.element.code.value},setContent:function(b){c._variable.wysiwygActive?a.element.wysiwygWindow.document.body.innerHTML=b:a.element.code.value=b},appendContent:function(b){if(c._variable.wysiwygActive){var d=
            document.createElement("P");d.innerHTML=b;a.element.wysiwygWindow.document.body.appendChild(d)}else a.element.code.value+=b},disabled:function(){a.tool.cover.style.display="block";a.element.wysiwygWindow.document.body.setAttribute("contenteditable",!1)},enabled:function(){a.tool.cover.style.display="none";a.element.wysiwygWindow.document.body.setAttribute("contenteditable",!0)},show:function(){var b=a.element.topArea.style;b.cssText=c._variable.originCssText;"none"===b.display&&(b.display="block")},
        hide:function(){a.element.topArea.style.display="none"},destroy:function(){a.element.topArea.parentNode.removeChild(a.element.topArea);a.element.textElement.style.display="";this.destroy=this.hide=this.show=this.enabled=this.disabled=this.appendContent=this.setContent=this.getContent=this.save=null}}};SUNEDITOR.lang=SUNEDITOR.lang||SUNEDITOR.defaultLang;SUNEDITOR.create=function(a,d){var e=document.getElementById(a);if(null===e)throw Error('[SUNEDITOR.create.fail] The element for that id was not found (ID:"'+
    a+'")');var c=B(e,d);if(document.getElementById(c.constructed._top.id))throw Error('[SUNEDITOR.create.fail] The ID of the suneditor you are trying to create already exists (ID:"'+c.constructed._top.id+'")');"object"===typeof e.nextElementSibling?e.parentNode.insertBefore(c.constructed._top,e.nextElementSibling):e.parentNode.appendChild(c.constructed._top);e.style.display="none";var f=c.constructed;c=c.options;e={element:{textElement:e,topArea:f._top,relative:f._relative,resizebar:f._resizeBar,editorArea:f._editorArea,
        wysiwygWindow:f._editorArea.getElementsByClassName("sun-editor-id-wysiwyg")[0].contentWindow,wysiwygElement:f._editorArea.getElementsByClassName("sun-editor-id-wysiwyg")[0],code:f._editorArea.getElementsByClassName("sun-editor-id-code")[0],loading:f._loading,resizeBackground:f._resizeBack},tool:{bar:f._toolBar,cover:f._toolBar.getElementsByClassName("sun-editor-id-toolbar-cover")[0],bold:f._toolBar.getElementsByClassName("sun-editor-id-bold")[0],underline:f._toolBar.getElementsByClassName("sun-editor-id-underline")[0],
        italic:f._toolBar.getElementsByClassName("sun-editor-id-italic")[0],strike:f._toolBar.getElementsByClassName("sun-editor-id-strike")[0],font:f._toolBar.getElementsByClassName("sun-editor-font-family")[0],fontSize:f._toolBar.getElementsByClassName("sun-editor-font-size")[0]},user:{videoX:c.videoX,videoY:c.videoY,imageSize:c.imageSize,imageUploadUrl:c.imageUploadUrl,addFont:c.addFont,fontList:c.fontList,fontSizeList:c.fontSizeList,height:c.height.match(/\d+/)[0]}};return F(e,D,C)};SUNEDITOR.destroy=
    function(a){var d=document.getElementById("suneditor_"+a);d.parentNode.removeChild(d);document.getElementById(a).style.display=""}})();