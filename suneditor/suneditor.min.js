"undefined"===typeof window.SUNEDITOR&&(window.SUNEDITOR={},SUNEDITOR.plugin={});
SUNEDITOR.defaultLang={toolbar:{font:"Font",formats:"Formats",fontSize:"Size",bold:"Bold",underline:"Underline",italic:"Italic",strike:"Strike",removeFormat:"Remove Format",fontColor:"Font Color",hiliteColor:"Hilite Color",indent:"Indent",outdent:"Outdent",align:"Align",alignLeft:"Align left",alignRight:"Align right",alignCenter:"Align center",justifyFull:"Justify full",list:"list",orderList:"Ordered list",unorderList:"Unordered list",line:"Line",table:"Table",link:"Link",image:"Image",video:"Video",
        fullScreen:"Full Screen",codeView:"Code View",undo:"Undo",redo:"Redo",preview:"Preview",print:"print"},dialogBox:{linkBox:{title:"Insert Link",url:"URL to link",text:"Text to display",newWindowCheck:"Open in new window"},imageBox:{title:"Insert Image",file:"Select from files",url:"Image URL",resize100:"resize 100%",resize75:"resize 75%",resize50:"resize 50%",resize25:"resize 25%",remove:"remove image"},videoBox:{title:"Insert Video",url:"Media embed URL, YouTube",width:"Width",height:"Height"},submitButton:"Submit"},
    editLink:{edit:"Edit",remove:"Remove"}};
(function(u){function B(a){var e='<div class="sun-editor-id-toolbar-cover"></div>',g=null;var c=u.lang=u.lang?u.lang:u.defaultLang;c={font:["btn_font",c.toolbar.font,"font","submenu","",'<span class="txt sun-editor-font-family">'+c.toolbar.font+'</span><span class="ico_more"></span>'],formats:["btn_format",c.toolbar.formats,"formatBlock","submenu","",'<span class="txt">'+c.toolbar.formats+'</span><span class="ico_more"></span>'],fontSize:["btn_size",c.toolbar.fontSize,"fontSize","submenu","",'<span class="txt sun-editor-font-size">'+
    c.toolbar.fontSize+'</span><span class="ico_more"></span>'],bold:["sun-editor-id-bold",c.toolbar.bold+"(Ctrl+B)","bold","","",'<div class="ico_bold"></div>'],underline:["sun-editor-id-underline",c.toolbar.underline+"(Ctrl+U)","underline","","",'<div class="ico_underline"></div>'],italic:["sun-editor-id-italic",c.toolbar.italic+"(Ctrl+I)","italic","","",'<div class="ico_italic"></div>'],strike:["sun-editor-id-strike",c.toolbar.strike+"(Ctrl+SHIFT+S)","strikethrough","","",'<div class="ico_strike"></div>'],
    removeFormat:["",c.toolbar.removeFormat+"","removeFormat","","",'<div class="ico_erase"></div>'],fontColor:["",c.toolbar.fontColor,"foreColor","submenu","",'<div class="ico_foreColor"></div>'],hiliteColor:["",c.toolbar.hiliteColor,"hiliteColor","submenu","",'<div class="ico_hiliteColor"></div>'],indent:["",c.toolbar.indent+"(Ctrl + [)","indent","","",'<div class="ico_indnet"></div>'],outdent:["",c.toolbar.outdent+"(Ctrl + ])","outdent","","",'<div class="ico_outdent"></div>'],align:["btn_align",c.toolbar.align,
        "align","submenu","",'<div class="ico_align"></div>'],list:["",c.toolbar.list,"list","submenu","",'<div class="ico_list_num"></div>'],line:["btn_line",c.toolbar.line,"horizontalRules","submenu","",'<hr style="border-width: 1px 0 0; border-style: solid none none; border-color: black; border-image: initial; height: 1px;" /><hr style="border-width: 1px 0 0; border-style: dotted none none; border-color: black; border-image: initial; height: 1px;" /><hr style="border-width: 1px 0 0; border-style: dashed none none; border-color: black; border-image: initial; height: 1px;" />'],
    table:["",c.toolbar.table,"table","submenu","",'<div class="ico_table"></div>'],link:["",c.toolbar.link,"link","dialog","",'<div class="ico_url"></div>'],image:["",c.toolbar.image,"image","dialog","",'<div class="ico_picture"></div>'],video:["",c.toolbar.video,"video","dialog","",'<div class="ico_video"></div>'],fullScreen:["",c.toolbar.fullScreen,"fullScreen","","",'<div class="ico_full_screen_e"></div>'],codeView:["",c.toolbar.codeView,"codeView","","",'<div class="ico_html"></div>'],undo:["",c.toolbar.undo+
    " (Ctrl+Z)","undo","","",'<div class="ico_undo"></div>'],redo:["",c.toolbar.redo+" (Ctrl+Y)","redo","","",'<div class="ico_redo"></div>'],preview:["",c.toolbar.preview,"preview","","",'<div class="ico_preview"></div>'],print:["",c.toolbar.print,"print","","",'<div class="ico_print"></div>']};for(var f=0;f<a.length;f++){for(var b=a[f],d=0;d<b.length;d++){var r=b[d];r="object"===typeof r?[r.className,r.title,r.dataCommand,r.dataDisplay,r.displayOption,r.innerHTML]:c[r];g+='<li>   <button type="button" class="btn_editor '+
    r[0]+'" title="'+r[1]+'" data-command="'+r[2]+'" data-display="'+r[3]+'" data-option="'+r[4]+'">'+r[5]+"   </button></li>"}g=g?'<div class="tool_module"><ul class="editor_tool">'+g+"</ul></div>":"";e+=g;g=null}return e}function C(a,e){"object"!==typeof e&&(e={});e.addFont=e.addFont||null;e.videoX=e.videoX||560;e.videoY=e.videoY||315;e.imageSize=e.imageSize||"350px";e.imageUploadUrl=e.imageUploadUrl||null;e.fontList=e.fontList||null;e.fontSizeList=e.fontSizeList||null;e.height=/^\d+/.test(e.height)?
    /^\d+$/.test(e.height)?e.height+"px":e.height:a.clientHeight+"px";e.buttonList=e.buttonList||[["undo","redo"],["font","fontSize","formats"],["bold","underline","italic","strike","removeFormat"],["fontColor","hiliteColor"],["indent","outdent"],["align","line","list","table"],["link","image","video"],["fullScreen","codeView"],["preview","print"]];e.width=/^\d+/.test(e.width)?/^\d+$/.test(e.width)?e.width+"px":e.width:/%|auto/.test(a.style.width)?a.style.width:a.clientWidth+"px";e.display=e.display||
    ("none"!==a.style.display&&a.style.display?a.style.display:"block");var g=document,c=g.createElement("DIV");c.className="sun-editor";c.id="suneditor_"+a.id;c.style.width=e.width;c.style.display=e.display;var f=g.createElement("DIV");f.className="sun-editor-container";var b=g.createElement("DIV");b.className="sun-editor-id-toolbar";b.innerHTML=B(e.buttonList);var d=g.createElement("DIV");d.className="sun-editor-id-editorArea";d.style.height=e.height;var r=g.createElement("IFRAME");r.allowFullscreen=
    !0;r.frameBorder=0;r.className="input_editor sun-editor-id-wysiwyg";r.style.display="block";var l=g.createElement("TEXTAREA");l.className="input_editor html sun-editor-id-code";l.style.display="none";r.addEventListener("load",function(){this.setAttribute("scrolling","auto");this.contentWindow.document.head.innerHTML='<meta charset="utf-8" /><title>SunEditor</title><link rel="stylesheet" type="text/css" href="'+u.func.getBasePath+'css/suneditor-contents.css">';this.contentWindow.document.body.className=
    "sun-editor-editable";this.contentWindow.document.body.setAttribute("contenteditable",!0);this.contentWindow.document.body.innerHTML=0<a.value.length?"<p>"+a.value+"</p>":"<p>&#65279</p>"});var q=g.createElement("DIV");q.className="sun-editor-id-resizeBar";var x=g.createElement("DIV");x.className="sun-editor-id-loading";x.innerHTML='<div class="ico-loading"></div>';g=g.createElement("DIV");g.className="sun-editor-id-resize-background";d.appendChild(r);d.appendChild(l);f.appendChild(b);f.appendChild(d);
    f.appendChild(q);f.appendChild(g);f.appendChild(x);c.appendChild(f);return{constructed:{_top:c,_relative:f,_toolBar:b,_editorArea:d,_resizeBar:q,_loading:x,_resizeBack:g},options:e}}var D=u.func={getXMLHttpRequest:function(){if(window.ActiveXObject)try{return new ActiveXObject("Msxml2.XMLHTTP")}catch(a){try{return new ActiveXObject("Microsoft.XMLHTTP")}catch(e){return null}}else return window.XMLHttpRequest?new XMLHttpRequest:null},copyObj:function(a){var e={},g;for(g in a)e[g]=a[g];return e},getBasePath:function(){var a=
        u.SUNEDITOR_BASEPATH||"";if(!a)for(var e=document.getElementsByTagName("script"),g=0;g<e.length;g++){var c=e[g].src.match(/(^|.*[\\\/])suneditor(\.min)?\.js(?:\?.*|;.*)?$/i);if(c){a=c[1];break}}-1===a.indexOf(":/")&&"//"!==a.slice(0,2)&&(a=0===a.indexOf("/")?location.href.match(/^.*?:\/\/[^\/]*/)[0]+a:location.href.match(/^[^\?]*\/(?:)/)[0]+a);if(!a)throw'[SUNEDITOR.func.getBasePath.fail] The SUNEDITOR installation path could not be automatically detected. Please set the global variable "SUNEDITOR.SUNEDITOR_BASEPATH" before creating editor instances.';
        return a}(),includeFile:function(a,e,g){var c=document.createElement("script");c.type=a;c.src=e;c.onload=g;document.getElementsByTagName("head")[0].appendChild(c)}},E=u.dom={getArrayIndex:function(a,e){for(var g=-1,c=a.length,f=0;f<c;f++)if(a[f]===e){g=f;break}return g},nextIdx:function(a,e){var g=this.getArrayIndex(a,e);return-1===g?-1:g+1},prevIdx:function(a,e){var g=this.getArrayIndex(a,e);return-1===g?-1:g-1},isCell:function(a){return a&&/^(?:TD|TH)$/i.test(a.nodeName)},getListChildren:function(a,
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                e){var g=[];e=e||function(){return!0};(function b(f){a!==f&&e(f)&&g.push(f);for(var d=0,r=f.children.length;d<r;d++)b(f.children[d])})(a);return g},getListChildNodes:function(a,e){var g=[];e=e||function(){return!0};(function b(a){e(a)&&g.push(a);for(var d=0,r=a.childNodes.length;d<r;d++)b(a.childNodes[d])})(a);return g},getParentNode:function(a,e){for(var g=new RegExp("^"+e+"$","i");!g.test(a.tagName);)a=a.parentNode;return a},changeTxt:function(a,e){a&&e&&(a.textContent=e)},addClass:function(a,e){a&&
    !(new RegExp("(\\s|^)"+e+"(\\s|$)")).test(a.className)&&(a.className+=" "+e)},removeClass:function(a,e){a&&(a.className=a.className.replace(new RegExp("(\\s|^)"+e+"(\\s|$)")," ").trim())},toggleClass:function(a,e){if(a){var g=new RegExp("(\\s|^)"+e+"(\\s|$)");g.test(a.className)?a.className=a.className.replace(g," ").trim():a.className+=" "+e}},removeItem:function(a){try{a.remove()}catch(e){a.removeNode()}}},H=function(a,e,g){var c=u.editor={context:a,loadedPlugins:{},dialogForm:null,submenu:null,
    controllerArray:[],commandMap:{FONT:a.tool.font,B:a.tool.bold,U:a.tool.underline,I:a.tool.italic,STRIKE:a.tool.strike,SIZE:a.tool.fontSize},_variable:{selectionNode:a.element.wysiwygWindow.document.body.firstChild,copySelection:null,wysiwygActive:!0,isFullScreen:!1,innerHeight_fullScreen:0,resizeClientY:0,tabSize:4,originCssText:a.element.topArea.style.cssText,editorHeight:a.user.height,isTouchMove:!1},callModule:function(b,d,a,c){var e=g.getBasePath+"plugins/"+b;if("dialog"===b){var r=this._callBack_addModule.bind(this,
        "dialog","dialog",a,this.callModule.bind(this,b,d,a,c));if(!u.plugin.dialog){g.includeFile("text/javascript",e+"/dialog.js",r);return}if(!this.loadedPlugins.dialog){r();return}}u.plugin[d]?this.loadedPlugins[d]?"function"===typeof c&&c():this._callBack_addModule(b,d,a,c):g.includeFile("text/javascript",e+"/"+d+".js",this._callBack_addModule.bind(this,b,d,a,c))},_callBack_addModule:function(b,d,a,c){this.context[b]||(this.context[b]={});u.plugin[d].add(this,a);this.loadedPlugins[d]=!0;"function"===
    typeof c&&c()},submenuOn:function(b){this.submenu=b.nextElementSibling;this.submenu.style.display="block"},submenuOff:function(){this.submenu&&(this.submenu.style.display="none",this.submenu=null);this.controllersOff()},controllersOff:function(){var b=this.controllerArray.length;if(0<b){for(var d=0;d<b;d++)this.controllerArray[d].style.display="none";this.controllerArray=[]}},execCommand:function(b,d,c){a.element.wysiwygWindow.document.execCommand(b,d,c)},focus:function(){a.element.wysiwygWindow.document.body.focus()},
    isEdgePoint:function(b,d){return 0===d||d===b.nodeValue.length},createRange:function(){return a.element.wysiwygWindow.document.createRange()},getSelection:function(){return a.element.wysiwygWindow.getSelection()},getSelectionNode:function(){return this.getSelection().extentNode||this.getSelection().anchorNode},getRange:function(){var b=this.getSelection();if(0<b.rangeCount)var d=b.getRangeAt(0);else b=this._variable.copySelection,d=this.createRange(),d.setStart(b.anchorNode,b.anchorOffset),d.setEnd(b.focusNode,
        b.focusOffset);return d},setRange:function(b,d,a,c){var e=this.createRange();e.setStart(b,d);e.setEnd(a,c);b=this.getSelection();0<b.rangeCount&&b.removeAllRanges();b.addRange(e)},showLoading:function(){a.element.loading.style.display="block"},closeLoading:function(){a.element.loading.style.display="none"},getLineElement:function(b){for(;!/^BODY$/i.test(b.parentNode.tagName);)b=b.parentNode;return b},appendP:function(b){b=this.getLineElement(b);var d=document.createElement("P");d.innerHTML="&#65279";
        b.parentNode.insertBefore(d,b.nextElementSibling)},insertNode:function(b,d){if(d){var a=d.parentNode;d=d.nextSibling}else{var c=this.getSelection();a=this.getRange();var e=a.startContainer,g=a.startOffset,p=a.endContainer,n=a.endOffset;a=e;3===e.nodeType&&(a=e.parentNode);if(e===p&&g===n)c.focusNode&&3===c.focusNode.nodeType?(d=c.focusNode.splitText(n),a.insertBefore(b,d)):(null!==a.lastChild&&/^BR$/i.test(a.lastChild.nodeName)&&a.removeChild(a.lastChild),a.appendChild(b));else{var f=e;if(e===p)this.isEdgePoint(p,
        n)||(d=p.splitText(n)),this.isEdgePoint(e,g)||(f=e.splitText(g)),a.removeChild(f);else for(c.deleteFromDocument?c.deleteFromDocument():this.removeNode(),d=p;1!==d.nodeType;)d=d.parentNode}}try{a.insertBefore(b,d)}catch(v){a.appendChild(b)}},removeNode:function(){var b=this.getRange(),a=b.startContainer,c=b.startOffset,l=b.endContainer,g=b.endOffset;b=e.getListChildNodes(b.commonAncestorContainer);var f=e.getArrayIndex(b,a);var p=e.getArrayIndex(b,l),n,m=a;for(n=f+1;0<=n;n--)b[n]===m.parentNode&&b[n].firstChild===
    m&&0===c&&(f=n,m=m.parentNode);m=l;for(n=p-1;n>f;n--)b[n]===m.parentNode&&1===b[n].nodeType&&(b.splice(n,1),m=m.parentNode,--p);for(n=f;n<=p;n++)f=b[n],0===f.length||3===f.nodeType&&void 0===f.data?e.removeItem(f):f===a?(f=1===a.nodeType?document.createTextNode(a.textContent):document.createTextNode(a.substringData(0,c)),0<f.length?a.data=f.data:e.removeItem(a)):f===l?(f=1===l.nodeType?document.createTextNode(l.textContent):document.createTextNode(l.substringData(g,l.length-g)),0<f.length?l.data=
        f.data:e.removeItem(l)):e.removeItem(f)},wrapRangeToTag:function(b,a){var d=this.getRange(),c=d.startContainer,e=d.startOffset,f=d.endContainer,g=d.endOffset,n=d.commonAncestorContainer;d={};var m={};if(a){var v="(?:;|^|\\s)(?:"+a[0];for(t=1;t<a.length;t++)v+="|"+a[t];v+=")\\s*:[^;]*\\s*(?:;|$)";v=new RegExp(v,"gi")}if(c===f){var h=b.cloneNode(!1);if(e===g)h.innerHTML="&nbsp;",c.parentNode.insertBefore(h,c.nextSibling);else{f=document.createTextNode(c.substringData(0,e));var w=document.createTextNode(c.substringData(g,
        c.length-g));h.innerText=c.substringData(e,g-e);c.parentNode.insertBefore(h,c.nextSibling);c.data=0<f.data.length?f.data:c.substringData(0,e);0<w.data.length&&c.parentNode.insertBefore(w,h.nextSibling)}d.container=h;d.offset=0;m.container=h;m.offset=1}else if(w=function(a){if(3===a.nodeType)return!0;var d="";v&&0<a.style.cssText.length&&(d=a.style.cssText.replace(v,"").trim());return a.nodeName!==b.nodeName||0<d.length?(0<a.style.cssText.length&&(a.style.cssText=d),!0):!1},/BODY/i.test(n.nodeName)){m=
        u.dom.getListChildren(n,function(a){return/^P$/i.test(a.nodeName)});n=u.dom.getParentNode(c,"P");var A=u.dom.getParentNode(f,"P"),t=0;for(d=m.length;t<d;t++)if(n===m[t])n=t;else if(A===m[t]){A=t;break}h=b.cloneNode(!1);d=this._wrapLineNodesStart(m[n],h,w,c,e);for(t=n+1;t<A;t++)h=b.cloneNode(!1),this._wrapLineNodes(m[t],h,w);h=b.cloneNode(!1);m=this._wrapLineNodesEnd(m[A],h,w,f,g)}else h=b.cloneNode(!1),c=this._wrapLineNodesPart(n,h,w,c,e,f,g),d.container=c.startContainer,d.offset=c.startOffset,m.container=
        c.endContainer,m.offset=c.endOffset;this.setRange(d.container,d.offset,m.container,m.offset)},_wrapLineNodesPart:function(a,d,c,e,f,g,p){var b=e,r=f,l=g,h=p,w=!1,x=!1,t,k,q,z=[];(function F(e,f){for(var g=e.childNodes,n=0,p=g.length;n<p&&!x;n++){var m=g[n];if(w&&m!==l&&3===m.nodeType){k=m;for(t=[];k!==a&&null!==k;)c(k)&&1===k.nodeType&&t.push(k.cloneNode(!1)),k=k.parentNode;if(0<t.length){for(q=k=t.pop();0<t.length;)k=t.pop(),q.appendChild(k);d.appendChild(q);f=k}else f=d;f.appendChild(m.cloneNode(!1));
        z.push(m)}if(m===b){var v=document.createTextNode(b.substringData(0,r)),G=document.createTextNode(b.substringData(r,b.length-r));0<v.length?b.data=v.data:z.push(b);k=m;for(t=[];k!==a&&null!==k;)c(k)&&1===k.nodeType&&t.push(k.cloneNode(!1)),k=k.parentNode;for(q=k=t.pop()||m;0<t.length;)k=t.pop(),q.appendChild(k);q!==m?(d.appendChild(q),f=k):f=d;b=G;r=0;f.appendChild(b);w=!0}else{if(m===l){g=document.createTextNode(l.substringData(h,l.length-h));n=document.createTextNode(l.substringData(0,h));p=k=m;
        for(t=[];k!==a&&null!==k;)c(k)&&1===k.nodeType&&t.push(k.cloneNode(!1)),p=k,k=k.parentNode;for(q=k=t.pop()||m;0<t.length;)k=t.pop(),q.appendChild(k);q!==m?(d.appendChild(q),f=k):f=d;0<g.length?l.data=g.data:z.push(l);l=n;h=n.length;f.appendChild(l);for(a.insertBefore(d,p);0<z.length;){m=z.pop();for(m.data="";m.parentNode&&0===m.parentNode.innerText.length;)m=m.parentNode;u.dom.removeItem(m)}x=!0;break}F(m)}}})(a);return{startContainer:b,startOffset:r,endContainer:l,endOffset:h}},_wrapLineNodes:function(a,
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    d,c){(function p(a,b){for(var d=a.childNodes,e=0,f=d.length;e<f;e++){var g=d[e],r=b;if(c(g)){var q=g.cloneNode(!1);b.appendChild(q);1===g.nodeType&&(r=q)}p(g,r)}})(a,d);a.innerHTML="";a.appendChild(d)},_wrapLineNodesStart:function(a,d,c,e,f){var b=e,g=f,r=document.createElement("P"),l=!1,v,h,q;(function y(e,f){for(var n=e.childNodes,p=0,m=n.length;p<m;p++){var k=n[p],t=f;if(l){if(1===k.nodeType){y(k,k);continue}h=k;for(v=[];null!==h.parentNode&&h!==a&&h!==d;)c(h)&&1===h.nodeType&&v.push(h.cloneNode(!1)),
        h=h.parentNode;if(0<v.length){for(q=h=v.pop();0<v.length;)h=v.pop(),q.appendChild(h);d.appendChild(q);f=h}else f=d}if(l||k!==b){if(!l||c(k)){var u=k.cloneNode(!1);f.appendChild(u);1===k.nodeType&&(t=u)}y(k,t)}else{k=document.createTextNode(b.substringData(0,g));t=document.createTextNode(b.substringData(g,b.length-g));0<k.data.length&&f.appendChild(k);h=f;for(v=[];h!==r&&null!==h;)c(h)&&1===h.nodeType&&v.push(h.cloneNode(!1)),h=h.parentNode;for(q=h=v.pop()||f;0<v.length;)h=v.pop(),q.appendChild(h);
        q!==f?(d.appendChild(q),f=h):f=d;r.appendChild(d);b=t;g=0;l=!0;f.appendChild(b)}}})(a,r);a.parentNode.insertBefore(r,a);u.dom.removeItem(a);return{container:b,offset:g}},_wrapLineNodesEnd:function(a,c,e,f,g){var b=f,d=g,r=document.createElement("P"),l=!1,q,h,w;(function y(f,g){for(var p=f.childNodes,n=p.length-1;0<=n;n--){var k=p[n],m=g;if(l){if(1===k.nodeType){y(k,k);continue}h=k;for(q=[];null!==h.parentNode&&h!==a&&h!==c;)e(h)&&1===h.nodeType&&q.push(h.cloneNode(!1)),h=h.parentNode;if(0<q.length){for(w=
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        h=q.pop();0<q.length;)h=q.pop(),w.insertBefore(h,w.firstChild);c.insertBefore(w,c.firstChild);g=h}else g=c}if(l||k!==b){if(!l||e(k)){var t=k.cloneNode(!1);g.insertBefore(t,g.firstChild);1===k.nodeType&&(m=t)}y(k,m)}else{k=document.createTextNode(b.substringData(d,b.length-d));m=document.createTextNode(b.substringData(0,d));0<k.data.length&&g.insertBefore(k,g.firstChild);h=g;for(q=[];h!==r&&null!==h;)e(h)&&1===h.nodeType&&q.push(h.cloneNode(!1)),h=h.parentNode;for(w=h=q.pop()||g;0<q.length;)h=q.pop(),
        w.insertBefore(h,w.firstChild);w!==g?(c.insertBefore(w,c.firstChild),g=h):g=c;r.insertBefore(c,r.firstChild);b=m;d=m.data.length;l=!0;g.insertBefore(b,g.firstChild)}}})(a,r);a.parentNode.insertBefore(r,a);u.dom.removeItem(a);return{container:b,offset:d}},toggleFrame:function(){if(this._variable.wysiwygActive)a.element.code.value=a.element.wysiwygWindow.document.body.innerHTML.trim().replace(/<\/p>(?=[^\n])/gi,"</p>\n"),a.element.wysiwygElement.style.display="none",a.element.code.style.display="block",
        this._variable.wysiwygActive=!1;else{var b={"&amp;":"&","&nbsp;":"\u00a0","&lt;":"<","&gt;":">"},c=a.element.code.value.replace(/&[a-z]+;/g,function(a){return"string"===typeof b[a]?b[a]:a});a.element.wysiwygWindow.document.body.innerHTML=0<c.trim().length?c:"<p>&#65279</p>";a.element.wysiwygWindow.document.body.scrollTop=0;a.element.code.style.display="none";a.element.wysiwygElement.style.display="block";this._variable.wysiwygActive=!0}},toggleFullScreen:function(b){this._variable.isFullScreen?(a.element.topArea.style.cssText=
        this._variable.originCssText,a.element.editorArea.style.height=this._variable.editorHeight+"px",e.removeClass(b.firstElementChild,"ico_full_screen_i"),e.addClass(b.firstElementChild,"ico_full_screen_e")):(a.element.topArea.style.position="fixed",a.element.topArea.style.top="0",a.element.topArea.style.left="0",a.element.topArea.style.width="100%",a.element.topArea.style.height="100%",this._variable.innerHeight_fullScreen=window.innerHeight-a.tool.bar.offsetHeight,a.element.editorArea.style.height=
        this._variable.innerHeight_fullScreen+"px",e.removeClass(b.firstElementChild,"ico_full_screen_e"),e.addClass(b.firstElementChild,"ico_full_screen_i"));this._variable.isFullScreen=!this._variable.isFullScreen},preview:function(){var b=window.open("","_blank");b.mimeType="text/html";b.document.head.innerHTML='<meta charset="utf-8" /><title>'+u.lang.toolbar.preview+'</title><link rel="stylesheet" type="text/css" href="'+u.func.getBasePath+'css/suneditor-contents.css">';b.document.body.className="sun-editor-editable";
        b.document.body.innerHTML=a.element.wysiwygWindow.document.body.innerHTML}},f={_shortcutKeyCode:{66:["bold","B"],83:["strikethrough","STRIKE"],85:["underline","U"],73:["italic","I"],89:["redo"],90:["undo"],219:["outdent"],221:["indent"]},_directionKeyKeyCode:/^(?:8|13|32|46|33|34|35|36|37|38|39|40|98|100|102|104)$/,_findButtonEffectTag:function(){c._variable.copySelection=g.copyObj(c.getSelection());var b=c.getRange();c._variable.selectionNode=b.startContainer!==b.endContainer?b.startContainer:c.getSelectionNode();
        var d=c._variable.selectionNode,f=!0,l=!0,q=!0;b="B|U|I|STRIKE|FONT|SIZE|";for(var x=new RegExp(b,"i"),p;!/^(?:P|BODY|HTML|DIV)$/i.test(d.nodeName);){if(3!==d.nodeType){var n=[/^STRONG$/.test(d.nodeName)?"B":/^EM/.test(d.nodeName)?"I":d.nodeName];f&&1===d.nodeType&&(0<d.style.fontFamily.length||d.face&&0<d.face.length)&&(n.push("FONT"),f=(d.style.fontFamily||d.face||u.lang.toolbar.font).replace(/["']/g,""),e.changeTxt(c.commandMap.FONT,f),f=!1,b=b.replace("FONT|",""),x=new RegExp(b,"i"));if(q&&/^A$/i.test(d.nodeName)&&
            null===d.getAttribute("data-image-link")){if(!a.link||c.controllerArray[0]!==a.link.linkBtn){var m=d;c.callModule("dialog","link",null,function(){u.plugin.link.call_controller_linkButton.call(c,m)})}q=!1}else q&&a.link&&c.controllerArray[0]===a.link.linkBtn&&c.controllersOff();l&&0<d.style.fontSize.length&&(e.changeTxt(c.commandMap.SIZE,d.style.fontSize.match(/\d+/)[0]),l=!1,b=b.replace("SIZE|",""),x=new RegExp(b,"i"));p=d.style.cssText;/:\s*bold(?:;|\s)/.test(p)&&n.push("B");/:\s*underline(?:;|\s)/.test(p)&&
        n.push("U");/:\s*italic(?:;|\s)/.test(p)&&n.push("I");/:\s*line-through(?:;|\s)/.test(p)&&n.push("STRIKE");for(p=0;p<n.length;p++)x.test(n[p])&&(e.addClass(c.commandMap[n[p]],"on"),b=b.replace(n[p]+"|",""),x=new RegExp(b,"i"))}d=d.parentNode}q&&c.controllersOff();b=b.split("|");d=b.length-1;for(p=0;p<d;p++)/^FONT/i.test(b[p])?e.changeTxt(c.commandMap[b[p]],u.lang.toolbar.font):/^SIZE$/i.test(b[p])?e.changeTxt(c.commandMap[b[p]],u.lang.toolbar.fontSize):e.removeClass(c.commandMap[b[p]],"on")},resize_window:function(){c._variable.isFullScreen&&
    (c._variable.innerHeight_fullScreen+=window.innerHeight-a.tool.bar.offsetHeight-c._variable.innerHeight_fullScreen,a.element.editorArea.style.height=c._variable.innerHeight_fullScreen+"px")},touchstart_toolbar:function(){c._variable.isTouchMove=!1},touchmove_toolbar:function(){c._variable.isTouchMove=!0},onClick_toolbar:function(b){if(c._variable.isTouchMove)return!0;for(var d=b.target,f=d.getAttribute("data-display"),g=d.getAttribute("data-command"),q=d.className;!g&&!/editor_tool/.test(q)&&!/sun-editor-id-toolbar/.test(q);)d=
        d.parentNode,g=d.getAttribute("data-command"),f=d.getAttribute("data-display"),q=d.className;if(!g&&!f)return!0;b.preventDefault();b.stopPropagation();c.focus();if(f)b=c.submenu,c.submenuOff(),!/submenu/.test(f)||null!==d.nextElementSibling&&d.nextElementSibling===b?/dialog/.test(f)&&c.callModule("dialog",g,null,function(){u.plugin.dialog.openDialog.call(c,g,d.getAttribute("data-option"))}):c.callModule("submenu",g,d,function(){c.submenuOn(d)});else if(g){f=d.getAttribute("data-value");switch(g){case "codeView":c.toggleFrame();
        e.toggleClass(d,"on");break;case "fullScreen":c.toggleFullScreen(d);e.toggleClass(d,"on");break;case "indent":case "outdent":case "redo":case "undo":case "removeFormat":c.execCommand(g,!1,null);break;case "preview":c.preview();break;case "print":a.element.wysiwygWindow.print();break;default:c.execCommand(g,!1,f),e.toggleClass(d,"on")}c.submenuOff()}},onMouseUp_wysiwyg:function(a){a.stopPropagation();var b=a.target;c.submenuOff();/^HTML$/i.test(b.nodeName)?(a.preventDefault(),c.focus()):/^IMG$/i.test(b.nodeName)?
        c.callModule("dialog","image",null,function(){u.plugin.image._call_controller_imageResize.call(c,b)}):f._findButtonEffectTag()},onKeyDown_wysiwyg:function(b){var d=b.target,g=b.keyCode,l=b.shiftKey,q=b.ctrlKey||b.metaKey,u=b.altKey;b.stopPropagation();if(q&&!/^(?:16|17|18)$/.test(g)){var p;if(p=!(l&&83!==g))(p=f._shortcutKeyCode[g])?(c.execCommand(p[0],!1,null),e.toggleClass(c.commandMap[p[1]],"on"),p=!0):p=!1;if(p){b.preventDefault();return}}switch(g){case 8:if(1===d.childElementCount&&"<br/>"===
        d.children[0].innerHTML)return b.preventDefault(),!1;break;case 9:if(b.preventDefault(),!q&&!u){for(b=c._variable.selectionNode||c.getSelection().anchorNode;!/^TD$/i.test(b.tagName)&&!/^BODY$/i.test(b.tagName);)b=b.parentNode;if(b&&/^TD$/i.test(b.tagName)){d=e.getParentNode(b,"table");d=e.getListChildren(d,e.isCell);b=l?e.prevIdx(d,b):e.nextIdx(d,b);b!==d.length||l||(b=0);-1===b&&l&&(b=d.length-1);l=d[b];if(!l)return!1;b=c.createRange();b.setStart(l,0);b.setEnd(l,0);l=c.getSelection();0<l.rangeCount&&
    l.removeAllRanges();l.addRange(b)}else l||(b=a.element.wysiwygWindow.document.createTextNode(Array(c._variable.tabSize+1).join("\u00a0")),c.insertNode(b,null),l=c.getSelection(),d=c.createRange(),d.setStart(b,c._variable.tabSize),d.setEnd(b,c._variable.tabSize),0<l.rangeCount&&l.removeAllRanges(),l.addRange(d))}}},onKeyUp_wysiwyg:function(a){f._directionKeyKeyCode.test(a.keyCode)&&f._findButtonEffectTag()},onScroll_wysiwyg:function(){c.controllersOff()},onMouseDown_resizeBar:function(b){function d(){a.element.resizeBackground.style.display=
        "none";document.removeEventListener("mousemove",f.resize_editor);document.removeEventListener("mouseup",d)}b.stopPropagation();c._variable.resizeClientY=b.clientY;a.element.resizeBackground.style.display="block";document.addEventListener("mousemove",f.resize_editor);document.addEventListener("mouseup",d)},resize_editor:function(b){var d=b.clientY-c._variable.resizeClientY;a.element.editorArea.style.height=a.element.editorArea.offsetHeight+d+"px";c._variable.editorHeight=a.element.editorArea.offsetHeight+
        d;c._variable.resizeClientY=b.clientY}};a.tool.bar.addEventListener("touchstart",f.touchstart_toolbar);a.tool.bar.addEventListener("touchmove",f.touchmove_toolbar);a.tool.bar.addEventListener("touchend",f.onClick_toolbar);a.tool.bar.addEventListener("click",f.onClick_toolbar);a.element.wysiwygWindow.addEventListener("mouseup",f.onMouseUp_wysiwyg);a.element.wysiwygWindow.addEventListener("keydown",f.onKeyDown_wysiwyg);a.element.wysiwygWindow.addEventListener("keyup",f.onKeyUp_wysiwyg);a.element.wysiwygWindow.addEventListener("scroll",
    f.onScroll_wysiwyg);a.element.resizebar.addEventListener("mousedown",f.onMouseDown_resizeBar);window.addEventListener("resize",f.resize_window);return{save:function(){a.element.textElement.innerHTML=c._variable.wysiwygActive?a.element.wysiwygWindow.document.body.innerHTML:a.element.code.value},getContent:function(){return c._variable.wysiwygActive?a.element.wysiwygWindow.document.body.innerHTML:a.element.code.value},setContent:function(b){c._variable.wysiwygActive?a.element.wysiwygWindow.document.body.innerHTML=
        b:a.element.code.value=b},appendContent:function(b){if(c._variable.wysiwygActive){var d=document.createElement("P");d.innerHTML=b;a.element.wysiwygWindow.document.body.appendChild(d)}else a.element.code.value+=b},disabled:function(){a.tool.cover.style.display="block";a.element.wysiwygWindow.document.body.setAttribute("contenteditable",!1)},enabled:function(){a.tool.cover.style.display="none";a.element.wysiwygWindow.document.body.setAttribute("contenteditable",!0)},show:function(){var b=a.element.topArea.style;
        b.cssText=c._variable.originCssText;"none"===b.display&&(b.display="block")},hide:function(){a.element.topArea.style.display="none"},destroy:function(){a.element.topArea.parentNode.removeChild(a.element.topArea);a.element.textElement.style.display="";this.destroy=this.hide=this.show=this.enabled=this.disabled=this.appendContent=this.setContent=this.getContent=this.save=null}}};u.create=function(a,e){var g=document.getElementById(a);if(null===g)throw Error('[SUNEDITOR.create.fail] The element for that id was not found (ID:"'+
    a+'")');var c=C(g,e);if(document.getElementById(c.constructed._top.id))throw Error('[SUNEDITOR.create.fail] The ID of the suneditor you are trying to create already exists (ID:"'+c.constructed._top.id+'")');"object"===typeof g.nextElementSibling?g.parentNode.insertBefore(c.constructed._top,g.nextElementSibling):g.parentNode.appendChild(c.constructed._top);g.style.display="none";var f=c.constructed;c=c.options;g={element:{textElement:g,topArea:f._top,relative:f._relative,resizebar:f._resizeBar,editorArea:f._editorArea,
        wysiwygWindow:f._editorArea.getElementsByClassName("sun-editor-id-wysiwyg")[0].contentWindow,wysiwygElement:f._editorArea.getElementsByClassName("sun-editor-id-wysiwyg")[0],code:f._editorArea.getElementsByClassName("sun-editor-id-code")[0],loading:f._loading,resizeBackground:f._resizeBack},tool:{bar:f._toolBar,cover:f._toolBar.getElementsByClassName("sun-editor-id-toolbar-cover")[0],bold:f._toolBar.getElementsByClassName("sun-editor-id-bold")[0],underline:f._toolBar.getElementsByClassName("sun-editor-id-underline")[0],
        italic:f._toolBar.getElementsByClassName("sun-editor-id-italic")[0],strike:f._toolBar.getElementsByClassName("sun-editor-id-strike")[0],font:f._toolBar.getElementsByClassName("sun-editor-font-family")[0],fontSize:f._toolBar.getElementsByClassName("sun-editor-font-size")[0]},user:{videoX:c.videoX,videoY:c.videoY,imageSize:c.imageSize,imageUploadUrl:c.imageUploadUrl,addFont:c.addFont,fontList:c.fontList,fontSizeList:c.fontSizeList,height:c.height.match(/\d+/)[0]}};return H(g,E,D)};u.destroy=function(a){var e=
    document.getElementById("suneditor_"+a);e.parentNode.removeChild(e);document.getElementById(a).style.display=""}})(SUNEDITOR);