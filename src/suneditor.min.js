"undefined"===typeof window.SUNEDITOR&&(window.SUNEDITOR={},SUNEDITOR.plugin={});
SUNEDITOR.defaultLang={toolbar:{font:"Font",formats:"Formats",fontSize:"Size",bold:"Bold",underline:"Underline",italic:"Italic",strike:"Strike",subscript:"Subscript",superscript:"Superscript",removeFormat:"Remove Format",fontColor:"Font Color",hiliteColor:"Hilite Color",indent:"Indent",outdent:"Outdent",align:"Align",alignLeft:"Align left",alignRight:"Align right",alignCenter:"Align center",justifyFull:"Justify full",list:"list",orderList:"Ordered list",unorderList:"Unordered list",line:"Line",table:"Table",
        link:"Link",image:"Image",video:"Video",fullScreen:"Full screen",showBlocks:"Show blocks",codeView:"Code view",undo:"Undo",redo:"Redo",preview:"Preview",print:"print",tag_p:"Paragraph",tag_div:"Normal (DIV)",tag_h:"Header"},dialogBox:{linkBox:{title:"Insert Link",url:"URL to link",text:"Text to display",newWindowCheck:"Open in new window"},imageBox:{title:"Insert image",file:"Select from files",url:"Image URL",caption:"Insert image description",altText:"Alternative text"},videoBox:{title:"Insert Video",
            url:"Media embed URL, YouTube"},resize100:"resize 100%",resize75:"resize 75%",resize50:"resize 50%",resize25:"resize 25%",remove:"remove",submitButton:"Submit",revertButton:"Revert",proportion:"constrain proportions",width:"Width",height:"Height",basic:"Basic",left:"Left",right:"Right",center:"Center"},editLink:{edit:"Edit",remove:"Remove"}};
(function(){function A(a){var d="";a=document.createRange().createContextualFragment(a.trim()).childNodes;for(var e=0,c=a.length;e<c;e++){var f=a[e].outerHTML||a[e].textContent;d=/^(?:P|TABLE|H[1-6]|DIV)$/i.test(a[e].tagName)?d+f:d+("<P>"+f+"</p>")}0===d.length&&(d="<p>&#65279</p>");return d}function B(a){var d='<div class="sun-editor-id-toolbar-cover"></div>',e=null;var c=SUNEDITOR.lang;c={font:["btn_font",c.toolbar.font,"font","submenu","",'<span class="txt sun-editor-font-family">'+c.toolbar.font+
    '</span><span class="arrow-more-down"></span>'],formats:["btn_format",c.toolbar.formats,"formatBlock","submenu","",'<span class="txt sun-editor-font-format">'+c.toolbar.formats+'</span><span class="arrow-more-down"></span>'],fontSize:["btn_size",c.toolbar.fontSize,"fontSize","submenu","",'<span class="txt sun-editor-font-size">'+c.toolbar.fontSize+'</span><span class="arrow-more-down"></span>'],bold:["sun-editor-id-bold",c.toolbar.bold+"(Ctrl+B)","bold","","",'<div class="icon-bold"></div>'],underline:["sun-editor-id-underline",
        c.toolbar.underline+"(Ctrl+U)","underline","","",'<div class="icon-underline"></div>'],italic:["sun-editor-id-italic",c.toolbar.italic+"(Ctrl+I)","italic","","",'<div class="icon-italic"></div>'],strike:["sun-editor-id-strike",c.toolbar.strike+"(Ctrl+SHIFT+S)","strikethrough","","",'<div class="icon-strokethrough"></div>'],subscript:["sun-editor-id-subscript",c.toolbar.subscript,"subscript","","",'<div class="icon-subscript"></div>'],superscript:["sun-editor-id-superscript",c.toolbar.superscript,
        "superscript","","",'<div class="icon-superscript"></div>'],removeFormat:["",c.toolbar.removeFormat,"removeFormat","","",'<div class="icon-erase"></div>'],fontColor:["",c.toolbar.fontColor,"foreColor","submenu","",'<div class="icon-foreColor"></div>'],hiliteColor:["",c.toolbar.hiliteColor,"hiliteColor","submenu","",'<div class="icon-hiliteColor"></div>'],indent:["",c.toolbar.indent+"(Ctrl + [)","indent","","",'<div class="icon-indent-right"></div>'],outdent:["",c.toolbar.outdent+"(Ctrl + ])","outdent",
        "","",'<div class="icon-indent-left"></div>'],align:["btn_align",c.toolbar.align,"align","submenu","",'<div class="icon-align-left"></div>'],list:["",c.toolbar.list,"list","submenu","",'<div class="icon-list-number"></div>'],line:["btn_line",c.toolbar.line,"horizontalRules","submenu","",'<hr style="border-width: 1px 0 0; border-style: solid none none; border-color: black; border-image: initial; height: 1px;" /><hr style="border-width: 1px 0 0; border-style: dotted none none; border-color: black; border-image: initial; height: 1px;" /><hr style="border-width: 1px 0 0; border-style: dashed none none; border-color: black; border-image: initial; height: 1px;" />'],
    table:["",c.toolbar.table,"table","submenu","",'<div class="icon-grid"></div>'],link:["",c.toolbar.link,"link","dialog","",'<div class="icon-link"></div>'],image:["",c.toolbar.image,"image","dialog","",'<div class="icon-image"></div>'],video:["",c.toolbar.video,"video","dialog","",'<div class="icon-video"></div>'],fullScreen:["",c.toolbar.fullScreen,"fullScreen","","",'<div class="icon-expansion"></div>'],showBlocks:["",c.toolbar.showBlocks,"showBlocks","","",'<div class="icon-showBlocks"></div>'],
    codeView:["",c.toolbar.codeView,"codeView","","",'<div class="icon-code-view"></div>'],undo:["",c.toolbar.undo+" (Ctrl+Z)","undo","","",'<div class="icon-undo"></div>'],redo:["",c.toolbar.redo+" (Ctrl+Y)","redo","","",'<div class="icon-redo"></div>'],preview:["",c.toolbar.preview,"preview","","",'<div class="icon-preview"></div>'],print:["",c.toolbar.print,"print","","",'<div class="icon-print"></div>']};for(var f=0;f<a.length;f++){var b=a[f];if("object"===typeof b){for(var g=0;g<b.length;g++){var m=
    b[g];m="object"===typeof m?[m.className,m.title,m.dataCommand,m.dataDisplay,m.displayOption,m.innerHTML]:c[m];e+='<li>   <button type="button" class="btn_editor '+m[0]+'" title="'+m[1]+'" data-command="'+m[2]+'" data-display="'+m[3]+'" data-option="'+m[4]+'">'+m[5]+"   </button></li>"}e=e?'<div class="tool_module"><ul class="editor_tool">'+e+"</ul></div>":"";d+=e;e=null}else/^\/$/.test(b)&&(d+='<div class="tool_module_enter"></div>')}return d}function C(a,d){"object"!==typeof d&&(d={});d.addFont=
    d.addFont||null;d.videoX=d.videoX||560;d.videoY=d.videoY||315;d.imageFileInput=void 0===d.imageFileInput?!0:d.imageFileInput;d.imageUrlInput=void 0!==d.imageUrlInput&&d.imageFileInput?d.imageUrlInput:!0;d.imageSize=d.imageSize||350;d.imageUploadUrl=d.imageUploadUrl||null;d.fontList=d.fontList||null;d.fontSizeList=d.fontSizeList||null;d.height=/^\d+/.test(d.height)?/^\d+$/.test(d.height)?d.height+"px":d.height:a.clientHeight+"px";d.buttonList=d.buttonList||[["undo","redo"],["font","fontSize","formats"],
    "bold underline italic strike subscript superscript".split(" "),["removeFormat"],"/",["fontColor","hiliteColor"],["indent","outdent"],["align","line","list","table"],["link","image","video"],["fullScreen","showBlocks","codeView"],["preview","print"]];d.width=/^\d+/.test(d.width)?/^\d+$/.test(d.width)?d.width+"px":d.width:/%|auto/.test(a.style.width)?a.style.width:a.clientWidth+"px";d.display=d.display||("none"!==a.style.display&&a.style.display?a.style.display:"block");var e=document,c=e.createElement("DIV");
    c.className="sun-editor";c.id="suneditor_"+a.id;c.style.width=d.width;c.style.display=d.display;var f=e.createElement("DIV");f.className="sun-editor-container";var b=e.createElement("DIV");b.className="sun-editor-id-toolbar";b.innerHTML=B(d.buttonList);var g=e.createElement("DIV");g.className="sun-editor-id-editorArea";g.style.height=d.height;var m=e.createElement("IFRAME");m.allowFullscreen=!0;m.frameBorder=0;m.className="input_editor sun-editor-id-wysiwyg";m.style.display="block";var w=e.createElement("TEXTAREA");
    w.className="input_editor html sun-editor-id-code";w.style.display="none";m.addEventListener("load",function(){this.setAttribute("scrolling","auto");this.contentWindow.document.head.innerHTML='<meta charset="utf-8" /><title>SunEditor</title><link rel="stylesheet" type="text/css" href="'+SUNEDITOR.util.getBasePath+'css/suneditor-contents.css">';this.contentWindow.document.body.className="sun-editor-editable";this.contentWindow.document.body.setAttribute("contenteditable",!0);this.contentWindow.document.body.innerHTML=
        A(a.value)});var u=e.createElement("DIV");u.className="sun-editor-id-resizeBar";var l=e.createElement("DIV");l.className="sun-editor-id-loading";l.innerHTML='<div class="loading-effect"></div>';e=e.createElement("DIV");e.className="sun-editor-id-resize-background";g.appendChild(m);g.appendChild(w);f.appendChild(b);f.appendChild(g);f.appendChild(u);f.appendChild(e);f.appendChild(l);c.appendChild(f);return{constructed:{_top:c,_relative:f,_toolBar:b,_editorArea:g,_resizeBar:u,_loading:l,_resizeBack:e},
        options:d}}SUNEDITOR.util={getXMLHttpRequest:function(){if(window.ActiveXObject)try{return new ActiveXObject("Msxml2.XMLHTTP")}catch(a){try{return new ActiveXObject("Microsoft.XMLHTTP")}catch(d){return null}}else return window.XMLHttpRequest?new XMLHttpRequest:null},copyObj:function(a){var d={},e;for(e in a)d[e]=a[e];return d},getBasePath:function(){var a=SUNEDITOR.SUNEDITOR_BASEPATH||"";if(!a)for(var d=document.getElementsByTagName("script"),e=0;e<d.length;e++){var c=d[e].src.match(/(^|.*[\\\/])suneditor(\.min)?\.js(?:\?.*|;.*)?$/i);
        if(c){a=c[1];break}}-1===a.indexOf(":/")&&"//"!==a.slice(0,2)&&(a=0===a.indexOf("/")?location.href.match(/^.*?:\/\/[^\/]*/)[0]+a:location.href.match(/^[^\?]*\/(?:)/)[0]+a);if(!a)throw'[SUNEDITOR.util.getBasePath.fail] The SUNEDITOR installation path could not be automatically detected. Please set the global variable "SUNEDITOR.SUNEDITOR_BASEPATH" before creating editor instances.';return a}(),includeFile:function(a,d,e){var c=document.createElement("script");c.type=a;c.src=d;c.onload=e;document.getElementsByTagName("head")[0].appendChild(c)}};
    SUNEDITOR.dom={getArrayIndex:function(a,d){for(var e=-1,c=0,f=a.length;c<f;c++)if(a[c]===d){e=c;break}return e},nextIdx:function(a,d){var e=this.getArrayIndex(a,d);return-1===e?-1:e+1},prevIdx:function(a,d){var e=this.getArrayIndex(a,d);return-1===e?-1:e-1},isCell:function(a){return a&&/^(?:TD|TH)$/i.test(a.nodeName)},getListChildren:function(a,d){var e=[];d=d||function(){return!0};(function b(f){a!==f&&d(f)&&e.push(f);for(var g=0,m=f.children.length;g<m;g++)b(f.children[g])})(a);return e},getListChildNodes:function(a,
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              d){var e=[];d=d||function(){return!0};(function b(a){d(a)&&e.push(a);for(var g=0,m=a.childNodes.length;g<m;g++)b(a.childNodes[g])})(a);return e},getParentNode:function(a,d){if(/\./.test(d)){var e="className";d=d.split(".")[1]}else/#/.test(d)?(e="id",d="^"+d.split("#")[1]+"$"):/:/.test(d)?(e="name",d="^"+d.split(":")[1]+"$"):(e="tagName",d="^"+d+"$");for(var c=new RegExp(d,"i");a&&(3===a.nodeType||!c.test(a[e]));){if(/^BODY$/i.test(a.tagName))return null;a=a.parentNode}return a},changeTxt:function(a,
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    d){a&&d&&(a.textContent=d)},hasClass:function(a,d){if(a)return a.classList.contains(d.trim())},addClass:function(a,d){a&&!(new RegExp("(\\s|^)"+d+"(\\s|$)")).test(a.className)&&(a.className+=" "+d)},removeClass:function(a,d){a&&(a.className=a.className.replace(new RegExp("(\\s|^)"+d+"(\\s|$)")," ").trim())},toggleClass:function(a,d){if(a){var e=new RegExp("(\\s|^)"+d+"(\\s|$)");e.test(a.className)?a.className=a.className.replace(e," ").trim():a.className+=" "+d}},removeItem:function(a){try{a.remove()}catch(d){a.parentNode.removeChild(a)}}};
    var E=function(a,d,e){var c={context:a,loadedPlugins:{},dialogForm:null,submenu:null,submenuActiveButton:null,controllerArray:[],commandMap:{FORMAT:a.tool.format,FONT:a.tool.font,SIZE:a.tool.fontSize,B:a.tool.bold,U:a.tool.underline,I:a.tool.italic,STRIKE:a.tool.strike,SUB:a.tool.subscript,SUP:a.tool.superscript},_variable:{selectionNode:null,copySelection:null,wysiwygActive:!0,isFullScreen:!1,innerHeight_fullScreen:0,resizeClientY:0,tabSize:4,originCssText:a.element.topArea.style.cssText,editorHeight:a.user.height,
            isTouchMove:!1},callModule:function(b,a,d,c){var g=e.getBasePath+"plugins/"+b;if("dialog"===b){var m=this._callBack_addModule.bind(this,"dialog","dialog",d,this.callModule.bind(this,b,a,d,c));if(!SUNEDITOR.plugin.dialog){e.includeFile("text/javascript",g+"/dialog.js",m);return}if(!this.loadedPlugins.dialog){m();return}}SUNEDITOR.plugin[a]?this.loadedPlugins[a]?"function"===typeof c&&c():this._callBack_addModule(b,a,d,c):e.includeFile("text/javascript",g+"/"+a+".js",this._callBack_addModule.bind(this,
            b,a,d,c))},_callBack_addModule:function(b,a,d,c){this.context[b]||(this.context[b]={});SUNEDITOR.plugin[a].add(this,d);this.loadedPlugins[a]=!0;"function"===typeof c&&c()},submenuOn:function(b){this.submenu=b.nextElementSibling;this.submenu.style.display="block";d.addClass(b,"on");this.submenuActiveButton=b},submenuOff:function(){this.submenu&&(this.submenu.style.display="none",this.submenu=null,d.removeClass(this.submenuActiveButton,"on"),this.submenuActiveButton=null);a.image&&!0===a.image._onCaption&&
        SUNEDITOR.plugin.image.toggle_caption_contenteditable.call(c,!1);this.controllersOff()},controllersOff:function(){var b=this.controllerArray.length;if(0<b){for(var a=0;a<b;a++)this.controllerArray[a].style.display="none";this.controllerArray=[]}},execCommand:function(b,d,c){a.element.wysiwygWindow.document.execCommand(b,d,c)},focus:function(){var b=d.getParentNode(this._variable.selectionNode,"figcaption");b?b.focus():a.element.wysiwygWindow.document.body.focus()},_setSelectionNode:function(){this._variable.copySelection=
            e.copyObj(this.getSelection());var b=this.getRange();this._variable.selectionNode=b.startContainer!==b.endContainer?b.startContainer:this.getSelectionNode()},isEdgePoint:function(b,a){return 0===a||a===b.nodeValue.length},createRange:function(){return a.element.wysiwygWindow.document.createRange()},getSelection:function(){return a.element.wysiwygWindow.getSelection()},getSelectionNode:function(){return this.getSelection().extentNode||this.getSelection().anchorNode},getRange:function(){var b=this.getSelection();
            if(0<b.rangeCount)var d=b.getRangeAt(0);else d=this.createRange(),(b=this._variable.copySelection)?(d.setStart(b.anchorNode,b.anchorOffset),d.setEnd(b.focusNode,b.focusOffset)):(b=a.element.wysiwygWindow.document.body.firstChild,d.setStart(b,0),d.setEnd(b,0));return d},setRange:function(b,a,d,c){var g=this.createRange();g.setStart(b,a);g.setEnd(d,c);b=this.getSelection();0<b.rangeCount&&b.removeAllRanges();b.addRange(g)},showLoading:function(){a.element.loading.style.display="block"},closeLoading:function(){a.element.loading.style.display=
            "none"},getLineElement:function(b){b=b||this._variable.selectionNode;if(!b||/^(?:HTML|BODY)$/i.test(b.tagName))b=a.element.wysiwygWindow.document.body.firstChild;else for(;!/^BODY$/i.test(b.parentNode.tagName);)b=b.parentNode;return b},appendP:function(b){var a=document.createElement("P");a.innerHTML="&#65279";b=this.getLineElement(b);b.parentNode.insertBefore(a,b.nextElementSibling);return a},insertNode:function(b,a){if(a){var d=a.parentNode;a=a.nextSibling}else{var c=this.getSelection();d=this.getRange();
            var g=d.startContainer,e=d.startOffset,f=d.endContainer,k=d.endOffset;d=g;3===g.nodeType&&(d=g.parentNode);if(g===f&&e===k)c.focusNode&&3===c.focusNode.nodeType?a=c.focusNode.splitText(k):(null!==d.lastChild&&/^BR$/i.test(d.lastChild.nodeName)&&d.removeChild(d.lastChild),a=null);else if(g===f)c=g,this.isEdgePoint(f,k)||(a=f.splitText(k)),this.isEdgePoint(g,e)||(c=g.splitText(e)),d.removeChild(c);else for(c.deleteFromDocument?c.deleteFromDocument():this.removeNode(),a=f;1!==a.nodeType;)a=a.parentNode}try{d.insertBefore(b,
            a)}catch(q){d.appendChild(b)}},removeNode:function(){var a=this.getRange(),c=a.startContainer,m=a.startOffset,e=a.endContainer,f=a.endOffset;a=d.getListChildNodes(a.commonAncestorContainer);var l=d.getArrayIndex(a,c),n=d.getArrayIndex(a,e);var k=l+1;for(var q=c;0<=k;k--)a[k]===q.parentNode&&a[k].firstChild===q&&0===m&&(l=k,q=q.parentNode);k=n-1;for(q=e;k>l;k--)a[k]===q.parentNode&&1===a[k].nodeType&&(a.splice(k,1),q=q.parentNode,--n);for(;l<=n;l++)k=a[l],0===k.length||3===k.nodeType&&void 0===k.data?
            d.removeItem(k):k===c?(k=1===c.nodeType?document.createTextNode(c.textContent):document.createTextNode(c.substringData(0,m)),0<k.length?c.data=k.data:d.removeItem(c)):k===e?(k=1===e.nodeType?document.createTextNode(e.textContent):document.createTextNode(e.substringData(f,e.length-f)),0<k.length?e.data=k.data:d.removeItem(e)):d.removeItem(k)},wrapRangeToTag:function(a,c){var b=this.getRange(),g=b.startContainer,e=b.startOffset,f=b.endContainer,n=b.endOffset,k=b.commonAncestorContainer;b={};var q={},
            p;if(c){var h="(?:;|^|\\s)(?:"+c[0];for(p=1;p<c.length;p++)h+="|"+c[p];h+=")\\s*:[^;]*\\s*(?:;|$)";h=new RegExp(h,"gi")}if(g===f){p=a.cloneNode(!1);if(e===n)p.innerHTML="&nbsp;",g.parentNode.insertBefore(p,g.nextSibling);else{f=document.createTextNode(g.substringData(0,e));var t=document.createTextNode(g.substringData(n,g.length-n));p.innerText=g.substringData(e,n-e);g.parentNode.insertBefore(p,g.nextSibling);g.data=0<f.data.length?f.data:g.substringData(0,e);0<t.data.length&&g.parentNode.insertBefore(t,
            p.nextSibling)}b.container=p;b.offset=0;q.container=p;q.offset=1}else if(t=function(b){if(3===b.nodeType)return!0;var d="";h&&0<b.style.cssText.length&&(d=b.style.cssText.replace(h,"").trim());return b.nodeName!==a.nodeName||0<d.length?(0<b.style.cssText.length&&(b.style.cssText=d),!0):!1},/BODY/i.test(k.nodeName)){q=d.getListChildren(k,function(a){return/^P$/i.test(a.nodeName)});var y=d.getParentNode(g,"P");k=d.getParentNode(f,"P");b=0;for(p=q.length;b<p;b++)if(y===q[b])y=b;else if(k===q[b]){k=b;
            break}p=a.cloneNode(!1);b=this._wrapLineNodesStart(q[y],p,t,g,e);for(g=y+1;g<k;g++)p=a.cloneNode(!1),this._wrapLineNodes(q[g],p,t);p=a.cloneNode(!1);q=this._wrapLineNodesEnd(q[k],p,t,f,n)}else p=a.cloneNode(!1),n=this._wrapLineNodesPart(k,p,t,g,e,f,n),b.container=n.startContainer,b.offset=n.startOffset,q.container=n.endContainer,q.offset=n.endOffset;this.setRange(b.container,b.offset,q.container,q.offset)},_wrapLineNodesPart:function(a,c,e,f,u,l,n){var b=[],g=f,m=u,h=l,t=n,w=!1,x=!1,v,r,z;(function D(f,
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      k){for(var p=f.childNodes,q=0,n=p.length;q<n&&!x;q++){var l=p[q];if(w&&l!==h&&3===l.nodeType){for(v=[];r!==a&&null!==r;)e(r)&&1===r.nodeType&&v.push(r.cloneNode(!1)),r=r.parentNode;if(0<v.length){for(z=r=v.pop();0<v.length;)r=v.pop(),z.appendChild(r);c.appendChild(z);k=r}else k=c;k.appendChild(l.cloneNode(!1));b.push(l)}if(l===g){var u=document.createTextNode(g.substringData(0,m)),y=document.createTextNode(g.substringData(m,g.length-m));0<u.length?g.data=u.data:b.push(g);r=l;for(v=[];r!==a&&null!==
        r;)e(r)&&1===r.nodeType&&v.push(r.cloneNode(!1)),r=r.parentNode;for(z=r=v.pop()||l;0<v.length;)r=v.pop(),z.appendChild(r);z!==l?(c.appendChild(z),k=r):k=c;g=y;m=0;k.appendChild(g);w=!0}else{if(l===h){p=document.createTextNode(h.substringData(t,h.length-t));q=document.createTextNode(h.substringData(0,t));n=r=l;for(v=[];r!==a&&null!==r;)e(r)&&1===r.nodeType&&v.push(r.cloneNode(!1)),n=r,r=r.parentNode;for(z=r=v.pop()||l;0<v.length;)r=v.pop(),z.appendChild(r);z!==l?(c.appendChild(z),k=r):k=c;0<p.length?
            h.data=p.data:b.push(h);h=q;t=q.length;k.appendChild(h);for(a.insertBefore(c,n);0<b.length;){l=b.pop();for(l.data="";l.parentNode&&0===l.parentNode.innerText.length;)l=l.parentNode;d.removeItem(l)}x=!0;break}D(l)}}})(a);return{startContainer:g,startOffset:m,endContainer:h,endOffset:t}},_wrapLineNodes:function(a,c,d){(function n(a,b){for(var c=a.childNodes,g=0,e=c.length;g<e;g++){var m=c[g],f=b;if(d(m)){var l=m.cloneNode(!1);b.appendChild(l);1===m.nodeType&&(f=l)}n(m,f)}})(a,c);a.innerHTML="";a.appendChild(c)},
        _wrapLineNodesStart:function(a,c,e,f,u){var b=document.createElement("P"),g=f,m=u,q=!1,p,h,w;(function r(d,f){for(var k=d.childNodes,l=0,v=k.length;l<v;l++){var n=k[l],t=f;if(q){if(1===n.nodeType){r(n,n);continue}h=n;for(p=[];null!==h.parentNode&&h!==a&&h!==c;)e(h)&&1===h.nodeType&&p.push(h.cloneNode(!1)),h=h.parentNode;if(0<p.length){for(w=h=p.pop();0<p.length;)h=p.pop(),w.appendChild(h);c.appendChild(w);f=h}else f=c}if(q||n!==g){if(!q||e(n)){var u=n.cloneNode(!1);f.appendChild(u);1===n.nodeType&&
        (t=u)}r(n,t)}else{n=document.createTextNode(g.substringData(0,m));t=document.createTextNode(g.substringData(m,g.length-m));0<n.data.length&&f.appendChild(n);h=f;for(p=[];h!==b&&null!==h;)e(h)&&1===h.nodeType&&p.push(h.cloneNode(!1)),h=h.parentNode;for(w=h=p.pop()||f;0<p.length;)h=p.pop(),w.appendChild(h);w!==f?(c.appendChild(w),f=h):f=c;b.appendChild(c);g=t;m=0;q=!0;f.appendChild(g)}}})(a,b);a.parentNode.insertBefore(b,a);d.removeItem(a);return{container:g,offset:m}},_wrapLineNodesEnd:function(a,
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           c,e,f,u){var b=document.createElement("P"),g=f,m=u,w=!1,p,h,t;(function r(d,f){for(var k=d.childNodes,l=k.length-1;0<=l;l--){var n=k[l],q=f;if(w){if(1===n.nodeType){r(n,n);continue}h=n;for(p=[];null!==h.parentNode&&h!==a&&h!==c;)e(h)&&1===h.nodeType&&p.push(h.cloneNode(!1)),h=h.parentNode;if(0<p.length){for(t=h=p.pop();0<p.length;)h=p.pop(),t.insertBefore(h,t.firstChild);c.insertBefore(t,c.firstChild);f=h}else f=c}if(w||n!==g){if(!w||e(n)){var u=n.cloneNode(!1);f.insertBefore(u,f.firstChild);1===
        n.nodeType&&(q=u)}r(n,q)}else{n=document.createTextNode(g.substringData(m,g.length-m));q=document.createTextNode(g.substringData(0,m));0<n.data.length&&f.insertBefore(n,f.firstChild);h=f;for(p=[];h!==b&&null!==h;)e(h)&&1===h.nodeType&&p.push(h.cloneNode(!1)),h=h.parentNode;for(t=h=p.pop()||f;0<p.length;)h=p.pop(),t.insertBefore(h,t.firstChild);t!==f?(c.insertBefore(t,c.firstChild),f=h):f=c;b.insertBefore(c,b.firstChild);g=q;m=q.data.length;w=!0;f.insertBefore(g,f.firstChild)}}})(a,b);a.parentNode.insertBefore(b,
            a);d.removeItem(a);return{container:g,offset:m}},indent:function(a,c){var b=d.getParentNode(a,"P");if(b){var g=/\d+/.test(b.style.marginLeft)?1*b.style.marginLeft.match(/\d+/)[0]:0;g="indent"===c?g+25:g-25;b.style.marginLeft=(0>g?0:g)+"px"}},toggleDisplayBlocks:function(){SUNEDITOR.dom.toggleClass(a.element.wysiwygWindow.document.body,"sun-editor-show-block")},toggleCodeView:function(){if(this._variable.wysiwygActive)a.element.code.value=a.element.wysiwygWindow.document.body.innerHTML.trim().replace(/<\/p>(?=[^\n])/gi,
            "</p>\n"),a.element.wysiwygElement.style.display="none",a.element.code.style.display="block",this._variable.wysiwygActive=!1;else{var b={"&amp;":"&","&nbsp;":"\u00a0","&lt;":"<","&gt;":">"},c=a.element.code.value.replace(/&[a-z]+;/g,function(a){return"string"===typeof b[a]?b[a]:a});a.element.wysiwygWindow.document.body.innerHTML=0<c.trim().length?c:"<p>&#65279</p>";a.element.wysiwygWindow.document.body.scrollTop=0;a.element.code.style.display="none";a.element.wysiwygElement.style.display="block";
            this._variable.wysiwygActive=!0}},toggleFullScreen:function(b){this._variable.isFullScreen?(a.element.topArea.style.cssText=this._variable.originCssText,a.element.editorArea.style.height=this._variable.editorHeight+"px",d.removeClass(b.firstElementChild,"icon-reduction"),d.addClass(b.firstElementChild,"icon-expansion")):(a.element.topArea.style.position="fixed",a.element.topArea.style.top="0",a.element.topArea.style.left="0",a.element.topArea.style.width="100%",a.element.topArea.style.height="100%",
            this._variable.innerHeight_fullScreen=window.innerHeight-a.tool.bar.offsetHeight,a.element.editorArea.style.height=this._variable.innerHeight_fullScreen+"px",d.removeClass(b.firstElementChild,"icon-expansion"),d.addClass(b.firstElementChild,"icon-reduction"));this._variable.isFullScreen=!this._variable.isFullScreen},openPreview:function(){var b=window.open("","_blank");b.mimeType="text/html";b.document.head.innerHTML='<meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1"><title>'+
            SUNEDITOR.lang.toolbar.preview+'</title><link rel="stylesheet" type="text/css" href="'+e.getBasePath+'css/suneditor-contents.css">';b.document.body.className="sun-editor-editable";b.document.body.innerHTML=a.element.wysiwygWindow.document.body.innerHTML}},f={_shortcutKeyCode:{66:["bold","B"],83:["strikethrough","STRIKE"],85:["underline","U"],73:["italic","I"],89:["redo"],90:["undo"],219:["outdent"],221:["indent"]},_directionKeyKeyCode:/^(?:8|13|32|46|33|34|35|36|37|38|39|40|98|100|102|104)$/,_changeButtonClassTagCheck:/^(?:B|U|I|STRIKE|SUB|SUP)$/,
        _findButtonEffectTag:function(){var b=c.commandMap,g=this._changeButtonClassTagCheck,f=[],e=!0,u=!0,l=!0,n=!0,k=!0,q=!0,p=!0,h=!0,t="",y="",x={};for(x.selectionParent=c._variable.selectionNode;!/^(?:BODY|HTML)$/i.test(x.selectionParent.nodeName);x={selectionParent:x.selectionParent},x.selectionParent=x.selectionParent.parentNode)1===x.selectionParent.nodeType&&(y=x.selectionParent.nodeName.toUpperCase(),e&&/^(?:P|DIV|H\d)$/.test(y)?(f.push("FORMAT"),d.changeTxt(b.FORMAT,y),e=!1):(u&&(0<x.selectionParent.style.fontFamily.length||
            x.selectionParent.face&&0<x.selectionParent.face.length)&&(f.push("FONT"),u=(x.selectionParent.style.fontFamily||x.selectionParent.face||SUNEDITOR.lang.toolbar.font).replace(/["']/g,""),d.changeTxt(b.FONT,u),u=!1),n&&/^A$/.test(y)&&null===x.selectionParent.getAttribute("data-image-link")?(a.link&&c.controllerArray[0]===a.link.linkBtn||c.callModule("dialog","link",null,function(a){return function(){SUNEDITOR.plugin.link.call_controller_linkButton.call(c,a.selectionParent)}}(x)),n=!1):n&&a.link&&c.controllerArray[0]===
            a.link.linkBtn&&c.controllersOff(),l&&/^SPAN$/.test(y)&&0<x.selectionParent.style.fontSize.length&&(f.push("SIZE"),d.changeTxt(b.SIZE,x.selectionParent.style.fontSize.match(/\d+/)[0]),l=!1),t=x.selectionParent.style.cssText,k&&/font\-weight\s*:\s*(?:\d+|bold|bolder)(?:;|\s|)/.test(t)&&(f.push("B"),k=!1),q&&/font\-style\s*:\s*(?:italic|oblique)(?:;|\s)/.test(t)&&(f.push("I"),q=!1),p&&/text\-decoration(?:\-line)?\s*:\s*underline(?:;|\s|)/.test(t)&&(f.push("U"),p=!1),h&&/text\-decoration(?:\-line)?\s*:\s*line-through(?:;|\s|)/.test(t)&&
        (f.push("STRIKE"),h=!1),f.push(/^STRONG$/.test(y)?"B":/^EM$/.test(y)?"I":y)));n&&c.controllersOff();for(e=0;e<f.length;e++)y=f[e],g.test(y)&&d.addClass(b[y],"on");for(var v in b)-1<f.indexOf(v)||(/^FONT/i.test(v)?d.changeTxt(b[v],SUNEDITOR.lang.toolbar.font):/^SIZE$/i.test(v)?d.changeTxt(b[v],SUNEDITOR.lang.toolbar.fontSize):d.removeClass(b[v],"on"))},resize_window:function(){c._variable.isFullScreen&&(c._variable.innerHeight_fullScreen+=window.innerHeight-a.tool.bar.offsetHeight-c._variable.innerHeight_fullScreen,
            a.element.editorArea.style.height=c._variable.innerHeight_fullScreen+"px")},touchstart_toolbar:function(){c._variable.isTouchMove=!1},touchmove_toolbar:function(){c._variable.isTouchMove=!0},onClick_toolbar:function(b){if(c._variable.isTouchMove)return!0;for(var g=b.target,f=g.getAttribute("data-display"),e=g.getAttribute("data-command"),u=g.className;!e&&!/editor_tool/.test(u)&&!/sun-editor-id-toolbar/.test(u);)g=g.parentNode,e=g.getAttribute("data-command"),f=g.getAttribute("data-display"),u=g.className;
            if(!e&&!f)return!0;b.preventDefault();b.stopPropagation();c.submenuOff();c.focus();if(f)!/submenu/.test(f)||null!==g.nextElementSibling&&g.nextElementSibling===c.submenu?/dialog/.test(f)&&c.callModule("dialog",e,null,function(){SUNEDITOR.plugin.dialog.openDialog.call(c,e,g.getAttribute("data-option"),!1)}):c.callModule("submenu",e,g,function(){c.submenuOn(g)});else if(e)switch(e){case "codeView":c.toggleCodeView();d.toggleClass(g,"on");break;case "fullScreen":c.toggleFullScreen(g);d.toggleClass(g,
                "on");break;case "indent":case "outdent":c.indent(c._variable.selectionNode,e);break;case "redo":case "undo":case "removeFormat":c.execCommand(e,!1,null);break;case "preview":c.openPreview();break;case "print":a.element.wysiwygWindow.print();break;case "showBlocks":c.toggleDisplayBlocks();d.toggleClass(g,"on");break;case "subscript":d.hasClass(a.tool.superscript,"on")&&(c.execCommand("superscript",!1,null),d.removeClass(a.tool.superscript,"on"));c.execCommand(e,!1,null);d.toggleClass(g,"on");break;
                case "superscript":d.hasClass(a.tool.subscript,"on")&&(c.execCommand("subscript",!1,null),d.removeClass(a.tool.subscript,"on"));c.execCommand(e,!1,null);d.toggleClass(g,"on");break;default:c.execCommand(e,!1,g.getAttribute("data-value")),d.toggleClass(g,"on")}},onMouseUp_wysiwyg:function(a){a.stopPropagation();var b=a.target;c.submenuOff();/^HTML$/i.test(b.nodeName)?(a.preventDefault(),c.focus()):/^IMG$/i.test(b.nodeName)?(a.preventDefault(),c.callModule("dialog","image",null,function(){var a=SUNEDITOR.plugin.dialog.call_controller_resize.call(c,
            b,"image");SUNEDITOR.plugin.image.onModifyMode.call(c,b,a)})):(c._setSelectionNode(),f._findButtonEffectTag())},onKeyDown_wysiwyg:function(b){c._setSelectionNode();var g=b.keyCode,e=b.shiftKey,w=b.ctrlKey||b.metaKey,u=b.altKey;b.stopPropagation();if(w&&!/^(?:16|17|18)$/.test(g)){var l;if(l=!(e&&83!==g))(l=f._shortcutKeyCode[g])?(c.execCommand(l[0],!1,null),d.toggleClass(c.commandMap[l[1]],"on"),l=!0):l=!1;if(l){b.preventDefault();return}}switch(g){case 8:if(/^P$/i.test(c._variable.selectionNode.tagName)&&
            null===c._variable.selectionNode.previousSibling)return b.preventDefault(),!1;break;case 9:if(b.preventDefault(),!w&&!u){for(b=c._variable.selectionNode||c.getSelection().anchorNode;!/^TD$/i.test(b.tagName)&&!/^BODY$/i.test(b.tagName);)b=b.parentNode;if(b&&/^TD$/i.test(b.tagName)){g=d.getParentNode(b,"table");g=d.getListChildren(g,d.isCell);b=e?d.prevIdx(g,b):d.nextIdx(g,b);b!==g.length||e||(b=0);-1===b&&e&&(b=g.length-1);b=g[b];if(!b)return!1;e=c.createRange();e.setStart(b,0);e.setEnd(b,0);b=c.getSelection();
            0<b.rangeCount&&b.removeAllRanges();b.addRange(e)}else e||(e=a.element.wysiwygWindow.document.createTextNode(Array(c._variable.tabSize+1).join("\u00a0")),c.insertNode(e,null),b=c.getSelection(),g=c.createRange(),g.setStart(e,c._variable.tabSize),g.setEnd(e,c._variable.tabSize),0<b.rangeCount&&b.removeAllRanges(),b.addRange(g))}}},onKeyUp_wysiwyg:function(a){c._setSelectionNode();f._directionKeyKeyCode.test(a.keyCode)&&f._findButtonEffectTag()},onScroll_wysiwyg:function(){c.controllersOff()},onDrop_wysiwyg:function(a){var b=
            a.dataTransfer.files;if(0===b.length)return!0;a.stopPropagation();a.preventDefault();c.focus();c.callModule("dialog","image",null,function(){c.context.image.imgInputFile.files=b;SUNEDITOR.plugin.image.onRender_imgInput.call(c);c.context.image.imgInputFile.files=null})},onMouseDown_resizeBar:function(b){function d(){a.element.resizeBackground.style.display="none";document.removeEventListener("mousemove",f.resize_editor);document.removeEventListener("mouseup",d)}b.stopPropagation();c._variable.resizeClientY=
            b.clientY;a.element.resizeBackground.style.display="block";document.addEventListener("mousemove",f.resize_editor);document.addEventListener("mouseup",d)},resize_editor:function(b){var d=b.clientY-c._variable.resizeClientY;a.element.editorArea.style.height=a.element.editorArea.offsetHeight+d+"px";c._variable.editorHeight=a.element.editorArea.offsetHeight+d;c._variable.resizeClientY=b.clientY}};a.tool.bar.addEventListener("touchstart",f.touchstart_toolbar);a.tool.bar.addEventListener("touchmove",f.touchmove_toolbar);
        a.tool.bar.addEventListener("touchend",f.onClick_toolbar);a.tool.bar.addEventListener("click",f.onClick_toolbar);a.element.wysiwygWindow.addEventListener("mouseup",f.onMouseUp_wysiwyg);a.element.wysiwygWindow.addEventListener("keydown",f.onKeyDown_wysiwyg);a.element.wysiwygWindow.addEventListener("keyup",f.onKeyUp_wysiwyg);a.element.wysiwygWindow.addEventListener("scroll",f.onScroll_wysiwyg);a.element.wysiwygWindow.addEventListener("drop",f.onDrop_wysiwyg);a.element.resizebar.addEventListener("mousedown",
            f.onMouseDown_resizeBar);window.addEventListener("resize",f.resize_window);return{save:function(){a.element.textElement.innerHTML=c._variable.wysiwygActive?a.element.wysiwygWindow.document.body.innerHTML:a.element.code.value},getContent:function(){var b="";return 0===a.element.wysiwygWindow.document.body.innerText.trim().length?b:b=c._variable.wysiwygActive?a.element.wysiwygWindow.document.body.innerHTML:a.element.code.value},setContent:function(b){b=A(b);c._variable.wysiwygActive?a.element.wysiwygWindow.document.body.innerHTML=
                b:a.element.code.value=b},appendContent:function(b){if(c._variable.wysiwygActive){var d=document.createElement("P");d.innerHTML=b;a.element.wysiwygWindow.document.body.appendChild(d)}else a.element.code.value+=b},disabled:function(){a.tool.cover.style.display="block";a.element.wysiwygWindow.document.body.setAttribute("contenteditable",!1)},enabled:function(){a.tool.cover.style.display="none";a.element.wysiwygWindow.document.body.setAttribute("contenteditable",!0)},show:function(){var b=a.element.topArea.style;
                b.cssText=c._variable.originCssText;"none"===b.display&&(b.display="block")},hide:function(){a.element.topArea.style.display="none"},destroy:function(){a.element.topArea.parentNode.removeChild(a.element.topArea);a.element.textElement.style.display="";this.destroy=this.hide=this.show=this.enabled=this.disabled=this.appendContent=this.setContent=this.getContent=this.save=null}}};SUNEDITOR.lang=SUNEDITOR.lang||SUNEDITOR.defaultLang;SUNEDITOR.create=function(a,d){var e=document.getElementById(a);if(null===
        e)throw Error('[SUNEDITOR.create.fail] The element for that id was not found (ID:"'+a+'")');var c=C(e,d);if(document.getElementById(c.constructed._top.id))throw Error('[SUNEDITOR.create.fail] The ID of the suneditor you are trying to create already exists (ID:"'+c.constructed._top.id+'")');e.style.display="none";"object"===typeof e.nextElementSibling?e.parentNode.insertBefore(c.constructed._top,e.nextElementSibling):e.parentNode.appendChild(c.constructed._top);var f=c.constructed;c=c.options;e={element:{textElement:e,
            topArea:f._top,relative:f._relative,resizebar:f._resizeBar,editorArea:f._editorArea,wysiwygWindow:f._editorArea.getElementsByClassName("sun-editor-id-wysiwyg")[0].contentWindow,wysiwygElement:f._editorArea.getElementsByClassName("sun-editor-id-wysiwyg")[0],code:f._editorArea.getElementsByClassName("sun-editor-id-code")[0],loading:f._loading,resizeBackground:f._resizeBack},tool:{bar:f._toolBar,cover:f._toolBar.getElementsByClassName("sun-editor-id-toolbar-cover")[0],bold:f._toolBar.getElementsByClassName("sun-editor-id-bold")[0],
            underline:f._toolBar.getElementsByClassName("sun-editor-id-underline")[0],italic:f._toolBar.getElementsByClassName("sun-editor-id-italic")[0],strike:f._toolBar.getElementsByClassName("sun-editor-id-strike")[0],subscript:f._toolBar.getElementsByClassName("sun-editor-id-subscript")[0],superscript:f._toolBar.getElementsByClassName("sun-editor-id-superscript")[0],font:f._toolBar.getElementsByClassName("sun-editor-font-family")[0],format:f._toolBar.getElementsByClassName("sun-editor-font-format")[0],fontSize:f._toolBar.getElementsByClassName("sun-editor-font-size")[0]},
        user:{videoX:c.videoX,videoY:c.videoY,imageFileInput:c.imageFileInput,imageUrlInput:c.imageUrlInput,imageSize:c.imageSize,imageUploadUrl:c.imageUploadUrl,addFont:c.addFont,fontList:c.fontList,fontSizeList:c.fontSizeList,height:c.height.match(/\d+/)[0]}};return E(e,SUNEDITOR.dom,SUNEDITOR.util)};SUNEDITOR.destroy=function(a){var d=document.getElementById("suneditor_"+a);d.parentNode.removeChild(d);document.getElementById(a).style.display=""}})();
