"undefined"===typeof window.SUNEDITOR&&(window.SUNEDITOR={},SUNEDITOR.plugin={});
SUNEDITOR.defaultLang={toolbar:{font:"Font",formats:"Formats",fontSize:"Size",bold:"Bold",underline:"Underline",italic:"Italic",strike:"Strike",removeFormat:"Remove Format",fontColor:"Font Color",hiliteColor:"Hilite Color",indent:"Indent",outdent:"Outdent",align:"Align",alignLeft:"Align left",alignRight:"Align right",alignCenter:"Align center",justifyFull:"Justify full",list:"list",orderList:"Ordered list",unorderList:"Unordered list",line:"Line",table:"Table",link:"Link",image:"Image",video:"Video",
        fullScreen:"Full Screen",codeView:"Code View",undo:"Undo",redo:"Redo",preview:"Preview",print:"print"},dialogBox:{linkBox:{title:"Insert Link",url:"URL to link",text:"Text to display",newWindowCheck:"Open in new window"},imageBox:{title:"Insert Image",file:"Select from files",url:"Image URL",resize100:"resize 100%",resize75:"resize 75%",resize50:"resize 50%",resize25:"resize 25%",remove:"remove image",caption:"Insert image description",altText:"Alternative Text"},videoBox:{title:"Insert Video",url:"Media embed URL, YouTube"},
        submitButton:"Submit",width:"Width",height:"Height",basic:"Basic",left:"Left",right:"Right",center:"Center"},editLink:{edit:"Edit",remove:"Remove"}};
(function(){function A(a){var e='<div class="sun-editor-id-toolbar-cover"></div>',f=null;var c=SUNEDITOR.lang;c={font:["btn_font",c.toolbar.font,"font","submenu","",'<span class="txt sun-editor-font-family">'+c.toolbar.font+'</span><span class="ico_more"></span>'],formats:["btn_format",c.toolbar.formats,"formatBlock","submenu","",'<span class="txt">'+c.toolbar.formats+'</span><span class="ico_more"></span>'],fontSize:["btn_size",c.toolbar.fontSize,"fontSize","submenu","",'<span class="txt sun-editor-font-size">'+
    c.toolbar.fontSize+'</span><span class="ico_more"></span>'],bold:["sun-editor-id-bold",c.toolbar.bold+"(Ctrl+B)","bold","","",'<div class="ico_bold"></div>'],underline:["sun-editor-id-underline",c.toolbar.underline+"(Ctrl+U)","underline","","",'<div class="ico_underline"></div>'],italic:["sun-editor-id-italic",c.toolbar.italic+"(Ctrl+I)","italic","","",'<div class="ico_italic"></div>'],strike:["sun-editor-id-strike",c.toolbar.strike+"(Ctrl+SHIFT+S)","strikethrough","","",'<div class="ico_strike"></div>'],
    removeFormat:["",c.toolbar.removeFormat+"","removeFormat","","",'<div class="ico_erase"></div>'],fontColor:["",c.toolbar.fontColor,"foreColor","submenu","",'<div class="ico_foreColor"></div>'],hiliteColor:["",c.toolbar.hiliteColor,"hiliteColor","submenu","",'<div class="ico_hiliteColor"></div>'],indent:["",c.toolbar.indent+"(Ctrl + [)","indent","","",'<div class="ico_indnet"></div>'],outdent:["",c.toolbar.outdent+"(Ctrl + ])","outdent","","",'<div class="ico_outdent"></div>'],align:["btn_align",c.toolbar.align,
        "align","submenu","",'<div class="ico_align"></div>'],list:["",c.toolbar.list,"list","submenu","",'<div class="ico_list_num"></div>'],line:["btn_line",c.toolbar.line,"horizontalRules","submenu","",'<hr style="border-width: 1px 0 0; border-style: solid none none; border-color: black; border-image: initial; height: 1px;" /><hr style="border-width: 1px 0 0; border-style: dotted none none; border-color: black; border-image: initial; height: 1px;" /><hr style="border-width: 1px 0 0; border-style: dashed none none; border-color: black; border-image: initial; height: 1px;" />'],
    table:["",c.toolbar.table,"table","submenu","",'<div class="ico_table"></div>'],link:["",c.toolbar.link,"link","dialog","",'<div class="ico_url"></div>'],image:["",c.toolbar.image,"image","dialog","",'<div class="ico_picture"></div>'],video:["",c.toolbar.video,"video","dialog","",'<div class="ico_video"></div>'],fullScreen:["",c.toolbar.fullScreen,"fullScreen","","",'<div class="ico_full_screen_e"></div>'],codeView:["",c.toolbar.codeView,"codeView","","",'<div class="ico_html"></div>'],undo:["",c.toolbar.undo+
    " (Ctrl+Z)","undo","","",'<div class="ico_undo"></div>'],redo:["",c.toolbar.redo+" (Ctrl+Y)","redo","","",'<div class="ico_redo"></div>'],preview:["",c.toolbar.preview,"preview","","",'<div class="ico_preview"></div>'],print:["",c.toolbar.print,"print","","",'<div class="ico_print"></div>']};for(var g=0;g<a.length;g++){for(var b=a[g],d=0;d<b.length;d++){var p=b[d];p="object"===typeof p?[p.className,p.title,p.dataCommand,p.dataDisplay,p.displayOption,p.innerHTML]:c[p];f+='<li>   <button type="button" class="btn_editor '+
    p[0]+'" title="'+p[1]+'" data-command="'+p[2]+'" data-display="'+p[3]+'" data-option="'+p[4]+'">'+p[5]+"   </button></li>"}f=f?'<div class="tool_module"><ul class="editor_tool">'+f+"</ul></div>":"";e+=f;f=null}return e}function B(a,e){"object"!==typeof e&&(e={});e.addFont=e.addFont||null;e.videoX=e.videoX||560;e.videoY=e.videoY||315;e.imageSize=e.imageSize||350;e.imageUploadUrl=e.imageUploadUrl||null;e.fontList=e.fontList||null;e.fontSizeList=e.fontSizeList||null;e.height=/^\d+/.test(e.height)?/^\d+$/.test(e.height)?
    e.height+"px":e.height:a.clientHeight+"px";e.buttonList=e.buttonList||[["undo","redo"],["font","fontSize","formats"],["bold","underline","italic","strike","removeFormat"],["fontColor","hiliteColor"],["indent","outdent"],["align","line","list","table"],["link","image","video"],["fullScreen","codeView"],["preview","print"]];e.width=/^\d+/.test(e.width)?/^\d+$/.test(e.width)?e.width+"px":e.width:/%|auto/.test(a.style.width)?a.style.width:a.clientWidth+"px";e.display=e.display||("none"!==a.style.display&&
a.style.display?a.style.display:"block");var f=document,c=f.createElement("DIV");c.className="sun-editor";c.id="suneditor_"+a.id;c.style.width=e.width;c.style.display=e.display;var g=f.createElement("DIV");g.className="sun-editor-container";var b=f.createElement("DIV");b.className="sun-editor-id-toolbar";b.innerHTML=A(e.buttonList);var d=f.createElement("DIV");d.className="sun-editor-id-editorArea";d.style.height=e.height;var p=f.createElement("IFRAME");p.allowFullscreen=!0;p.frameBorder=0;p.className=
    "input_editor sun-editor-id-wysiwyg";p.style.display="block";var v=f.createElement("TEXTAREA");v.className="input_editor html sun-editor-id-code";v.style.display="none";p.addEventListener("load",function(){this.setAttribute("scrolling","auto");this.contentWindow.document.head.innerHTML='<meta charset="utf-8" /><title>SunEditor</title><link rel="stylesheet" type="text/css" href="'+SUNEDITOR.func.getBasePath+'css/suneditor-contents.css">';this.contentWindow.document.body.className="sun-editor-editable";
    this.contentWindow.document.body.setAttribute("contenteditable",!0);if(0<a.value.length){var b="";var d=document.createRange().createContextualFragment(a.value).childNodes;for(var c=0,e=d.length;c<e;c++){var p=d[c].outerHTML||d[c].textContent;b=/^(?:P|TABLE|H[1-6]|DIV)$/i.test(d[c].tagName)?b+p:b+("<P>"+p+"</p>")}this.contentWindow.document.body.innerHTML=b}else this.contentWindow.document.body.innerHTML="<p>&#65279</p>"});var t=f.createElement("DIV");t.className="sun-editor-id-resizeBar";var k=f.createElement("DIV");
    k.className="sun-editor-id-loading";k.innerHTML='<div class="ico-loading"></div>';f=f.createElement("DIV");f.className="sun-editor-id-resize-background";d.appendChild(p);d.appendChild(v);g.appendChild(b);g.appendChild(d);g.appendChild(t);g.appendChild(f);g.appendChild(k);c.appendChild(g);return{constructed:{_top:c,_relative:g,_toolBar:b,_editorArea:d,_resizeBar:t,_loading:k,_resizeBack:f},options:e}}SUNEDITOR.func={getXMLHttpRequest:function(){if(window.ActiveXObject)try{return new ActiveXObject("Msxml2.XMLHTTP")}catch(a){try{return new ActiveXObject("Microsoft.XMLHTTP")}catch(e){return null}}else return window.XMLHttpRequest?
        new XMLHttpRequest:null},copyObj:function(a){var e={},f;for(f in a)e[f]=a[f];return e},getBasePath:function(){var a=SUNEDITOR.SUNEDITOR_BASEPATH||"";if(!a)for(var e=document.getElementsByTagName("script"),f=0;f<e.length;f++){var c=e[f].src.match(/(^|.*[\\\/])suneditor(\.min)?\.js(?:\?.*|;.*)?$/i);if(c){a=c[1];break}}-1===a.indexOf(":/")&&"//"!==a.slice(0,2)&&(a=0===a.indexOf("/")?location.href.match(/^.*?:\/\/[^\/]*/)[0]+a:location.href.match(/^[^\?]*\/(?:)/)[0]+a);if(!a)throw'[SUNEDITOR.func.getBasePath.fail] The SUNEDITOR installation path could not be automatically detected. Please set the global variable "SUNEDITOR.SUNEDITOR_BASEPATH" before creating editor instances.';
        return a}(),includeFile:function(a,e,f){var c=document.createElement("script");c.type=a;c.src=e;c.onload=f;document.getElementsByTagName("head")[0].appendChild(c)}};SUNEDITOR.dom={getArrayIndex:function(a,e){for(var f=-1,c=a.length,g=0;g<c;g++)if(a[g]===e){f=g;break}return f},nextIdx:function(a,e){var f=this.getArrayIndex(a,e);return-1===f?-1:f+1},prevIdx:function(a,e){var f=this.getArrayIndex(a,e);return-1===f?-1:f-1},isCell:function(a){return a&&/^(?:TD|TH)$/i.test(a.nodeName)},getListChildren:function(a,
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      e){var f=[];e=e||function(){return!0};(function b(g){a!==g&&e(g)&&f.push(g);for(var d=0,p=g.children.length;d<p;d++)b(g.children[d])})(a);return f},getListChildNodes:function(a,e){var f=[];e=e||function(){return!0};(function b(a){e(a)&&f.push(a);for(var d=0,p=a.childNodes.length;d<p;d++)b(a.childNodes[d])})(a);return f},getParentNode:function(a,e){if(/\./.test(e)){var f="className";e=e.split(".")[1]}else/#/.test(e)?(f="id",e="^"+e.split("#")[1]+"$"):/:/.test(e)?(f="name",e="^"+e.split(":")[1]+"$"):
        (f="tagName",e="^"+e+"$");for(var c=new RegExp(e,"i");a&&(3===a.nodeType||!c.test(a[f]));){if(/^BODY$/i.test(a.tagName))return null;a=a.parentNode}return a},changeTxt:function(a,e){a&&e&&(a.textContent=e)},addClass:function(a,e){a&&!(new RegExp("(\\s|^)"+e+"(\\s|$)")).test(a.className)&&(a.className+=" "+e)},removeClass:function(a,e){a&&(a.className=a.className.replace(new RegExp("(\\s|^)"+e+"(\\s|$)")," ").trim())},toggleClass:function(a,e){if(a){var f=new RegExp("(\\s|^)"+e+"(\\s|$)");f.test(a.className)?
        a.className=a.className.replace(f," ").trim():a.className+=" "+e}},removeItem:function(a){try{a.remove()}catch(e){a.parentNode.removeChild(a)}}};var E=function(a,e,f){var c={context:a,loadedPlugins:{},dialogForm:null,submenu:null,submenuActiveButton:null,controllerArray:[],commandMap:{FONT:a.tool.font,B:a.tool.bold,U:a.tool.underline,I:a.tool.italic,STRIKE:a.tool.strike,SIZE:a.tool.fontSize},_variable:{selectionNode:null,copySelection:null,wysiwygActive:!0,isFullScreen:!1,innerHeight_fullScreen:0,
        resizeClientY:0,tabSize:4,originCssText:a.element.topArea.style.cssText,editorHeight:a.user.height,isTouchMove:!1},callModule:function(b,d,a,c){var e=f.getBasePath+"plugins/"+b;if("dialog"===b){var p=this._callBack_addModule.bind(this,"dialog","dialog",a,this.callModule.bind(this,b,d,a,c));if(!SUNEDITOR.plugin.dialog){f.includeFile("text/javascript",e+"/dialog.js",p);return}if(!this.loadedPlugins.dialog){p();return}}SUNEDITOR.plugin[d]?this.loadedPlugins[d]?"function"===typeof c&&c():this._callBack_addModule(b,
        d,a,c):f.includeFile("text/javascript",e+"/"+d+".js",this._callBack_addModule.bind(this,b,d,a,c))},_callBack_addModule:function(b,d,a,c){this.context[b]||(this.context[b]={});SUNEDITOR.plugin[d].add(this,a);this.loadedPlugins[d]=!0;"function"===typeof c&&c()},submenuOn:function(b){this.submenu=b.nextElementSibling;this.submenu.style.display="block";e.addClass(b,"on");this.submenuActiveButton=b},submenuOff:function(){this.submenu&&(this.submenu.style.display="none",this.submenu=null,e.removeClass(this.submenuActiveButton,
        "on"),this.submenuActiveButton=null);this.controllersOff()},controllersOff:function(){var b=this.controllerArray.length;if(0<b){for(var d=0;d<b;d++)this.controllerArray[d].style.display="none";this.controllerArray=[]}},execCommand:function(b,d,c){a.element.wysiwygWindow.document.execCommand(b,d,c)},focus:function(){var b=e.getParentNode(this._variable.selectionNode,"figcaption");b?b.focus():a.element.wysiwygWindow.document.body.focus()},_setSelectionNode:function(){this._variable.copySelection=f.copyObj(this.getSelection());
        var b=this.getRange();this._variable.selectionNode=b.startContainer!==b.endContainer?b.startContainer:this.getSelectionNode()},isEdgePoint:function(b,d){return 0===d||d===b.nodeValue.length},createRange:function(){return a.element.wysiwygWindow.document.createRange()},getSelection:function(){return a.element.wysiwygWindow.getSelection()},getSelectionNode:function(){return this.getSelection().extentNode||this.getSelection().anchorNode},getRange:function(){var b=this.getSelection();if(0<b.rangeCount)var d=
        b.getRangeAt(0);else d=this.createRange(),(b=this._variable.copySelection)?(d.setStart(b.anchorNode,b.anchorOffset),d.setEnd(b.focusNode,b.focusOffset)):(b=this._variable.selectionNode||a.element.wysiwygWindow.document.body.firstChild,d.setStart(b,0),d.setEnd(b,0));return d},setRange:function(b,d,a,c){var e=this.createRange();e.setStart(b,d);e.setEnd(a,c);b=this.getSelection();0<b.rangeCount&&b.removeAllRanges();b.addRange(e)},showLoading:function(){a.element.loading.style.display="block"},closeLoading:function(){a.element.loading.style.display=
        "none"},getLineElement:function(b){for(b=b||this._variable.selectionNode;!/^BODY$/i.test(b.parentNode.tagName);)b=b.parentNode;return b},appendP:function(b){b=this.getLineElement(b);var a=document.createElement("P");a.innerHTML="&#65279";b.parentNode.insertBefore(a,b.nextElementSibling);return a},insertNode:function(b,a){if(a){var c=a.parentNode;a=a.nextSibling}else{var d=this.getSelection();c=this.getRange();var e=c.startContainer,f=c.startOffset,g=c.endContainer,m=c.endOffset;c=e;3===e.nodeType&&
    (c=e.parentNode);if(e===g&&f===m)d.focusNode&&3===d.focusNode.nodeType?a=d.focusNode.splitText(m):(null!==c.lastChild&&/^BR$/i.test(c.lastChild.nodeName)&&c.removeChild(c.lastChild),a=null);else{var l=e;if(e===g)this.isEdgePoint(g,m)||(a=g.splitText(m)),this.isEdgePoint(e,f)||(l=e.splitText(f)),c.removeChild(l);else for(d.deleteFromDocument?d.deleteFromDocument():this.removeNode(),a=g;1!==a.nodeType;)a=a.parentNode}}try{c.insertBefore(b,a)}catch(r){c.appendChild(b)}},removeNode:function(){var b=this.getRange(),
        a=b.startContainer,c=b.startOffset,f=b.endContainer,g=b.endOffset;b=e.getListChildNodes(b.commonAncestorContainer);var k=e.getArrayIndex(b,a);var n=e.getArrayIndex(b,f),m,l=a;for(m=k+1;0<=m;m--)b[m]===l.parentNode&&b[m].firstChild===l&&0===c&&(k=m,l=l.parentNode);l=f;for(m=n-1;m>k;m--)b[m]===l.parentNode&&1===b[m].nodeType&&(b.splice(m,1),l=l.parentNode,--n);for(m=k;m<=n;m++)k=b[m],0===k.length||3===k.nodeType&&void 0===k.data?e.removeItem(k):k===a?(k=1===a.nodeType?document.createTextNode(a.textContent):
        document.createTextNode(a.substringData(0,c)),0<k.length?a.data=k.data:e.removeItem(a)):k===f?(k=1===f.nodeType?document.createTextNode(f.textContent):document.createTextNode(f.substringData(g,f.length-g)),0<k.length?f.data=k.data:e.removeItem(f)):e.removeItem(k)},wrapRangeToTag:function(b,a){var c=this.getRange(),d=c.startContainer,f=c.startOffset,g=c.endContainer,n=c.endOffset,m=c.commonAncestorContainer;c={};var l={};if(a){var r="(?:;|^|\\s)(?:"+a[0];for(u=1;u<a.length;u++)r+="|"+a[u];r+=")\\s*:[^;]*\\s*(?:;|$)";
        r=new RegExp(r,"gi")}if(d===g){var h=b.cloneNode(!1);if(f===n)h.innerHTML="&nbsp;",d.parentNode.insertBefore(h,d.nextSibling);else{g=document.createTextNode(d.substringData(0,f));var x=document.createTextNode(d.substringData(n,d.length-n));h.innerText=d.substringData(f,n-f);d.parentNode.insertBefore(h,d.nextSibling);d.data=0<g.data.length?g.data:d.substringData(0,f);0<x.data.length&&d.parentNode.insertBefore(x,h.nextSibling)}c.container=h;c.offset=0;l.container=h;l.offset=1}else if(x=function(a){if(3===
        a.nodeType)return!0;var c="";r&&0<a.style.cssText.length&&(c=a.style.cssText.replace(r,"").trim());return a.nodeName!==b.nodeName||0<c.length?(0<a.style.cssText.length&&(a.style.cssText=c),!0):!1},/BODY/i.test(m.nodeName)){l=e.getListChildren(m,function(b){return/^P$/i.test(b.nodeName)});m=e.getParentNode(d,"P");var z=e.getParentNode(g,"P"),u=0;for(c=l.length;u<c;u++)if(m===l[u])m=u;else if(z===l[u]){z=u;break}h=b.cloneNode(!1);c=this._wrapLineNodesStart(l[m],h,x,d,f);for(u=m+1;u<z;u++)h=b.cloneNode(!1),
        this._wrapLineNodes(l[u],h,x);h=b.cloneNode(!1);l=this._wrapLineNodesEnd(l[z],h,x,g,n)}else h=b.cloneNode(!1),d=this._wrapLineNodesPart(m,h,x,d,f,g,n),c.container=d.startContainer,c.offset=d.startOffset,l.container=d.endContainer,l.offset=d.endOffset;this.setRange(c.container,c.offset,l.container,l.offset)},_wrapLineNodesPart:function(b,a,c,f,g,k,n){var d=f,p=g,r=k,h=n,t=!1,v=!1,u,q,w,y=[];(function C(f,g){for(var k=f.childNodes,m=0,n=k.length;m<n&&!v;m++){var l=k[m];if(t&&l!==r&&3===l.nodeType){q=
        l;for(u=[];q!==b&&null!==q;)c(q)&&1===q.nodeType&&u.push(q.cloneNode(!1)),q=q.parentNode;if(0<u.length){for(w=q=u.pop();0<u.length;)q=u.pop(),w.appendChild(q);a.appendChild(w);g=q}else g=a;g.appendChild(l.cloneNode(!1));y.push(l)}if(l===d){var x=document.createTextNode(d.substringData(0,p)),D=document.createTextNode(d.substringData(p,d.length-p));0<x.length?d.data=x.data:y.push(d);q=l;for(u=[];q!==b&&null!==q;)c(q)&&1===q.nodeType&&u.push(q.cloneNode(!1)),q=q.parentNode;for(w=q=u.pop()||l;0<u.length;)q=
        u.pop(),w.appendChild(q);w!==l?(a.appendChild(w),g=q):g=a;d=D;p=0;g.appendChild(d);t=!0}else{if(l===r){k=document.createTextNode(r.substringData(h,r.length-h));m=document.createTextNode(r.substringData(0,h));n=q=l;for(u=[];q!==b&&null!==q;)c(q)&&1===q.nodeType&&u.push(q.cloneNode(!1)),n=q,q=q.parentNode;for(w=q=u.pop()||l;0<u.length;)q=u.pop(),w.appendChild(q);w!==l?(a.appendChild(w),g=q):g=a;0<k.length?r.data=k.data:y.push(r);r=m;h=m.length;g.appendChild(r);for(b.insertBefore(a,n);0<y.length;){l=
        y.pop();for(l.data="";l.parentNode&&0===l.parentNode.innerText.length;)l=l.parentNode;e.removeItem(l)}v=!0;break}C(l)}}})(b);return{startContainer:d,startOffset:p,endContainer:r,endOffset:h}},_wrapLineNodes:function(b,a,c){(function n(b,a){for(var d=b.childNodes,e=0,f=d.length;e<f;e++){var g=d[e],p=a;if(c(g)){var k=g.cloneNode(!1);a.appendChild(k);1===g.nodeType&&(p=k)}n(g,p)}})(b,a);b.innerHTML="";b.appendChild(a)},_wrapLineNodesStart:function(b,a,c,f,g){var d=f,p=g,m=document.createElement("P"),
        l=!1,r,h,v;(function w(e,f){for(var g=e.childNodes,k=0,q=g.length;k<q;k++){var n=g[k],t=f;if(l){if(1===n.nodeType){w(n,n);continue}h=n;for(r=[];null!==h.parentNode&&h!==b&&h!==a;)c(h)&&1===h.nodeType&&r.push(h.cloneNode(!1)),h=h.parentNode;if(0<r.length){for(v=h=r.pop();0<r.length;)h=r.pop(),v.appendChild(h);a.appendChild(v);f=h}else f=a}if(l||n!==d){if(!l||c(n)){var u=n.cloneNode(!1);f.appendChild(u);1===n.nodeType&&(t=u)}w(n,t)}else{n=document.createTextNode(d.substringData(0,p));t=document.createTextNode(d.substringData(p,
        d.length-p));0<n.data.length&&f.appendChild(n);h=f;for(r=[];h!==m&&null!==h;)c(h)&&1===h.nodeType&&r.push(h.cloneNode(!1)),h=h.parentNode;for(v=h=r.pop()||f;0<r.length;)h=r.pop(),v.appendChild(h);v!==f?(a.appendChild(v),f=h):f=a;m.appendChild(a);d=t;p=0;l=!0;f.appendChild(d)}}})(b,m);b.parentNode.insertBefore(m,b);e.removeItem(b);return{container:d,offset:p}},_wrapLineNodesEnd:function(a,c,f,g,t){var b=g,d=t,p=document.createElement("P"),l=!1,r,h,v;(function w(e,g){for(var n=e.childNodes,m=n.length-
        1;0<=m;m--){var k=n[m],q=g;if(l){if(1===k.nodeType){w(k,k);continue}h=k;for(r=[];null!==h.parentNode&&h!==a&&h!==c;)f(h)&&1===h.nodeType&&r.push(h.cloneNode(!1)),h=h.parentNode;if(0<r.length){for(v=h=r.pop();0<r.length;)h=r.pop(),v.insertBefore(h,v.firstChild);c.insertBefore(v,c.firstChild);g=h}else g=c}if(l||k!==b){if(!l||f(k)){var t=k.cloneNode(!1);g.insertBefore(t,g.firstChild);1===k.nodeType&&(q=t)}w(k,q)}else{k=document.createTextNode(b.substringData(d,b.length-d));q=document.createTextNode(b.substringData(0,
        d));0<k.data.length&&g.insertBefore(k,g.firstChild);h=g;for(r=[];h!==p&&null!==h;)f(h)&&1===h.nodeType&&r.push(h.cloneNode(!1)),h=h.parentNode;for(v=h=r.pop()||g;0<r.length;)h=r.pop(),v.insertBefore(h,v.firstChild);v!==g?(c.insertBefore(v,c.firstChild),g=h):g=c;p.insertBefore(c,p.firstChild);b=q;d=q.data.length;l=!0;g.insertBefore(b,g.firstChild)}}})(a,p);a.parentNode.insertBefore(p,a);e.removeItem(a);return{container:b,offset:d}},indent:function(a,c){var b=e.getParentNode(a,"P");if(b){var d=/\d+/.test(b.style.marginLeft)?
        1*b.style.marginLeft.match(/\d+/)[0]:0;d="indent"===c?d+25:d-25;b.style.marginLeft=(0>d?0:d)+"px"}},toggleFrame:function(){if(this._variable.wysiwygActive)a.element.code.value=a.element.wysiwygWindow.document.body.innerHTML.trim().replace(/<\/p>(?=[^\n])/gi,"</p>\n"),a.element.wysiwygElement.style.display="none",a.element.code.style.display="block",this._variable.wysiwygActive=!1;else{var b={"&amp;":"&","&nbsp;":"\u00a0","&lt;":"<","&gt;":">"},c=a.element.code.value.replace(/&[a-z]+;/g,function(a){return"string"===
    typeof b[a]?b[a]:a});a.element.wysiwygWindow.document.body.innerHTML=0<c.trim().length?c:"<p>&#65279</p>";a.element.wysiwygWindow.document.body.scrollTop=0;a.element.code.style.display="none";a.element.wysiwygElement.style.display="block";this._variable.wysiwygActive=!0}},toggleFullScreen:function(b){this._variable.isFullScreen?(a.element.topArea.style.cssText=this._variable.originCssText,a.element.editorArea.style.height=this._variable.editorHeight+"px",e.removeClass(b.firstElementChild,"ico_full_screen_i"),
        e.addClass(b.firstElementChild,"ico_full_screen_e")):(a.element.topArea.style.position="fixed",a.element.topArea.style.top="0",a.element.topArea.style.left="0",a.element.topArea.style.width="100%",a.element.topArea.style.height="100%",this._variable.innerHeight_fullScreen=window.innerHeight-a.tool.bar.offsetHeight,a.element.editorArea.style.height=this._variable.innerHeight_fullScreen+"px",e.removeClass(b.firstElementChild,"ico_full_screen_e"),e.addClass(b.firstElementChild,"ico_full_screen_i"));
        this._variable.isFullScreen=!this._variable.isFullScreen},preview:function(){var b=window.open("","_blank");b.mimeType="text/html";b.document.head.innerHTML='<meta charset="utf-8" /><title>'+SUNEDITOR.lang.toolbar.preview+'</title><link rel="stylesheet" type="text/css" href="'+f.getBasePath+'css/suneditor-contents.css">';b.document.body.className="sun-editor-editable";b.document.body.innerHTML=a.element.wysiwygWindow.document.body.innerHTML}},g={_shortcutKeyCode:{66:["bold","B"],83:["strikethrough",
            "STRIKE"],85:["underline","U"],73:["italic","I"],89:["redo"],90:["undo"],219:["outdent"],221:["indent"]},_directionKeyKeyCode:/^(?:8|13|32|46|33|34|35|36|37|38|39|40|98|100|102|104)$/,_findButtonEffectTag:function(){for(var b=c._variable.selectionNode,d=!0,f=!0,g=!0,t="B|U|I|STRIKE|FONT|SIZE|",k=new RegExp(t,"i"),n;!/^(?:P|BODY|HTML|DIV)$/i.test(b.nodeName);){if(3!==b.nodeType){var m=[/^STRONG$/.test(b.nodeName)?"B":/^EM/.test(b.nodeName)?"I":b.nodeName];d&&1===b.nodeType&&(0<b.style.fontFamily.length||
        b.face&&0<b.face.length)&&(m.push("FONT"),d=(b.style.fontFamily||b.face||SUNEDITOR.lang.toolbar.font).replace(/["']/g,""),e.changeTxt(c.commandMap.FONT,d),d=!1,t=t.replace("FONT|",""),k=new RegExp(t,"i"));if(g&&/^A$/i.test(b.nodeName)&&null===b.getAttribute("data-image-link")){if(!a.link||c.controllerArray[0]!==a.link.linkBtn){var l=b;c.callModule("dialog","link",null,function(){SUNEDITOR.plugin.link.call_controller_linkButton.call(c,l)})}g=!1}else g&&a.link&&c.controllerArray[0]===a.link.linkBtn&&
    c.controllersOff();f&&0<b.style.fontSize.length&&(e.changeTxt(c.commandMap.SIZE,b.style.fontSize.match(/\d+/)[0]),f=!1,t=t.replace("SIZE|",""),k=new RegExp(t,"i"));n=b.style.cssText;/:\s*bold(?:;|\s)/.test(n)&&m.push("B");/:\s*underline(?:;|\s)/.test(n)&&m.push("U");/:\s*italic(?:;|\s)/.test(n)&&m.push("I");/:\s*line-through(?:;|\s)/.test(n)&&m.push("STRIKE");for(n=0;n<m.length;n++)k.test(m[n])&&(e.addClass(c.commandMap[m[n]],"on"),t=t.replace(m[n]+"|",""),k=new RegExp(t,"i"))}b=b.parentNode}g&&c.controllersOff();
        t=t.split("|");b=t.length-1;for(n=0;n<b;n++)/^FONT/i.test(t[n])?e.changeTxt(c.commandMap[t[n]],SUNEDITOR.lang.toolbar.font):/^SIZE$/i.test(t[n])?e.changeTxt(c.commandMap[t[n]],SUNEDITOR.lang.toolbar.fontSize):e.removeClass(c.commandMap[t[n]],"on")},resize_window:function(){c._variable.isFullScreen&&(c._variable.innerHeight_fullScreen+=window.innerHeight-a.tool.bar.offsetHeight-c._variable.innerHeight_fullScreen,a.element.editorArea.style.height=c._variable.innerHeight_fullScreen+"px")},touchstart_toolbar:function(){c._variable.isTouchMove=
        !1},touchmove_toolbar:function(){c._variable.isTouchMove=!0},onClick_toolbar:function(b){if(c._variable.isTouchMove)return!0;for(var d=b.target,g=d.getAttribute("data-display"),f=d.getAttribute("data-command"),t=d.className;!f&&!/editor_tool/.test(t)&&!/sun-editor-id-toolbar/.test(t);)d=d.parentNode,f=d.getAttribute("data-command"),g=d.getAttribute("data-display"),t=d.className;if(!f&&!g)return!0;b.preventDefault();b.stopPropagation();c.focus();if(g)b=c.submenu,c.submenuOff(),!/submenu/.test(g)||
    null!==d.nextElementSibling&&d.nextElementSibling===b?/dialog/.test(g)&&c.callModule("dialog",f,null,function(){SUNEDITOR.plugin.dialog.openDialog.call(c,f,d.getAttribute("data-option"))}):c.callModule("submenu",f,d,function(){c.submenuOn(d)});else{if(f)switch(g=d.getAttribute("data-value"),f){case "codeView":c.toggleFrame();e.toggleClass(d,"on");break;case "fullScreen":c.toggleFullScreen(d);e.toggleClass(d,"on");break;case "indent":case "outdent":c.indent(c._variable.selectionNode,f);break;case "redo":case "undo":case "removeFormat":c.execCommand(f,
        !1,null);break;case "preview":c.preview();break;case "print":a.element.wysiwygWindow.print();break;default:c.execCommand(f,!1,g),e.toggleClass(d,"on")}c.submenuOff()}},onMouseUp_wysiwyg:function(a){a.stopPropagation();c._setSelectionNode();var b=a.target;c.submenuOff();/^HTML$/i.test(b.nodeName)?(a.preventDefault(),c.focus()):/^IMG$/i.test(b.nodeName)?c.callModule("dialog","image",null,function(){SUNEDITOR.plugin.image._call_controller_imageResize.call(c,b)}):g._findButtonEffectTag()},onKeyDown_wysiwyg:function(b){c._setSelectionNode();
        var d=b.keyCode,f=b.shiftKey,v=b.ctrlKey||b.metaKey,t=b.altKey;b.stopPropagation();if(v&&!/^(?:16|17|18)$/.test(d)){var k;if(k=!(f&&83!==d))(k=g._shortcutKeyCode[d])?(c.execCommand(k[0],!1,null),e.toggleClass(c.commandMap[k[1]],"on"),k=!0):k=!1;if(k){b.preventDefault();return}}switch(d){case 8:if(/^P$/i.test(c._variable.selectionNode.tagName)&&null===c._variable.selectionNode.previousSibling)return b.preventDefault(),!1;break;case 9:if(b.preventDefault(),!v&&!t){for(b=c._variable.selectionNode||c.getSelection().anchorNode;!/^TD$/i.test(b.tagName)&&
        !/^BODY$/i.test(b.tagName);)b=b.parentNode;if(b&&/^TD$/i.test(b.tagName)){d=e.getParentNode(b,"table");d=e.getListChildren(d,e.isCell);b=f?e.prevIdx(d,b):e.nextIdx(d,b);b!==d.length||f||(b=0);-1===b&&f&&(b=d.length-1);f=d[b];if(!f)return!1;b=c.createRange();b.setStart(f,0);b.setEnd(f,0);f=c.getSelection();0<f.rangeCount&&f.removeAllRanges();f.addRange(b)}else f||(b=a.element.wysiwygWindow.document.createTextNode(Array(c._variable.tabSize+1).join("\u00a0")),c.insertNode(b,null),f=c.getSelection(),
            d=c.createRange(),d.setStart(b,c._variable.tabSize),d.setEnd(b,c._variable.tabSize),0<f.rangeCount&&f.removeAllRanges(),f.addRange(d))}}},onKeyUp_wysiwyg:function(a){if(/^13$/.test(a.keyCode)){if(a.preventDefault(),(a=c.getLineElement().nextSibling)&&!/^P$/i.test(a.tagName)){var b=document.createElement("P");b.innerHTML="&#65279";a.parentNode.replaceChild(b,a)}}else c._setSelectionNode(),g._directionKeyKeyCode.test(a.keyCode)&&g._findButtonEffectTag()},onScroll_wysiwyg:function(){c.controllersOff()},
    onDrop_wysiwyg:function(a){var b=a.dataTransfer.files;if(0===b.length)return!0;a.stopPropagation();a.preventDefault();c.focus();c.callModule("dialog","image",null,function(){c.context.image.imgInputFile.files=b;SUNEDITOR.plugin.image.onRender_imgInput.call(c);c.context.image.imgInputFile.files=null})},onMouseDown_resizeBar:function(b){function d(){a.element.resizeBackground.style.display="none";document.removeEventListener("mousemove",g.resize_editor);document.removeEventListener("mouseup",d)}b.stopPropagation();
        c._variable.resizeClientY=b.clientY;a.element.resizeBackground.style.display="block";document.addEventListener("mousemove",g.resize_editor);document.addEventListener("mouseup",d)},resize_editor:function(b){var d=b.clientY-c._variable.resizeClientY;a.element.editorArea.style.height=a.element.editorArea.offsetHeight+d+"px";c._variable.editorHeight=a.element.editorArea.offsetHeight+d;c._variable.resizeClientY=b.clientY}};a.tool.bar.addEventListener("touchstart",g.touchstart_toolbar);a.tool.bar.addEventListener("touchmove",
    g.touchmove_toolbar);a.tool.bar.addEventListener("touchend",g.onClick_toolbar);a.tool.bar.addEventListener("click",g.onClick_toolbar);a.element.wysiwygWindow.addEventListener("mouseup",g.onMouseUp_wysiwyg);a.element.wysiwygWindow.addEventListener("keydown",g.onKeyDown_wysiwyg);a.element.wysiwygWindow.addEventListener("keyup",g.onKeyUp_wysiwyg);a.element.wysiwygWindow.addEventListener("scroll",g.onScroll_wysiwyg);a.element.wysiwygWindow.addEventListener("drop",g.onDrop_wysiwyg);a.element.resizebar.addEventListener("mousedown",
    g.onMouseDown_resizeBar);window.addEventListener("resize",g.resize_window);return{save:function(){a.element.textElement.innerHTML=c._variable.wysiwygActive?a.element.wysiwygWindow.document.body.innerHTML:a.element.code.value},getContent:function(){return c._variable.wysiwygActive?a.element.wysiwygWindow.document.body.innerHTML:a.element.code.value},setContent:function(b){c._variable.wysiwygActive?a.element.wysiwygWindow.document.body.innerHTML=b:a.element.code.value=b},appendContent:function(b){if(c._variable.wysiwygActive){var d=
        document.createElement("P");d.innerHTML=b;a.element.wysiwygWindow.document.body.appendChild(d)}else a.element.code.value+=b},disabled:function(){a.tool.cover.style.display="block";a.element.wysiwygWindow.document.body.setAttribute("contenteditable",!1)},enabled:function(){a.tool.cover.style.display="none";a.element.wysiwygWindow.document.body.setAttribute("contenteditable",!0)},show:function(){var b=a.element.topArea.style;b.cssText=c._variable.originCssText;"none"===b.display&&(b.display="block")},
    hide:function(){a.element.topArea.style.display="none"},destroy:function(){a.element.topArea.parentNode.removeChild(a.element.topArea);a.element.textElement.style.display="";this.destroy=this.hide=this.show=this.enabled=this.disabled=this.appendContent=this.setContent=this.getContent=this.save=null}}};SUNEDITOR.lang=SUNEDITOR.lang||SUNEDITOR.defaultLang;SUNEDITOR.create=function(a,e){var f=document.getElementById(a);if(null===f)throw Error('[SUNEDITOR.create.fail] The element for that id was not found (ID:"'+
    a+'")');var c=B(f,e);if(document.getElementById(c.constructed._top.id))throw Error('[SUNEDITOR.create.fail] The ID of the suneditor you are trying to create already exists (ID:"'+c.constructed._top.id+'")');f.style.display="none";"object"===typeof f.nextElementSibling?f.parentNode.insertBefore(c.constructed._top,f.nextElementSibling):f.parentNode.appendChild(c.constructed._top);var g=c.constructed;c=c.options;f={element:{textElement:f,topArea:g._top,relative:g._relative,resizebar:g._resizeBar,editorArea:g._editorArea,
        wysiwygWindow:g._editorArea.getElementsByClassName("sun-editor-id-wysiwyg")[0].contentWindow,wysiwygElement:g._editorArea.getElementsByClassName("sun-editor-id-wysiwyg")[0],code:g._editorArea.getElementsByClassName("sun-editor-id-code")[0],loading:g._loading,resizeBackground:g._resizeBack},tool:{bar:g._toolBar,cover:g._toolBar.getElementsByClassName("sun-editor-id-toolbar-cover")[0],bold:g._toolBar.getElementsByClassName("sun-editor-id-bold")[0],underline:g._toolBar.getElementsByClassName("sun-editor-id-underline")[0],
        italic:g._toolBar.getElementsByClassName("sun-editor-id-italic")[0],strike:g._toolBar.getElementsByClassName("sun-editor-id-strike")[0],font:g._toolBar.getElementsByClassName("sun-editor-font-family")[0],fontSize:g._toolBar.getElementsByClassName("sun-editor-font-size")[0]},user:{videoX:c.videoX,videoY:c.videoY,imageSize:c.imageSize,imageUploadUrl:c.imageUploadUrl,addFont:c.addFont,fontList:c.fontList,fontSizeList:c.fontSizeList,height:c.height.match(/\d+/)[0]}};return E(f,SUNEDITOR.dom,SUNEDITOR.func)};
    SUNEDITOR.destroy=function(a){var e=document.getElementById("suneditor_"+a);e.parentNode.removeChild(e);document.getElementById(a).style.display=""}})();