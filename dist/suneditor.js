/******/ (function(modules) { // webpackBootstrap
/******/ 	// The module cache
/******/ 	var installedModules = {};
/******/
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/
/******/ 		// Check if module is in cache
/******/ 		if(installedModules[moduleId]) {
/******/ 			return installedModules[moduleId].exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = installedModules[moduleId] = {
/******/ 			i: moduleId,
/******/ 			l: false,
/******/ 			exports: {}
/******/ 		};
/******/
/******/ 		// Execute the module function
/******/ 		modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/
/******/ 		// Flag the module as loaded
/******/ 		module.l = true;
/******/
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/
/******/
/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = modules;
/******/
/******/ 	// expose the module cache
/******/ 	__webpack_require__.c = installedModules;
/******/
/******/ 	// define getter function for harmony exports
/******/ 	__webpack_require__.d = function(exports, name, getter) {
/******/ 		if(!__webpack_require__.o(exports, name)) {
/******/ 			Object.defineProperty(exports, name, { enumerable: true, get: getter });
/******/ 		}
/******/ 	};
/******/
/******/ 	// define __esModule on exports
/******/ 	__webpack_require__.r = function(exports) {
/******/ 		if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 			Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 		}
/******/ 		Object.defineProperty(exports, '__esModule', { value: true });
/******/ 	};
/******/
/******/ 	// create a fake namespace object
/******/ 	// mode & 1: value is a module id, require it
/******/ 	// mode & 2: merge all properties of value into the ns
/******/ 	// mode & 4: return value when already ns object
/******/ 	// mode & 8|1: behave like require
/******/ 	__webpack_require__.t = function(value, mode) {
/******/ 		if(mode & 1) value = __webpack_require__(value);
/******/ 		if(mode & 8) return value;
/******/ 		if((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;
/******/ 		var ns = Object.create(null);
/******/ 		__webpack_require__.r(ns);
/******/ 		Object.defineProperty(ns, 'default', { enumerable: true, value: value });
/******/ 		if(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));
/******/ 		return ns;
/******/ 	};
/******/
/******/ 	// getDefaultExport function for compatibility with non-harmony modules
/******/ 	__webpack_require__.n = function(module) {
/******/ 		var getter = module && module.__esModule ?
/******/ 			function getDefault() { return module['default']; } :
/******/ 			function getModuleExports() { return module; };
/******/ 		__webpack_require__.d(getter, 'a', getter);
/******/ 		return getter;
/******/ 	};
/******/
/******/ 	// Object.prototype.hasOwnProperty.call
/******/ 	__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };
/******/
/******/ 	// __webpack_public_path__
/******/ 	__webpack_require__.p = "";
/******/
/******/
/******/ 	// Load entry module and return exports
/******/ 	return __webpack_require__(__webpack_require__.s = "./src/suneditor_build.js");
/******/ })
/************************************************************************/
/******/ ({

/***/ "./src/assets/css/suneditor-contents.css":
/*!***********************************************!*\
  !*** ./src/assets/css/suneditor-contents.css ***!
  \***********************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("// extracted by mini-css-extract-plugin//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvYXNzZXRzL2Nzcy9zdW5lZGl0b3ItY29udGVudHMuY3NzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vc3JjL2Fzc2V0cy9jc3Mvc3VuZWRpdG9yLWNvbnRlbnRzLmNzcz80ODAyIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIGV4dHJhY3RlZCBieSBtaW5pLWNzcy1leHRyYWN0LXBsdWdpbiJdLCJtYXBwaW5ncyI6IkFBQUEiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/assets/css/suneditor-contents.css\n");

/***/ }),

/***/ "./src/assets/css/suneditor.css":
/*!**************************************!*\
  !*** ./src/assets/css/suneditor.css ***!
  \**************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("// extracted by mini-css-extract-plugin//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvYXNzZXRzL2Nzcy9zdW5lZGl0b3IuY3NzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vc3JjL2Fzc2V0cy9jc3Mvc3VuZWRpdG9yLmNzcz83Yjg0Il0sInNvdXJjZXNDb250ZW50IjpbIi8vIGV4dHJhY3RlZCBieSBtaW5pLWNzcy1leHRyYWN0LXBsdWdpbiJdLCJtYXBwaW5ncyI6IkFBQUEiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/assets/css/suneditor.css\n");

/***/ }),

/***/ "./src/lang/en.js":
/*!************************!*\
  !*** ./src/lang/en.js ***!
  \************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/*\r\n * wysiwyg web editor\r\n *\r\n * suneditor.js\r\n * Copyright 2017 JiHong Lee.\r\n * MIT license.\r\n */\nconst lang = {\n  toolbar: {\n    font: 'Font',\n    formats: 'Formats',\n    fontSize: 'Size',\n    bold: 'Bold',\n    underline: 'Underline',\n    italic: 'Italic',\n    strike: 'Strike',\n    subscript: 'Subscript',\n    superscript: 'Superscript',\n    removeFormat: 'Remove Format',\n    fontColor: 'Font Color',\n    hiliteColor: 'Hilite Color',\n    indent: 'Indent',\n    outdent: 'Outdent',\n    align: 'Align',\n    alignLeft: 'Align left',\n    alignRight: 'Align right',\n    alignCenter: 'Align center',\n    justifyFull: 'Justify full',\n    list: 'list',\n    orderList: 'Ordered list',\n    unorderList: 'Unordered list',\n    horizontalRule: 'horizontal line',\n    table: 'Table',\n    link: 'Link',\n    image: 'Image',\n    video: 'Video',\n    fullScreen: 'Full screen',\n    showBlocks: 'Show blocks',\n    codeView: 'Code view',\n    undo: 'Undo',\n    redo: 'Redo',\n    preview: 'Preview',\n    print: 'print',\n    tag_p: 'Paragraph',\n    tag_div: 'Normal (DIV)',\n    tag_h: 'Header'\n  },\n  dialogBox: {\n    linkBox: {\n      title: 'Insert Link',\n      url: 'URL to link',\n      text: 'Text to display',\n      newWindowCheck: 'Open in new window'\n    },\n    imageBox: {\n      title: 'Insert image',\n      file: 'Select from files',\n      url: 'Image URL',\n      caption: 'Insert image description',\n      altText: 'Alternative text'\n    },\n    videoBox: {\n      title: 'Insert Video',\n      url: 'Media embed URL, YouTube'\n    },\n    resize100: 'resize 100%',\n    resize75: 'resize 75%',\n    resize50: 'resize 50%',\n    resize25: 'resize 25%',\n    remove: 'remove',\n    submitButton: 'Submit',\n    revertButton: 'Revert',\n    proportion: 'constrain proportions',\n    width: 'Width',\n    height: 'Height',\n    basic: 'Basic',\n    left: 'Left',\n    right: 'Right',\n    center: 'Center'\n  },\n  editLink: {\n    edit: 'Edit',\n    remove: 'Remove'\n  }\n};\n/* harmony default export */ __webpack_exports__[\"default\"] = (lang);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvbGFuZy9lbi5qcy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL3NyYy9sYW5nL2VuLmpzPzNmYWIiXSwic291cmNlc0NvbnRlbnQiOlsiLypcclxuICogd3lzaXd5ZyB3ZWIgZWRpdG9yXHJcbiAqXHJcbiAqIHN1bmVkaXRvci5qc1xyXG4gKiBDb3B5cmlnaHQgMjAxNyBKaUhvbmcgTGVlLlxyXG4gKiBNSVQgbGljZW5zZS5cclxuICovXHJcbmNvbnN0IGxhbmcgPSB7XHJcbiAgICB0b29sYmFyOiB7XHJcbiAgICAgICAgZm9udDogJ0ZvbnQnLFxyXG4gICAgICAgIGZvcm1hdHM6ICdGb3JtYXRzJyxcclxuICAgICAgICBmb250U2l6ZTogJ1NpemUnLFxyXG4gICAgICAgIGJvbGQ6ICdCb2xkJyxcclxuICAgICAgICB1bmRlcmxpbmU6ICdVbmRlcmxpbmUnLFxyXG4gICAgICAgIGl0YWxpYzogJ0l0YWxpYycsXHJcbiAgICAgICAgc3RyaWtlOiAnU3RyaWtlJyxcclxuICAgICAgICBzdWJzY3JpcHQ6ICdTdWJzY3JpcHQnLFxyXG4gICAgICAgIHN1cGVyc2NyaXB0OiAnU3VwZXJzY3JpcHQnLFxyXG4gICAgICAgIHJlbW92ZUZvcm1hdDogJ1JlbW92ZSBGb3JtYXQnLFxyXG4gICAgICAgIGZvbnRDb2xvcjogJ0ZvbnQgQ29sb3InLFxyXG4gICAgICAgIGhpbGl0ZUNvbG9yOiAnSGlsaXRlIENvbG9yJyxcclxuICAgICAgICBpbmRlbnQ6ICdJbmRlbnQnLFxyXG4gICAgICAgIG91dGRlbnQ6ICdPdXRkZW50JyxcclxuICAgICAgICBhbGlnbjogJ0FsaWduJyxcclxuICAgICAgICBhbGlnbkxlZnQ6ICdBbGlnbiBsZWZ0JyxcclxuICAgICAgICBhbGlnblJpZ2h0OiAnQWxpZ24gcmlnaHQnLFxyXG4gICAgICAgIGFsaWduQ2VudGVyOiAnQWxpZ24gY2VudGVyJyxcclxuICAgICAgICBqdXN0aWZ5RnVsbDogJ0p1c3RpZnkgZnVsbCcsXHJcbiAgICAgICAgbGlzdDogJ2xpc3QnLFxyXG4gICAgICAgIG9yZGVyTGlzdDogJ09yZGVyZWQgbGlzdCcsXHJcbiAgICAgICAgdW5vcmRlckxpc3Q6ICdVbm9yZGVyZWQgbGlzdCcsXHJcbiAgICAgICAgaG9yaXpvbnRhbFJ1bGU6ICdob3Jpem9udGFsIGxpbmUnLFxyXG4gICAgICAgIHRhYmxlOiAnVGFibGUnLFxyXG4gICAgICAgIGxpbms6ICdMaW5rJyxcclxuICAgICAgICBpbWFnZTogJ0ltYWdlJyxcclxuICAgICAgICB2aWRlbzogJ1ZpZGVvJyxcclxuICAgICAgICBmdWxsU2NyZWVuOiAnRnVsbCBzY3JlZW4nLFxyXG4gICAgICAgIHNob3dCbG9ja3M6ICdTaG93IGJsb2NrcycsXHJcbiAgICAgICAgY29kZVZpZXc6ICdDb2RlIHZpZXcnLFxyXG4gICAgICAgIHVuZG86ICdVbmRvJyxcclxuICAgICAgICByZWRvOiAnUmVkbycsXHJcbiAgICAgICAgcHJldmlldzogJ1ByZXZpZXcnLFxyXG4gICAgICAgIHByaW50OiAncHJpbnQnLFxyXG4gICAgICAgIHRhZ19wOiAnUGFyYWdyYXBoJyxcclxuICAgICAgICB0YWdfZGl2OiAnTm9ybWFsIChESVYpJyxcclxuICAgICAgICB0YWdfaDogJ0hlYWRlcidcclxuICAgIH0sXHJcbiAgICBkaWFsb2dCb3g6IHtcclxuICAgICAgICBsaW5rQm94OiB7XHJcbiAgICAgICAgICAgIHRpdGxlOiAnSW5zZXJ0IExpbmsnLFxyXG4gICAgICAgICAgICB1cmw6ICdVUkwgdG8gbGluaycsXHJcbiAgICAgICAgICAgIHRleHQ6ICdUZXh0IHRvIGRpc3BsYXknLFxyXG4gICAgICAgICAgICBuZXdXaW5kb3dDaGVjazogJ09wZW4gaW4gbmV3IHdpbmRvdydcclxuICAgICAgICB9LFxyXG4gICAgICAgIGltYWdlQm94OiB7XHJcbiAgICAgICAgICAgIHRpdGxlOiAnSW5zZXJ0IGltYWdlJyxcclxuICAgICAgICAgICAgZmlsZTogJ1NlbGVjdCBmcm9tIGZpbGVzJyxcclxuICAgICAgICAgICAgdXJsOiAnSW1hZ2UgVVJMJyxcclxuICAgICAgICAgICAgY2FwdGlvbjogJ0luc2VydCBpbWFnZSBkZXNjcmlwdGlvbicsXHJcbiAgICAgICAgICAgIGFsdFRleHQ6ICdBbHRlcm5hdGl2ZSB0ZXh0J1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgdmlkZW9Cb3g6IHtcclxuICAgICAgICAgICAgdGl0bGU6ICdJbnNlcnQgVmlkZW8nLFxyXG4gICAgICAgICAgICB1cmw6ICdNZWRpYSBlbWJlZCBVUkwsIFlvdVR1YmUnXHJcbiAgICAgICAgfSxcclxuICAgICAgICByZXNpemUxMDA6ICdyZXNpemUgMTAwJScsXHJcbiAgICAgICAgcmVzaXplNzU6ICdyZXNpemUgNzUlJyxcclxuICAgICAgICByZXNpemU1MDogJ3Jlc2l6ZSA1MCUnLFxyXG4gICAgICAgIHJlc2l6ZTI1OiAncmVzaXplIDI1JScsXHJcbiAgICAgICAgcmVtb3ZlOiAncmVtb3ZlJyxcclxuICAgICAgICBzdWJtaXRCdXR0b246ICdTdWJtaXQnLFxyXG4gICAgICAgIHJldmVydEJ1dHRvbjogJ1JldmVydCcsXHJcbiAgICAgICAgcHJvcG9ydGlvbjogJ2NvbnN0cmFpbiBwcm9wb3J0aW9ucycsXHJcbiAgICAgICAgd2lkdGg6ICdXaWR0aCcsXHJcbiAgICAgICAgaGVpZ2h0OiAnSGVpZ2h0JyxcclxuICAgICAgICBiYXNpYzogJ0Jhc2ljJyxcclxuICAgICAgICBsZWZ0OiAnTGVmdCcsXHJcbiAgICAgICAgcmlnaHQ6ICdSaWdodCcsXHJcbiAgICAgICAgY2VudGVyOiAnQ2VudGVyJ1xyXG4gICAgfSxcclxuICAgIGVkaXRMaW5rOiB7XHJcbiAgICAgICAgZWRpdDogJ0VkaXQnLFxyXG4gICAgICAgIHJlbW92ZTogJ1JlbW92ZSdcclxuICAgIH1cclxufTtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGxhbmc7Il0sIm1hcHBpbmdzIjoiQUFBQTtBQUFBOzs7Ozs7O0FBT0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBckNBO0FBdUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUpBO0FBTUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBTEE7QUFPQTtBQUNBO0FBQ0E7QUFGQTtBQUlBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUEvQkE7QUFpQ0E7QUFDQTtBQUNBO0FBRkE7QUF6RUE7QUErRUEiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/lang/en.js\n");

/***/ }),

/***/ "./src/lib/constructor.js":
/*!********************************!*\
  !*** ./src/lib/constructor.js ***!
  \********************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n\n/**\r\n * @description document create - call _createToolBar()\r\n * @param {element} element - textarea\r\n * @param {json} options - user options\r\n * @returns {{constructed: {_top: HTMLElement, _relative: HTMLElement, _toolBar: HTMLElement, _editorArea: HTMLElement, _resizeBar: HTMLElement, _loading: HTMLElement, _resizeBack: HTMLElement}, options: *}}\r\n * @private\r\n */\n\nconst _Constructor = {\n  init: function (element, options, lang) {\n    if (typeof options !== 'object') options = {};\n    /** user options */\n\n    options.videoX = options.videoX || 560;\n    options.videoY = options.videoY || 315;\n    options.imageFileInput = options.imageFileInput === undefined ? true : options.imageFileInput;\n    options.imageUrlInput = options.imageUrlInput === undefined || !options.imageFileInput ? true : options.imageUrlInput;\n    options.imageSize = options.imageSize || 350;\n    options.imageUploadUrl = options.imageUploadUrl || null;\n    options.font = options.font || null;\n    options.fontSize = options.fontSize || null;\n    options.height = /^\\d+/.test(options.height) ? /^\\d+$/.test(options.height) ? options.height + 'px' : options.height : element.clientHeight + 'px';\n    options.showPathLabel = typeof options.showPathLabel === 'boolean' ? options.showPathLabel : true;\n    options.popupDisplay = options.popupDisplay || '';\n    options.buttonList = options.buttonList || [['undo', 'redo'], ['bold', 'underline', 'italic', 'strike', 'subscript', 'superscript'], ['removeFormat'], ['indent', 'outdent'], ['fullScreen', 'showBlocks', 'codeView'], ['preview', 'print']];\n    /** editor seting options */\n\n    options.width = /^\\d+/.test(options.width) ? /^\\d+$/.test(options.width) ? options.width + 'px' : options.width : /%|auto/.test(element.style.width) ? element.style.width : element.clientWidth + 'px';\n    options.display = options.display || (element.style.display === 'none' || !element.style.display ? 'block' : element.style.display);\n    const doc = document;\n    /** suneditor div */\n\n    const top_div = doc.createElement('DIV');\n    top_div.className = 'sun-editor';\n    top_div.id = 'suneditor_' + element.id;\n    top_div.style.width = options.width;\n    top_div.style.display = options.display;\n    /** relative div */\n\n    const relative = doc.createElement('DIV');\n    relative.className = 'sun-editor-container';\n    /** tool bar */\n\n    const tool_bar = this._createToolBar(doc, options.buttonList, lang, options.popupDisplay);\n    /** inner editor div */\n\n\n    const editor_div = doc.createElement('DIV');\n    editor_div.className = 'sun-editor-id-editorArea';\n    editor_div.style.height = options.height;\n    /** wysiwyg div */\n\n    const wysiwyg_div = doc.createElement('DIV');\n    wysiwyg_div.setAttribute('contenteditable', true);\n    wysiwyg_div.setAttribute('scrolling', 'auto');\n    wysiwyg_div.className = 'input_editor sun-editor-id-wysiwyg sun-editor-editable';\n    wysiwyg_div.style.display = 'block';\n    wysiwyg_div.innerHTML = this._convertContentForEditor(element.value);\n    /** textarea for code view */\n\n    const textarea = doc.createElement('TEXTAREA');\n    textarea.className = 'input_editor html sun-editor-id-code';\n    textarea.style.display = 'none';\n    /** resize bar */\n\n    const resize_bar = doc.createElement('DIV');\n    resize_bar.className = 'sun-editor-id-resizeBar sun-editor-common';\n    /** navigation */\n\n    const navigation = doc.createElement('SPAN');\n    navigation.className = 'sun-editor-id-navigation sun-editor-common';\n    /** loading box */\n\n    const loading_box = doc.createElement('DIV');\n    loading_box.className = 'sun-editor-id-loading sun-editor-common';\n    loading_box.innerHTML = '<div class=\"loading-effect\"></div>';\n    /** resize operation background */\n\n    const resize_back = doc.createElement('DIV');\n    resize_back.className = 'sun-editor-id-resize-background';\n    /** append html */\n\n    editor_div.appendChild(wysiwyg_div);\n    editor_div.appendChild(textarea);\n    resize_bar.appendChild(navigation);\n    relative.appendChild(tool_bar.element);\n    relative.appendChild(editor_div);\n    relative.appendChild(resize_bar);\n    relative.appendChild(resize_back);\n    relative.appendChild(loading_box);\n    top_div.appendChild(relative);\n    return {\n      constructed: {\n        _top: top_div,\n        _relative: relative,\n        _toolBar: tool_bar.element,\n        _editorArea: editor_div,\n        _wysiwygArea: wysiwyg_div,\n        _codeArea: textarea,\n        _resizeBar: resize_bar,\n        _navigation: navigation,\n        _loading: loading_box,\n        _resizeBack: resize_back\n      },\n      options: options,\n      plugins: tool_bar.plugins,\n      modules: options.modules || [],\n      lang: lang\n    };\n  },\n\n  /**\r\n   * @description Converts content into a format that can be placed in an editor\r\n   * @param content - content\r\n   * @returns {string}\r\n   * @private\r\n   */\n  _convertContentForEditor: function (content) {\n    let tag,\n        baseHtml,\n        innerHTML = '';\n    tag = document.createRange().createContextualFragment(content.trim()).childNodes;\n\n    for (let i = 0, len = tag.length; i < len; i++) {\n      baseHtml = tag[i].outerHTML || tag[i].textContent;\n\n      if (!/^(?:P|TABLE|H[1-6]|DIV)$/i.test(tag[i].tagName)) {\n        innerHTML += '<P>' + baseHtml + '</p>';\n      } else {\n        innerHTML += baseHtml;\n      }\n    }\n\n    if (innerHTML.length === 0) innerHTML = '<p>&#65279</p>';\n    return innerHTML;\n  },\n\n  /**\r\n   * @description Suneditor's Default button list\r\n   * @private\r\n   */\n  _defaultButtons: function (lang, popupDisplay) {\n    return {\n      /** command */\n      bold: ['sun-editor-id-bold function-command', lang.toolbar.bold + '(Ctrl+B)', 'bold', '', '', '<div class=\"icon-bold\"></div>'],\n      underline: ['sun-editor-id-underline function-command', lang.toolbar.underline + '(Ctrl+U)', 'underline', '', '', '<div class=\"icon-underline\"></div>'],\n      italic: ['sun-editor-id-italic function-command', lang.toolbar.italic + '(Ctrl+I)', 'italic', '', '', '<div class=\"icon-italic\"></div>'],\n      strike: ['sun-editor-id-strike function-command', lang.toolbar.strike + '(Ctrl+SHIFT+S)', 'strikethrough', '', '', '<div class=\"icon-strokethrough\"></div>'],\n      subscript: ['sun-editor-id-subscript function-command', lang.toolbar.subscript, 'subscript', '', '', '<div class=\"icon-subscript\"></div>'],\n      superscript: ['sun-editor-id-superscript function-command', lang.toolbar.superscript, 'superscript', '', '', '<div class=\"icon-superscript\"></div>'],\n      removeFormat: ['function-command', lang.toolbar.removeFormat, 'removeFormat', '', '', '<div class=\"icon-erase\"></div>'],\n      indent: ['function-command', lang.toolbar.indent + '(Ctrl + [)', 'indent', '', '', '<div class=\"icon-indent-right\"></div>'],\n      outdent: ['function-command', lang.toolbar.outdent + '(Ctrl + ])', 'outdent', '', '', '<div class=\"icon-indent-left\"></div>'],\n      fullScreen: ['function-command', lang.toolbar.fullScreen, 'fullScreen', '', '', '<div class=\"icon-expansion\"></div>'],\n      showBlocks: ['function-command', lang.toolbar.showBlocks, 'showBlocks', '', '', '<div class=\"icon-showBlocks\"></div>'],\n      codeView: ['function-command', lang.toolbar.codeView, 'codeView', '', '', '<div class=\"icon-code-view\"></div>'],\n      undo: ['function-command', lang.toolbar.undo + ' (Ctrl+Z)', 'undo', '', '', '<div class=\"icon-undo\"></div>'],\n      redo: ['function-command', lang.toolbar.redo + ' (Ctrl+Y)', 'redo', '', '', '<div class=\"icon-redo\"></div>'],\n      preview: ['function-command', lang.toolbar.preview, 'preview', '', '', '<div class=\"icon-preview\"></div>'],\n      print: ['function-command', lang.toolbar.print, 'print', '', '', '<div class=\"icon-print\"></div>'],\n\n      /** plugins - submenu */\n      font: ['btn_font function-submenu', lang.toolbar.font, 'font', 'submenu', '', '<span class=\"txt sun-editor-font-family\">' + lang.toolbar.font + '</span><span class=\"arrow-more-down\"></span>'],\n      formatBlock: ['btn_format function-submenu', lang.toolbar.formats, 'formatBlock', 'submenu', '', '<span class=\"txt sun-editor-font-format\">' + lang.toolbar.formats + '</span><span class=\"arrow-more-down\"></span>'],\n      fontSize: ['btn_size function-submenu', lang.toolbar.fontSize, 'fontSize', 'submenu', '', '<span class=\"txt sun-editor-font-size\">' + lang.toolbar.fontSize + '</span><span class=\"arrow-more-down\"></span>'],\n      fontColor: ['function-submenu', lang.toolbar.fontColor, 'fontColor', 'submenu', '', '<div class=\"icon-fontColor\"></div>'],\n      hiliteColor: ['function-submenu', lang.toolbar.hiliteColor, 'hiliteColor', 'submenu', '', '<div class=\"icon-hiliteColor\"></div>'],\n      align: ['btn_align function-submenu', lang.toolbar.align, 'align', 'submenu', '', '<div class=\"icon-align-left\"></div>'],\n      list: ['function-submenu', lang.toolbar.list, 'list', 'submenu', '', '<div class=\"icon-list-number\"></div>'],\n      horizontalRule: ['btn_line function-submenu', lang.toolbar.horizontalRule, 'horizontalRule', 'submenu', '', '<hr style=\"border-width: 1px 0 0; border-style: solid none none; border-color: black; border-image: initial; height: 1px;\" />' + '<hr style=\"border-width: 1px 0 0; border-style: dotted none none; border-color: black; border-image: initial; height: 1px;\" />' + '<hr style=\"border-width: 1px 0 0; border-style: dashed none none; border-color: black; border-image: initial; height: 1px;\" />'],\n      table: ['function-submenu', lang.toolbar.table, 'table', 'submenu', '', '<div class=\"icon-grid\"></div>'],\n\n      /** plugins - dialog */\n      link: ['function-dialog', lang.toolbar.link, 'link', 'dialog', popupDisplay, '<div class=\"icon-link\"></div>'],\n      image: ['function-dialog', lang.toolbar.image, 'image', 'dialog', popupDisplay, '<div class=\"icon-image\"></div>'],\n      video: ['function-dialog', lang.toolbar.video, 'video', 'dialog', popupDisplay, '<div class=\"icon-video\"></div>']\n    };\n  },\n\n  /**\r\n   * @description Create a group div containing each module\r\n   * @returns {Element}\r\n   * @private\r\n   */\n  _createModuleGroup: function () {\n    const oDiv = document.createElement('DIV');\n    oDiv.className = 'tool_module';\n    const oUl = document.createElement('UL');\n    oUl.className = 'editor_tool';\n    oDiv.appendChild(oUl);\n    return {\n      'div': oDiv,\n      'ul': oUl\n    };\n  },\n\n  /**\r\n   * @description Create a button element\r\n   * @param {string} buttonClass - className in button\r\n   * @param {string} title - Title in button\r\n   * @param {string} dataCommand - The data-command property of the button\r\n   * @param {string} dataDisplay - The data-display property of the button ('dialog', 'submenu')\r\n   * @param {string} displayOption - Options for whether the range of the dialog is inside the editor or for the entire screen ('', 'full')\r\n   * @param {string} innerHTML - Html in button\r\n   * @returns {Element}\r\n   * @private\r\n   */\n  _createButton: function (buttonClass, title, dataCommand, dataDisplay, displayOption, innerHTML) {\n    const oLi = document.createElement('LI');\n    const oButton = document.createElement('BUTTON');\n    oButton.setAttribute('type', 'button');\n    oButton.setAttribute('class', 'btn_editor ' + buttonClass);\n    oButton.setAttribute('title', title);\n    oButton.setAttribute('data-command', dataCommand);\n    oButton.setAttribute('data-display', dataDisplay);\n    oButton.setAttribute('data-option', displayOption);\n    oButton.innerHTML = innerHTML;\n    oLi.appendChild(oButton);\n    return {\n      'li': oLi,\n      'button': oButton\n    };\n  },\n\n  /**\r\n   * @description Create editor HTML\r\n   * @param {array} buttonList - option.buttonList\r\n   * @private\r\n   */\n  _createToolBar: function (doc, buttonList, lang, popupDisplay) {\n    const tool_bar = doc.createElement('DIV');\n    tool_bar.className = 'sun-editor-id-toolbar sun-editor-common';\n    const tool_cover = doc.createElement('DIV');\n    tool_cover.className = 'sun-editor-id-toolbar-cover';\n    /** create button list */\n\n    const plugins = {};\n\n    const defaultButtonList = this._defaultButtons(lang, popupDisplay);\n\n    let module = null;\n    let button = null;\n    let moduleElement = null;\n    let buttonElement = null;\n\n    for (let i = 0; i < buttonList.length; i++) {\n      const buttonGroup = buttonList[i];\n      moduleElement = this._createModuleGroup();\n      /** button object */\n\n      if (typeof buttonGroup === 'object') {\n        for (let j = 0; j < buttonGroup.length; j++) {\n          button = buttonGroup[j];\n\n          if (typeof button === 'object') {\n            if (typeof button.add === 'function') {\n              module = defaultButtonList[button.name];\n              plugins[button.name] = button;\n            } else {\n              module = [button.className, button.title, button.dataCommand, button.dataDisplay, button.displayOption, button.innerHTML];\n            }\n          } else {\n            module = defaultButtonList[button];\n          }\n\n          buttonElement = this._createButton(module[0], module[1], module[2], module[3], module[4], module[5]);\n          moduleElement.ul.appendChild(buttonElement.li);\n\n          if (plugins[button.name]) {\n            plugins[button.name].buttonElement = buttonElement.button;\n          }\n        }\n\n        tool_bar.appendChild(moduleElement.div);\n      }\n      /** line break  */\n      else if (/^\\/$/.test(buttonGroup)) {\n          const enterDiv = doc.createElement('DIV');\n          enterDiv.className = 'tool_module_enter';\n          tool_bar.appendChild(enterDiv);\n        }\n    }\n\n    return {\n      'element': tool_bar,\n      'plugins': plugins\n    };\n  }\n};\n/* harmony default export */ __webpack_exports__[\"default\"] = (_Constructor);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvbGliL2NvbnN0cnVjdG9yLmpzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vc3JjL2xpYi9jb25zdHJ1Y3Rvci5qcz9jMTA1Il0sInNvdXJjZXNDb250ZW50IjpbIid1c2Ugc3RyaWN0JztcclxuXHJcbi8qKlxyXG4gKiBAZGVzY3JpcHRpb24gZG9jdW1lbnQgY3JlYXRlIC0gY2FsbCBfY3JlYXRlVG9vbEJhcigpXHJcbiAqIEBwYXJhbSB7ZWxlbWVudH0gZWxlbWVudCAtIHRleHRhcmVhXHJcbiAqIEBwYXJhbSB7anNvbn0gb3B0aW9ucyAtIHVzZXIgb3B0aW9uc1xyXG4gKiBAcmV0dXJucyB7e2NvbnN0cnVjdGVkOiB7X3RvcDogSFRNTEVsZW1lbnQsIF9yZWxhdGl2ZTogSFRNTEVsZW1lbnQsIF90b29sQmFyOiBIVE1MRWxlbWVudCwgX2VkaXRvckFyZWE6IEhUTUxFbGVtZW50LCBfcmVzaXplQmFyOiBIVE1MRWxlbWVudCwgX2xvYWRpbmc6IEhUTUxFbGVtZW50LCBfcmVzaXplQmFjazogSFRNTEVsZW1lbnR9LCBvcHRpb25zOiAqfX1cclxuICogQHByaXZhdGVcclxuICovXHJcbmNvbnN0IF9Db25zdHJ1Y3RvciA9IHtcclxuICAgIGluaXQ6IGZ1bmN0aW9uIChlbGVtZW50LCBvcHRpb25zLCBsYW5nKSB7XHJcbiAgICAgICAgaWYgKHR5cGVvZiBvcHRpb25zICE9PSAnb2JqZWN0Jykgb3B0aW9ucyA9IHt9O1xyXG4gICAgXHJcbiAgICAgICAgLyoqIHVzZXIgb3B0aW9ucyAqL1xyXG4gICAgICAgIG9wdGlvbnMudmlkZW9YID0gb3B0aW9ucy52aWRlb1ggfHwgNTYwO1xyXG4gICAgICAgIG9wdGlvbnMudmlkZW9ZID0gb3B0aW9ucy52aWRlb1kgfHwgMzE1O1xyXG4gICAgICAgIG9wdGlvbnMuaW1hZ2VGaWxlSW5wdXQgPSBvcHRpb25zLmltYWdlRmlsZUlucHV0ID09PSB1bmRlZmluZWQgPyB0cnVlIDogb3B0aW9ucy5pbWFnZUZpbGVJbnB1dDtcclxuICAgICAgICBvcHRpb25zLmltYWdlVXJsSW5wdXQgPSAob3B0aW9ucy5pbWFnZVVybElucHV0ID09PSB1bmRlZmluZWQgfHwgIW9wdGlvbnMuaW1hZ2VGaWxlSW5wdXQpID8gdHJ1ZSA6IG9wdGlvbnMuaW1hZ2VVcmxJbnB1dDtcclxuICAgICAgICBvcHRpb25zLmltYWdlU2l6ZSA9IG9wdGlvbnMuaW1hZ2VTaXplIHx8IDM1MDtcclxuICAgICAgICBvcHRpb25zLmltYWdlVXBsb2FkVXJsID0gb3B0aW9ucy5pbWFnZVVwbG9hZFVybCB8fCBudWxsO1xyXG4gICAgICAgIG9wdGlvbnMuZm9udCA9IG9wdGlvbnMuZm9udCB8fCBudWxsO1xyXG4gICAgICAgIG9wdGlvbnMuZm9udFNpemUgPSBvcHRpb25zLmZvbnRTaXplIHx8IG51bGw7XHJcbiAgICAgICAgb3B0aW9ucy5oZWlnaHQgPSAvXlxcZCsvLnRlc3Qob3B0aW9ucy5oZWlnaHQpID8gKC9eXFxkKyQvLnRlc3Qob3B0aW9ucy5oZWlnaHQpID8gb3B0aW9ucy5oZWlnaHQgKyAncHgnIDogb3B0aW9ucy5oZWlnaHQpIDogZWxlbWVudC5jbGllbnRIZWlnaHQgKyAncHgnO1xyXG4gICAgICAgIG9wdGlvbnMuc2hvd1BhdGhMYWJlbCA9IHR5cGVvZiBvcHRpb25zLnNob3dQYXRoTGFiZWwgPT09ICdib29sZWFuJyA/IG9wdGlvbnMuc2hvd1BhdGhMYWJlbCA6IHRydWU7XHJcbiAgICAgICAgb3B0aW9ucy5wb3B1cERpc3BsYXkgPSBvcHRpb25zLnBvcHVwRGlzcGxheSB8fCAnJztcclxuICAgICAgICBvcHRpb25zLmJ1dHRvbkxpc3QgPSBvcHRpb25zLmJ1dHRvbkxpc3QgfHwgW1xyXG4gICAgICAgICAgICBbJ3VuZG8nLCAncmVkbyddLFxyXG4gICAgICAgICAgICBbJ2JvbGQnLCAndW5kZXJsaW5lJywgJ2l0YWxpYycsICdzdHJpa2UnLCAnc3Vic2NyaXB0JywgJ3N1cGVyc2NyaXB0J10sXHJcbiAgICAgICAgICAgIFsncmVtb3ZlRm9ybWF0J10sXHJcbiAgICAgICAgICAgIFsnaW5kZW50JywgJ291dGRlbnQnXSxcclxuICAgICAgICAgICAgWydmdWxsU2NyZWVuJywgJ3Nob3dCbG9ja3MnLCAnY29kZVZpZXcnXSxcclxuICAgICAgICAgICAgWydwcmV2aWV3JywgJ3ByaW50J11cclxuICAgICAgICBdO1xyXG4gICAgXHJcbiAgICAgICAgLyoqIGVkaXRvciBzZXRpbmcgb3B0aW9ucyAqL1xyXG4gICAgICAgIG9wdGlvbnMud2lkdGggPSAvXlxcZCsvLnRlc3Qob3B0aW9ucy53aWR0aCkgPyAoL15cXGQrJC8udGVzdChvcHRpb25zLndpZHRoKSA/IG9wdGlvbnMud2lkdGggKyAncHgnIDogb3B0aW9ucy53aWR0aCkgOiAoLyV8YXV0by8udGVzdChlbGVtZW50LnN0eWxlLndpZHRoKSA/IGVsZW1lbnQuc3R5bGUud2lkdGggOiBlbGVtZW50LmNsaWVudFdpZHRoICsgJ3B4Jyk7XHJcbiAgICAgICAgb3B0aW9ucy5kaXNwbGF5ID0gb3B0aW9ucy5kaXNwbGF5IHx8IChlbGVtZW50LnN0eWxlLmRpc3BsYXkgPT09ICdub25lJyB8fCAhZWxlbWVudC5zdHlsZS5kaXNwbGF5ID8gJ2Jsb2NrJyA6IGVsZW1lbnQuc3R5bGUuZGlzcGxheSk7XHJcbiAgICBcclxuICAgICAgICBjb25zdCBkb2MgPSBkb2N1bWVudDtcclxuICAgIFxyXG4gICAgICAgIC8qKiBzdW5lZGl0b3IgZGl2ICovXHJcbiAgICAgICAgY29uc3QgdG9wX2RpdiA9IGRvYy5jcmVhdGVFbGVtZW50KCdESVYnKTtcclxuICAgICAgICB0b3BfZGl2LmNsYXNzTmFtZSA9ICdzdW4tZWRpdG9yJztcclxuICAgICAgICB0b3BfZGl2LmlkID0gJ3N1bmVkaXRvcl8nICsgZWxlbWVudC5pZDtcclxuICAgICAgICB0b3BfZGl2LnN0eWxlLndpZHRoID0gb3B0aW9ucy53aWR0aDtcclxuICAgICAgICB0b3BfZGl2LnN0eWxlLmRpc3BsYXkgPSBvcHRpb25zLmRpc3BsYXk7XHJcbiAgICBcclxuICAgICAgICAvKiogcmVsYXRpdmUgZGl2ICovXHJcbiAgICAgICAgY29uc3QgcmVsYXRpdmUgPSBkb2MuY3JlYXRlRWxlbWVudCgnRElWJyk7XHJcbiAgICAgICAgcmVsYXRpdmUuY2xhc3NOYW1lID0gJ3N1bi1lZGl0b3ItY29udGFpbmVyJztcclxuICAgIFxyXG4gICAgICAgIC8qKiB0b29sIGJhciAqL1xyXG4gICAgICAgIGNvbnN0IHRvb2xfYmFyID0gdGhpcy5fY3JlYXRlVG9vbEJhcihkb2MsIG9wdGlvbnMuYnV0dG9uTGlzdCwgbGFuZywgb3B0aW9ucy5wb3B1cERpc3BsYXkpO1xyXG4gICAgXHJcbiAgICAgICAgLyoqIGlubmVyIGVkaXRvciBkaXYgKi9cclxuICAgICAgICBjb25zdCBlZGl0b3JfZGl2ID0gZG9jLmNyZWF0ZUVsZW1lbnQoJ0RJVicpO1xyXG4gICAgICAgIGVkaXRvcl9kaXYuY2xhc3NOYW1lID0gJ3N1bi1lZGl0b3ItaWQtZWRpdG9yQXJlYSc7XHJcbiAgICAgICAgZWRpdG9yX2Rpdi5zdHlsZS5oZWlnaHQgPSBvcHRpb25zLmhlaWdodDtcclxuICAgIFxyXG4gICAgICAgIC8qKiB3eXNpd3lnIGRpdiAqL1xyXG4gICAgICAgIGNvbnN0IHd5c2l3eWdfZGl2ID0gZG9jLmNyZWF0ZUVsZW1lbnQoJ0RJVicpO1xyXG4gICAgICAgIHd5c2l3eWdfZGl2LnNldEF0dHJpYnV0ZSgnY29udGVudGVkaXRhYmxlJywgdHJ1ZSk7XHJcbiAgICAgICAgd3lzaXd5Z19kaXYuc2V0QXR0cmlidXRlKCdzY3JvbGxpbmcnLCAnYXV0bycpO1xyXG4gICAgICAgIHd5c2l3eWdfZGl2LmNsYXNzTmFtZSA9ICdpbnB1dF9lZGl0b3Igc3VuLWVkaXRvci1pZC13eXNpd3lnIHN1bi1lZGl0b3ItZWRpdGFibGUnO1xyXG4gICAgICAgIHd5c2l3eWdfZGl2LnN0eWxlLmRpc3BsYXkgPSAnYmxvY2snO1xyXG4gICAgICAgIHd5c2l3eWdfZGl2LmlubmVySFRNTCA9IHRoaXMuX2NvbnZlcnRDb250ZW50Rm9yRWRpdG9yKGVsZW1lbnQudmFsdWUpO1xyXG4gICAgXHJcbiAgICAgICAgLyoqIHRleHRhcmVhIGZvciBjb2RlIHZpZXcgKi9cclxuICAgICAgICBjb25zdCB0ZXh0YXJlYSA9IGRvYy5jcmVhdGVFbGVtZW50KCdURVhUQVJFQScpO1xyXG4gICAgICAgIHRleHRhcmVhLmNsYXNzTmFtZSA9ICdpbnB1dF9lZGl0b3IgaHRtbCBzdW4tZWRpdG9yLWlkLWNvZGUnO1xyXG4gICAgICAgIHRleHRhcmVhLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XHJcbiAgICBcclxuICAgICAgICAvKiogcmVzaXplIGJhciAqL1xyXG4gICAgICAgIGNvbnN0IHJlc2l6ZV9iYXIgPSBkb2MuY3JlYXRlRWxlbWVudCgnRElWJyk7XHJcbiAgICAgICAgcmVzaXplX2Jhci5jbGFzc05hbWUgPSAnc3VuLWVkaXRvci1pZC1yZXNpemVCYXIgc3VuLWVkaXRvci1jb21tb24nO1xyXG4gICAgXHJcbiAgICAgICAgLyoqIG5hdmlnYXRpb24gKi9cclxuICAgICAgICBjb25zdCBuYXZpZ2F0aW9uID0gZG9jLmNyZWF0ZUVsZW1lbnQoJ1NQQU4nKTtcclxuICAgICAgICBuYXZpZ2F0aW9uLmNsYXNzTmFtZSA9ICdzdW4tZWRpdG9yLWlkLW5hdmlnYXRpb24gc3VuLWVkaXRvci1jb21tb24nO1xyXG4gICAgXHJcbiAgICAgICAgLyoqIGxvYWRpbmcgYm94ICovXHJcbiAgICAgICAgY29uc3QgbG9hZGluZ19ib3ggPSBkb2MuY3JlYXRlRWxlbWVudCgnRElWJyk7XHJcbiAgICAgICAgbG9hZGluZ19ib3guY2xhc3NOYW1lID0gJ3N1bi1lZGl0b3ItaWQtbG9hZGluZyBzdW4tZWRpdG9yLWNvbW1vbic7XHJcbiAgICAgICAgbG9hZGluZ19ib3guaW5uZXJIVE1MID0gJzxkaXYgY2xhc3M9XCJsb2FkaW5nLWVmZmVjdFwiPjwvZGl2Pic7XHJcbiAgICBcclxuICAgICAgICAvKiogcmVzaXplIG9wZXJhdGlvbiBiYWNrZ3JvdW5kICovXHJcbiAgICAgICAgY29uc3QgcmVzaXplX2JhY2sgPSBkb2MuY3JlYXRlRWxlbWVudCgnRElWJyk7XHJcbiAgICAgICAgcmVzaXplX2JhY2suY2xhc3NOYW1lID0gJ3N1bi1lZGl0b3ItaWQtcmVzaXplLWJhY2tncm91bmQnO1xyXG4gICAgXHJcbiAgICAgICAgLyoqIGFwcGVuZCBodG1sICovXHJcbiAgICAgICAgZWRpdG9yX2Rpdi5hcHBlbmRDaGlsZCh3eXNpd3lnX2Rpdik7XHJcbiAgICAgICAgZWRpdG9yX2Rpdi5hcHBlbmRDaGlsZCh0ZXh0YXJlYSk7XHJcbiAgICAgICAgcmVzaXplX2Jhci5hcHBlbmRDaGlsZChuYXZpZ2F0aW9uKTtcclxuICAgICAgICByZWxhdGl2ZS5hcHBlbmRDaGlsZCh0b29sX2Jhci5lbGVtZW50KTtcclxuICAgICAgICByZWxhdGl2ZS5hcHBlbmRDaGlsZChlZGl0b3JfZGl2KTtcclxuICAgICAgICByZWxhdGl2ZS5hcHBlbmRDaGlsZChyZXNpemVfYmFyKTtcclxuICAgICAgICByZWxhdGl2ZS5hcHBlbmRDaGlsZChyZXNpemVfYmFjayk7XHJcbiAgICAgICAgcmVsYXRpdmUuYXBwZW5kQ2hpbGQobG9hZGluZ19ib3gpO1xyXG4gICAgICAgIHRvcF9kaXYuYXBwZW5kQ2hpbGQocmVsYXRpdmUpO1xyXG4gICAgXHJcbiAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgY29uc3RydWN0ZWQ6IHtcclxuICAgICAgICAgICAgICAgIF90b3A6IHRvcF9kaXYsXHJcbiAgICAgICAgICAgICAgICBfcmVsYXRpdmU6IHJlbGF0aXZlLFxyXG4gICAgICAgICAgICAgICAgX3Rvb2xCYXI6IHRvb2xfYmFyLmVsZW1lbnQsXHJcbiAgICAgICAgICAgICAgICBfZWRpdG9yQXJlYTogZWRpdG9yX2RpdixcclxuICAgICAgICAgICAgICAgIF93eXNpd3lnQXJlYTogd3lzaXd5Z19kaXYsXHJcbiAgICAgICAgICAgICAgICBfY29kZUFyZWE6IHRleHRhcmVhLFxyXG4gICAgICAgICAgICAgICAgX3Jlc2l6ZUJhcjogcmVzaXplX2JhcixcclxuICAgICAgICAgICAgICAgIF9uYXZpZ2F0aW9uOiBuYXZpZ2F0aW9uLFxyXG4gICAgICAgICAgICAgICAgX2xvYWRpbmc6IGxvYWRpbmdfYm94LFxyXG4gICAgICAgICAgICAgICAgX3Jlc2l6ZUJhY2s6IHJlc2l6ZV9iYWNrXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIG9wdGlvbnM6IG9wdGlvbnMsXHJcbiAgICAgICAgICAgIHBsdWdpbnM6IHRvb2xfYmFyLnBsdWdpbnMsXHJcbiAgICAgICAgICAgIG1vZHVsZXM6IG9wdGlvbnMubW9kdWxlcyB8fCBbXSxcclxuICAgICAgICAgICAgbGFuZzogbGFuZ1xyXG4gICAgICAgIH07XHJcbiAgICB9LFxyXG5cclxuICAgIC8qKlxyXG4gICAgICogQGRlc2NyaXB0aW9uIENvbnZlcnRzIGNvbnRlbnQgaW50byBhIGZvcm1hdCB0aGF0IGNhbiBiZSBwbGFjZWQgaW4gYW4gZWRpdG9yXHJcbiAgICAgKiBAcGFyYW0gY29udGVudCAtIGNvbnRlbnRcclxuICAgICAqIEByZXR1cm5zIHtzdHJpbmd9XHJcbiAgICAgKiBAcHJpdmF0ZVxyXG4gICAgICovXHJcbiAgICBfY29udmVydENvbnRlbnRGb3JFZGl0b3I6IGZ1bmN0aW9uIChjb250ZW50KSB7XHJcbiAgICAgICAgbGV0IHRhZywgYmFzZUh0bWwsIGlubmVySFRNTCA9ICcnO1xyXG4gICAgICAgIHRhZyA9IGRvY3VtZW50LmNyZWF0ZVJhbmdlKCkuY3JlYXRlQ29udGV4dHVhbEZyYWdtZW50KGNvbnRlbnQudHJpbSgpKS5jaGlsZE5vZGVzO1xyXG5cclxuICAgICAgICBmb3IgKGxldCBpID0gMCwgbGVuID0gdGFnLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XHJcbiAgICAgICAgICAgIGJhc2VIdG1sID0gdGFnW2ldLm91dGVySFRNTCB8fCB0YWdbaV0udGV4dENvbnRlbnQ7XHJcbiAgICAgICAgICAgIGlmICghL14oPzpQfFRBQkxFfEhbMS02XXxESVYpJC9pLnRlc3QodGFnW2ldLnRhZ05hbWUpKSB7XHJcbiAgICAgICAgICAgICAgICBpbm5lckhUTUwgKz0gJzxQPicgKyBiYXNlSHRtbCArICc8L3A+JztcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGlubmVySFRNTCArPSBiYXNlSHRtbDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKGlubmVySFRNTC5sZW5ndGggPT09IDApIGlubmVySFRNTCA9ICc8cD4mIzY1Mjc5PC9wPic7XHJcblxyXG4gICAgICAgIHJldHVybiBpbm5lckhUTUw7XHJcbiAgICB9LFxyXG5cclxuICAgIC8qKlxyXG4gICAgICogQGRlc2NyaXB0aW9uIFN1bmVkaXRvcidzIERlZmF1bHQgYnV0dG9uIGxpc3RcclxuICAgICAqIEBwcml2YXRlXHJcbiAgICAgKi9cclxuICAgIF9kZWZhdWx0QnV0dG9uczogZnVuY3Rpb24gKGxhbmcsIHBvcHVwRGlzcGxheSkge1xyXG4gICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgIC8qKiBjb21tYW5kICovXHJcbiAgICAgICAgICAgIGJvbGQ6IFsnc3VuLWVkaXRvci1pZC1ib2xkIGZ1bmN0aW9uLWNvbW1hbmQnLCBsYW5nLnRvb2xiYXIuYm9sZCArICcoQ3RybCtCKScsICdib2xkJywgJycsICcnLFxyXG4gICAgICAgICAgICAgICAgJzxkaXYgY2xhc3M9XCJpY29uLWJvbGRcIj48L2Rpdj4nXHJcbiAgICAgICAgICAgIF0sXHJcblxyXG4gICAgICAgICAgICB1bmRlcmxpbmU6IFsnc3VuLWVkaXRvci1pZC11bmRlcmxpbmUgZnVuY3Rpb24tY29tbWFuZCcsIGxhbmcudG9vbGJhci51bmRlcmxpbmUgKyAnKEN0cmwrVSknLCAndW5kZXJsaW5lJywgJycsICcnLFxyXG4gICAgICAgICAgICAgICAgJzxkaXYgY2xhc3M9XCJpY29uLXVuZGVybGluZVwiPjwvZGl2PidcclxuICAgICAgICAgICAgXSxcclxuXHJcbiAgICAgICAgICAgIGl0YWxpYzogWydzdW4tZWRpdG9yLWlkLWl0YWxpYyBmdW5jdGlvbi1jb21tYW5kJywgbGFuZy50b29sYmFyLml0YWxpYyArICcoQ3RybCtJKScsICdpdGFsaWMnLCAnJywgJycsXHJcbiAgICAgICAgICAgICAgICAnPGRpdiBjbGFzcz1cImljb24taXRhbGljXCI+PC9kaXY+J1xyXG4gICAgICAgICAgICBdLFxyXG5cclxuICAgICAgICAgICAgc3RyaWtlOiBbJ3N1bi1lZGl0b3ItaWQtc3RyaWtlIGZ1bmN0aW9uLWNvbW1hbmQnLCBsYW5nLnRvb2xiYXIuc3RyaWtlICsgJyhDdHJsK1NISUZUK1MpJywgJ3N0cmlrZXRocm91Z2gnLCAnJywgJycsXHJcbiAgICAgICAgICAgICAgICAnPGRpdiBjbGFzcz1cImljb24tc3Ryb2tldGhyb3VnaFwiPjwvZGl2PidcclxuICAgICAgICAgICAgXSxcclxuXHJcbiAgICAgICAgICAgIHN1YnNjcmlwdDogWydzdW4tZWRpdG9yLWlkLXN1YnNjcmlwdCBmdW5jdGlvbi1jb21tYW5kJywgbGFuZy50b29sYmFyLnN1YnNjcmlwdCwgJ3N1YnNjcmlwdCcsICcnLCAnJyxcclxuICAgICAgICAgICAgICAgICc8ZGl2IGNsYXNzPVwiaWNvbi1zdWJzY3JpcHRcIj48L2Rpdj4nXHJcbiAgICAgICAgICAgIF0sXHJcblxyXG4gICAgICAgICAgICBzdXBlcnNjcmlwdDogWydzdW4tZWRpdG9yLWlkLXN1cGVyc2NyaXB0IGZ1bmN0aW9uLWNvbW1hbmQnLCBsYW5nLnRvb2xiYXIuc3VwZXJzY3JpcHQsICdzdXBlcnNjcmlwdCcsICcnLCAnJyxcclxuICAgICAgICAgICAgICAgICc8ZGl2IGNsYXNzPVwiaWNvbi1zdXBlcnNjcmlwdFwiPjwvZGl2PidcclxuICAgICAgICAgICAgXSxcclxuXHJcbiAgICAgICAgICAgIHJlbW92ZUZvcm1hdDogWydmdW5jdGlvbi1jb21tYW5kJywgbGFuZy50b29sYmFyLnJlbW92ZUZvcm1hdCwgJ3JlbW92ZUZvcm1hdCcsICcnLCAnJyxcclxuICAgICAgICAgICAgICAgICc8ZGl2IGNsYXNzPVwiaWNvbi1lcmFzZVwiPjwvZGl2PidcclxuICAgICAgICAgICAgXSxcclxuXHJcbiAgICAgICAgICAgIGluZGVudDogWydmdW5jdGlvbi1jb21tYW5kJywgbGFuZy50b29sYmFyLmluZGVudCArICcoQ3RybCArIFspJywgJ2luZGVudCcsICcnLCAnJyxcclxuICAgICAgICAgICAgICAgICc8ZGl2IGNsYXNzPVwiaWNvbi1pbmRlbnQtcmlnaHRcIj48L2Rpdj4nXHJcbiAgICAgICAgICAgIF0sXHJcblxyXG4gICAgICAgICAgICBvdXRkZW50OiBbJ2Z1bmN0aW9uLWNvbW1hbmQnLCBsYW5nLnRvb2xiYXIub3V0ZGVudCArICcoQ3RybCArIF0pJywgJ291dGRlbnQnLCAnJywgJycsXHJcbiAgICAgICAgICAgICAgICAnPGRpdiBjbGFzcz1cImljb24taW5kZW50LWxlZnRcIj48L2Rpdj4nXHJcbiAgICAgICAgICAgIF0sXHJcblxyXG4gICAgICAgICAgICBmdWxsU2NyZWVuOiBbJ2Z1bmN0aW9uLWNvbW1hbmQnLCBsYW5nLnRvb2xiYXIuZnVsbFNjcmVlbiwgJ2Z1bGxTY3JlZW4nLCAnJywgJycsXHJcbiAgICAgICAgICAgICAgICAnPGRpdiBjbGFzcz1cImljb24tZXhwYW5zaW9uXCI+PC9kaXY+J1xyXG4gICAgICAgICAgICBdLFxyXG5cclxuICAgICAgICAgICAgc2hvd0Jsb2NrczogWydmdW5jdGlvbi1jb21tYW5kJywgbGFuZy50b29sYmFyLnNob3dCbG9ja3MsICdzaG93QmxvY2tzJywgJycsICcnLFxyXG4gICAgICAgICAgICAgICAgJzxkaXYgY2xhc3M9XCJpY29uLXNob3dCbG9ja3NcIj48L2Rpdj4nXHJcbiAgICAgICAgICAgIF0sXHJcblxyXG4gICAgICAgICAgICBjb2RlVmlldzogWydmdW5jdGlvbi1jb21tYW5kJywgbGFuZy50b29sYmFyLmNvZGVWaWV3LCAnY29kZVZpZXcnLCAnJywgJycsXHJcbiAgICAgICAgICAgICAgICAnPGRpdiBjbGFzcz1cImljb24tY29kZS12aWV3XCI+PC9kaXY+J1xyXG4gICAgICAgICAgICBdLFxyXG5cclxuICAgICAgICAgICAgdW5kbzogWydmdW5jdGlvbi1jb21tYW5kJywgbGFuZy50b29sYmFyLnVuZG8gKyAnIChDdHJsK1opJywgJ3VuZG8nLCAnJywgJycsXHJcbiAgICAgICAgICAgICAgICAnPGRpdiBjbGFzcz1cImljb24tdW5kb1wiPjwvZGl2PidcclxuICAgICAgICAgICAgXSxcclxuXHJcbiAgICAgICAgICAgIHJlZG86IFsnZnVuY3Rpb24tY29tbWFuZCcsIGxhbmcudG9vbGJhci5yZWRvICsgJyAoQ3RybCtZKScsICdyZWRvJywgJycsICcnLFxyXG4gICAgICAgICAgICAgICAgJzxkaXYgY2xhc3M9XCJpY29uLXJlZG9cIj48L2Rpdj4nXHJcbiAgICAgICAgICAgIF0sXHJcblxyXG4gICAgICAgICAgICBwcmV2aWV3OiBbJ2Z1bmN0aW9uLWNvbW1hbmQnLCBsYW5nLnRvb2xiYXIucHJldmlldywgJ3ByZXZpZXcnLCAnJywgJycsXHJcbiAgICAgICAgICAgICAgICAnPGRpdiBjbGFzcz1cImljb24tcHJldmlld1wiPjwvZGl2PidcclxuICAgICAgICAgICAgXSxcclxuXHJcbiAgICAgICAgICAgIHByaW50OiBbJ2Z1bmN0aW9uLWNvbW1hbmQnLCBsYW5nLnRvb2xiYXIucHJpbnQsICdwcmludCcsICcnLCAnJyxcclxuICAgICAgICAgICAgICAgICc8ZGl2IGNsYXNzPVwiaWNvbi1wcmludFwiPjwvZGl2PidcclxuICAgICAgICAgICAgXSxcclxuXHJcbiAgICAgICAgICAgIC8qKiBwbHVnaW5zIC0gc3VibWVudSAqL1xyXG4gICAgICAgICAgICBmb250OiBbJ2J0bl9mb250IGZ1bmN0aW9uLXN1Ym1lbnUnLCBsYW5nLnRvb2xiYXIuZm9udCwgJ2ZvbnQnLCAnc3VibWVudScsICcnLFxyXG4gICAgICAgICAgICAgICAgJzxzcGFuIGNsYXNzPVwidHh0IHN1bi1lZGl0b3ItZm9udC1mYW1pbHlcIj4nICsgbGFuZy50b29sYmFyLmZvbnQgKyAnPC9zcGFuPjxzcGFuIGNsYXNzPVwiYXJyb3ctbW9yZS1kb3duXCI+PC9zcGFuPidcclxuICAgICAgICAgICAgXSxcclxuICAgICAgICAgICAgZm9ybWF0QmxvY2s6IFsnYnRuX2Zvcm1hdCBmdW5jdGlvbi1zdWJtZW51JywgbGFuZy50b29sYmFyLmZvcm1hdHMsICdmb3JtYXRCbG9jaycsICdzdWJtZW51JywgJycsXHJcbiAgICAgICAgICAgICAgICAnPHNwYW4gY2xhc3M9XCJ0eHQgc3VuLWVkaXRvci1mb250LWZvcm1hdFwiPicgKyBsYW5nLnRvb2xiYXIuZm9ybWF0cyArICc8L3NwYW4+PHNwYW4gY2xhc3M9XCJhcnJvdy1tb3JlLWRvd25cIj48L3NwYW4+J1xyXG4gICAgICAgICAgICBdLFxyXG5cclxuICAgICAgICAgICAgZm9udFNpemU6IFsnYnRuX3NpemUgZnVuY3Rpb24tc3VibWVudScsIGxhbmcudG9vbGJhci5mb250U2l6ZSwgJ2ZvbnRTaXplJywgJ3N1Ym1lbnUnLCAnJyxcclxuICAgICAgICAgICAgICAgICc8c3BhbiBjbGFzcz1cInR4dCBzdW4tZWRpdG9yLWZvbnQtc2l6ZVwiPicgKyBsYW5nLnRvb2xiYXIuZm9udFNpemUgKyAnPC9zcGFuPjxzcGFuIGNsYXNzPVwiYXJyb3ctbW9yZS1kb3duXCI+PC9zcGFuPidcclxuICAgICAgICAgICAgXSxcclxuXHJcbiAgICAgICAgICAgIGZvbnRDb2xvcjogWydmdW5jdGlvbi1zdWJtZW51JywgbGFuZy50b29sYmFyLmZvbnRDb2xvciwgJ2ZvbnRDb2xvcicsICdzdWJtZW51JywgJycsXHJcbiAgICAgICAgICAgICAgICAnPGRpdiBjbGFzcz1cImljb24tZm9udENvbG9yXCI+PC9kaXY+J1xyXG4gICAgICAgICAgICBdLFxyXG5cclxuICAgICAgICAgICAgaGlsaXRlQ29sb3I6IFsnZnVuY3Rpb24tc3VibWVudScsIGxhbmcudG9vbGJhci5oaWxpdGVDb2xvciwgJ2hpbGl0ZUNvbG9yJywgJ3N1Ym1lbnUnLCAnJyxcclxuICAgICAgICAgICAgICAgICc8ZGl2IGNsYXNzPVwiaWNvbi1oaWxpdGVDb2xvclwiPjwvZGl2PidcclxuICAgICAgICAgICAgXSxcclxuXHJcbiAgICAgICAgICAgIGFsaWduOiBbJ2J0bl9hbGlnbiBmdW5jdGlvbi1zdWJtZW51JywgbGFuZy50b29sYmFyLmFsaWduLCAnYWxpZ24nLCAnc3VibWVudScsICcnLFxyXG4gICAgICAgICAgICAgICAgJzxkaXYgY2xhc3M9XCJpY29uLWFsaWduLWxlZnRcIj48L2Rpdj4nXHJcbiAgICAgICAgICAgIF0sXHJcblxyXG4gICAgICAgICAgICBsaXN0OiBbJ2Z1bmN0aW9uLXN1Ym1lbnUnLCBsYW5nLnRvb2xiYXIubGlzdCwgJ2xpc3QnLCAnc3VibWVudScsICcnLFxyXG4gICAgICAgICAgICAgICAgJzxkaXYgY2xhc3M9XCJpY29uLWxpc3QtbnVtYmVyXCI+PC9kaXY+J1xyXG4gICAgICAgICAgICBdLFxyXG5cclxuICAgICAgICAgICAgaG9yaXpvbnRhbFJ1bGU6IFsnYnRuX2xpbmUgZnVuY3Rpb24tc3VibWVudScsIGxhbmcudG9vbGJhci5ob3Jpem9udGFsUnVsZSwgJ2hvcml6b250YWxSdWxlJywgJ3N1Ym1lbnUnLCAnJyxcclxuICAgICAgICAgICAgICAgICc8aHIgc3R5bGU9XCJib3JkZXItd2lkdGg6IDFweCAwIDA7IGJvcmRlci1zdHlsZTogc29saWQgbm9uZSBub25lOyBib3JkZXItY29sb3I6IGJsYWNrOyBib3JkZXItaW1hZ2U6IGluaXRpYWw7IGhlaWdodDogMXB4O1wiIC8+JyArXHJcbiAgICAgICAgICAgICAgICAnPGhyIHN0eWxlPVwiYm9yZGVyLXdpZHRoOiAxcHggMCAwOyBib3JkZXItc3R5bGU6IGRvdHRlZCBub25lIG5vbmU7IGJvcmRlci1jb2xvcjogYmxhY2s7IGJvcmRlci1pbWFnZTogaW5pdGlhbDsgaGVpZ2h0OiAxcHg7XCIgLz4nICtcclxuICAgICAgICAgICAgICAgICc8aHIgc3R5bGU9XCJib3JkZXItd2lkdGg6IDFweCAwIDA7IGJvcmRlci1zdHlsZTogZGFzaGVkIG5vbmUgbm9uZTsgYm9yZGVyLWNvbG9yOiBibGFjazsgYm9yZGVyLWltYWdlOiBpbml0aWFsOyBoZWlnaHQ6IDFweDtcIiAvPidcclxuICAgICAgICAgICAgXSxcclxuXHJcbiAgICAgICAgICAgIHRhYmxlOiBbJ2Z1bmN0aW9uLXN1Ym1lbnUnLCBsYW5nLnRvb2xiYXIudGFibGUsICd0YWJsZScsICdzdWJtZW51JywgJycsXHJcbiAgICAgICAgICAgICAgICAnPGRpdiBjbGFzcz1cImljb24tZ3JpZFwiPjwvZGl2PidcclxuICAgICAgICAgICAgXSxcclxuXHJcbiAgICAgICAgICAgIC8qKiBwbHVnaW5zIC0gZGlhbG9nICovXHJcbiAgICAgICAgICAgIGxpbms6IFsnZnVuY3Rpb24tZGlhbG9nJywgbGFuZy50b29sYmFyLmxpbmssICdsaW5rJywgJ2RpYWxvZycsIHBvcHVwRGlzcGxheSxcclxuICAgICAgICAgICAgICAgICc8ZGl2IGNsYXNzPVwiaWNvbi1saW5rXCI+PC9kaXY+J1xyXG4gICAgICAgICAgICBdLFxyXG5cclxuICAgICAgICAgICAgaW1hZ2U6IFsnZnVuY3Rpb24tZGlhbG9nJywgbGFuZy50b29sYmFyLmltYWdlLCAnaW1hZ2UnLCAnZGlhbG9nJywgcG9wdXBEaXNwbGF5LFxyXG4gICAgICAgICAgICAgICAgJzxkaXYgY2xhc3M9XCJpY29uLWltYWdlXCI+PC9kaXY+J1xyXG4gICAgICAgICAgICBdLFxyXG5cclxuICAgICAgICAgICAgdmlkZW86IFsnZnVuY3Rpb24tZGlhbG9nJywgbGFuZy50b29sYmFyLnZpZGVvLCAndmlkZW8nLCAnZGlhbG9nJywgcG9wdXBEaXNwbGF5LFxyXG4gICAgICAgICAgICAgICAgJzxkaXYgY2xhc3M9XCJpY29uLXZpZGVvXCI+PC9kaXY+J1xyXG4gICAgICAgICAgICBdXHJcbiAgICAgICAgfTtcclxuICAgIH0sXHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBAZGVzY3JpcHRpb24gQ3JlYXRlIGEgZ3JvdXAgZGl2IGNvbnRhaW5pbmcgZWFjaCBtb2R1bGVcclxuICAgICAqIEByZXR1cm5zIHtFbGVtZW50fVxyXG4gICAgICogQHByaXZhdGVcclxuICAgICAqL1xyXG4gICAgX2NyZWF0ZU1vZHVsZUdyb3VwOiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgY29uc3Qgb0RpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ0RJVicpO1xyXG4gICAgICAgIG9EaXYuY2xhc3NOYW1lID0gJ3Rvb2xfbW9kdWxlJztcclxuXHJcbiAgICAgICAgY29uc3Qgb1VsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnVUwnKTtcclxuICAgICAgICBvVWwuY2xhc3NOYW1lID0gJ2VkaXRvcl90b29sJztcclxuICAgICAgICBvRGl2LmFwcGVuZENoaWxkKG9VbCk7XHJcblxyXG4gICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgICdkaXYnOiBvRGl2LFxyXG4gICAgICAgICAgICAndWwnOiBvVWxcclxuICAgICAgICB9O1xyXG4gICAgfSxcclxuXHJcbiAgICAvKipcclxuICAgICAqIEBkZXNjcmlwdGlvbiBDcmVhdGUgYSBidXR0b24gZWxlbWVudFxyXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGJ1dHRvbkNsYXNzIC0gY2xhc3NOYW1lIGluIGJ1dHRvblxyXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHRpdGxlIC0gVGl0bGUgaW4gYnV0dG9uXHJcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gZGF0YUNvbW1hbmQgLSBUaGUgZGF0YS1jb21tYW5kIHByb3BlcnR5IG9mIHRoZSBidXR0b25cclxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBkYXRhRGlzcGxheSAtIFRoZSBkYXRhLWRpc3BsYXkgcHJvcGVydHkgb2YgdGhlIGJ1dHRvbiAoJ2RpYWxvZycsICdzdWJtZW51JylcclxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBkaXNwbGF5T3B0aW9uIC0gT3B0aW9ucyBmb3Igd2hldGhlciB0aGUgcmFuZ2Ugb2YgdGhlIGRpYWxvZyBpcyBpbnNpZGUgdGhlIGVkaXRvciBvciBmb3IgdGhlIGVudGlyZSBzY3JlZW4gKCcnLCAnZnVsbCcpXHJcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gaW5uZXJIVE1MIC0gSHRtbCBpbiBidXR0b25cclxuICAgICAqIEByZXR1cm5zIHtFbGVtZW50fVxyXG4gICAgICogQHByaXZhdGVcclxuICAgICAqL1xyXG4gICAgX2NyZWF0ZUJ1dHRvbjogZnVuY3Rpb24gKGJ1dHRvbkNsYXNzLCB0aXRsZSwgZGF0YUNvbW1hbmQsIGRhdGFEaXNwbGF5LCBkaXNwbGF5T3B0aW9uLCBpbm5lckhUTUwpIHtcclxuICAgICAgICBjb25zdCBvTGkgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdMSScpO1xyXG4gICAgICAgIGNvbnN0IG9CdXR0b24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdCVVRUT04nKTtcclxuXHJcbiAgICAgICAgb0J1dHRvbi5zZXRBdHRyaWJ1dGUoJ3R5cGUnLCAnYnV0dG9uJyk7XHJcbiAgICAgICAgb0J1dHRvbi5zZXRBdHRyaWJ1dGUoJ2NsYXNzJywgJ2J0bl9lZGl0b3IgJyArIGJ1dHRvbkNsYXNzKTtcclxuICAgICAgICBvQnV0dG9uLnNldEF0dHJpYnV0ZSgndGl0bGUnLCB0aXRsZSk7XHJcbiAgICAgICAgb0J1dHRvbi5zZXRBdHRyaWJ1dGUoJ2RhdGEtY29tbWFuZCcsIGRhdGFDb21tYW5kKTtcclxuICAgICAgICBvQnV0dG9uLnNldEF0dHJpYnV0ZSgnZGF0YS1kaXNwbGF5JywgZGF0YURpc3BsYXkpO1xyXG4gICAgICAgIG9CdXR0b24uc2V0QXR0cmlidXRlKCdkYXRhLW9wdGlvbicsIGRpc3BsYXlPcHRpb24pO1xyXG4gICAgICAgIG9CdXR0b24uaW5uZXJIVE1MID0gaW5uZXJIVE1MO1xyXG4gICAgICAgIG9MaS5hcHBlbmRDaGlsZChvQnV0dG9uKTtcclxuXHJcbiAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgJ2xpJzogb0xpLFxyXG4gICAgICAgICAgICAnYnV0dG9uJzogb0J1dHRvblxyXG4gICAgICAgIH07XHJcbiAgICB9LFxyXG5cclxuICAgIC8qKlxyXG4gICAgICogQGRlc2NyaXB0aW9uIENyZWF0ZSBlZGl0b3IgSFRNTFxyXG4gICAgICogQHBhcmFtIHthcnJheX0gYnV0dG9uTGlzdCAtIG9wdGlvbi5idXR0b25MaXN0XHJcbiAgICAgKiBAcHJpdmF0ZVxyXG4gICAgICovXHJcbiAgICBfY3JlYXRlVG9vbEJhcjogZnVuY3Rpb24gKGRvYywgYnV0dG9uTGlzdCwgbGFuZywgcG9wdXBEaXNwbGF5KSB7XHJcbiAgICAgICAgY29uc3QgdG9vbF9iYXIgPSBkb2MuY3JlYXRlRWxlbWVudCgnRElWJyk7XHJcbiAgICAgICAgdG9vbF9iYXIuY2xhc3NOYW1lID0gJ3N1bi1lZGl0b3ItaWQtdG9vbGJhciBzdW4tZWRpdG9yLWNvbW1vbic7XHJcblxyXG4gICAgICAgIGNvbnN0IHRvb2xfY292ZXIgPSBkb2MuY3JlYXRlRWxlbWVudCgnRElWJyk7XHJcbiAgICAgICAgdG9vbF9jb3Zlci5jbGFzc05hbWUgPSAnc3VuLWVkaXRvci1pZC10b29sYmFyLWNvdmVyJztcclxuXHJcbiAgICAgICAgLyoqIGNyZWF0ZSBidXR0b24gbGlzdCAqL1xyXG4gICAgICAgIGNvbnN0IHBsdWdpbnMgPSB7fTtcclxuICAgICAgICBjb25zdCBkZWZhdWx0QnV0dG9uTGlzdCA9IHRoaXMuX2RlZmF1bHRCdXR0b25zKGxhbmcsIHBvcHVwRGlzcGxheSk7XHJcblxyXG4gICAgICAgIGxldCBtb2R1bGUgPSBudWxsO1xyXG4gICAgICAgIGxldCBidXR0b24gPSBudWxsO1xyXG4gICAgICAgIGxldCBtb2R1bGVFbGVtZW50ID0gbnVsbDtcclxuICAgICAgICBsZXQgYnV0dG9uRWxlbWVudCA9IG51bGw7XHJcblxyXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgYnV0dG9uTGlzdC5sZW5ndGg7IGkrKykge1xyXG5cclxuICAgICAgICAgICAgY29uc3QgYnV0dG9uR3JvdXAgPSBidXR0b25MaXN0W2ldO1xyXG4gICAgICAgICAgICBtb2R1bGVFbGVtZW50ID0gdGhpcy5fY3JlYXRlTW9kdWxlR3JvdXAoKTtcclxuXHJcbiAgICAgICAgICAgIC8qKiBidXR0b24gb2JqZWN0ICovXHJcbiAgICAgICAgICAgIGlmICh0eXBlb2YgYnV0dG9uR3JvdXAgPT09ICdvYmplY3QnKSB7XHJcbiAgICAgICAgICAgICAgICBmb3IgKGxldCBqID0gMDsgaiA8IGJ1dHRvbkdyb3VwLmxlbmd0aDsgaisrKSB7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGJ1dHRvbiA9IGJ1dHRvbkdyb3VwW2pdO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgYnV0dG9uID09PSAnb2JqZWN0Jykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIGJ1dHRvbi5hZGQgPT09ICdmdW5jdGlvbicpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1vZHVsZSA9IGRlZmF1bHRCdXR0b25MaXN0W2J1dHRvbi5uYW1lXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBsdWdpbnNbYnV0dG9uLm5hbWVdID0gYnV0dG9uO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbW9kdWxlID0gW2J1dHRvbi5jbGFzc05hbWUsIGJ1dHRvbi50aXRsZSwgYnV0dG9uLmRhdGFDb21tYW5kLCBidXR0b24uZGF0YURpc3BsYXksIGJ1dHRvbi5kaXNwbGF5T3B0aW9uLCBidXR0b24uaW5uZXJIVE1MXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG1vZHVsZSA9IGRlZmF1bHRCdXR0b25MaXN0W2J1dHRvbl07XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICBidXR0b25FbGVtZW50ID0gdGhpcy5fY3JlYXRlQnV0dG9uKG1vZHVsZVswXSwgbW9kdWxlWzFdLCBtb2R1bGVbMl0sIG1vZHVsZVszXSwgbW9kdWxlWzRdLCBtb2R1bGVbNV0pO1xyXG4gICAgICAgICAgICAgICAgICAgIG1vZHVsZUVsZW1lbnQudWwuYXBwZW5kQ2hpbGQoYnV0dG9uRWxlbWVudC5saSk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChwbHVnaW5zW2J1dHRvbi5uYW1lXSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBwbHVnaW5zW2J1dHRvbi5uYW1lXS5idXR0b25FbGVtZW50ID0gYnV0dG9uRWxlbWVudC5idXR0b247XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIHRvb2xfYmFyLmFwcGVuZENoaWxkKG1vZHVsZUVsZW1lbnQuZGl2KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAvKiogbGluZSBicmVhayAgKi9cclxuICAgICAgICAgICAgZWxzZSBpZiAoL15cXC8kLy50ZXN0KGJ1dHRvbkdyb3VwKSkge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgZW50ZXJEaXYgPSBkb2MuY3JlYXRlRWxlbWVudCgnRElWJyk7XHJcbiAgICAgICAgICAgICAgICBlbnRlckRpdi5jbGFzc05hbWUgPSAndG9vbF9tb2R1bGVfZW50ZXInO1xyXG4gICAgICAgICAgICAgICAgdG9vbF9iYXIuYXBwZW5kQ2hpbGQoZW50ZXJEaXYpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICAnZWxlbWVudCc6IHRvb2xfYmFyLFxyXG4gICAgICAgICAgICAncGx1Z2lucyc6IHBsdWdpbnNcclxuICAgICAgICB9O1xyXG4gICAgfVxyXG59O1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgX0NvbnN0cnVjdG9yOyJdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUVBOzs7Ozs7OztBQU9BO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFTQTtBQUNBO0FBQUE7QUFDQTtBQUVBO0FBRUE7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQUE7QUFDQTtBQUVBO0FBQ0E7QUFBQTtBQUVBO0FBQ0E7QUFDQTtBQURBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUFBO0FBQ0E7QUFFQTtBQUNBO0FBQUE7QUFDQTtBQUVBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQUE7QUFDQTtBQUVBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFWQTtBQVlBO0FBQ0E7QUFDQTtBQUNBO0FBaEJBO0FBa0JBO0FBQ0E7QUFDQTs7Ozs7O0FBTUE7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBOzs7O0FBSUE7QUFDQTtBQUNBO0FBQ0E7QUFJQTtBQUlBO0FBSUE7QUFJQTtBQUlBO0FBSUE7QUFJQTtBQUlBO0FBSUE7QUFJQTtBQUlBO0FBSUE7QUFJQTtBQUlBO0FBSUE7QUFDQTtBQUdBO0FBQ0E7QUFHQTtBQUlBO0FBSUE7QUFJQTtBQUlBO0FBSUE7QUFJQTtBQU1BO0FBQ0E7QUFHQTtBQUNBO0FBSUE7QUFJQTtBQWpIQTtBQXFIQTtBQUNBO0FBQ0E7Ozs7O0FBS0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRkE7QUFJQTtBQUNBO0FBQ0E7Ozs7Ozs7Ozs7O0FBV0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUZBO0FBSUE7QUFDQTtBQUNBOzs7OztBQUtBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUFBO0FBQ0E7QUFFQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUF6QkE7QUEyQkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRkE7QUFJQTtBQXBYQTtBQXVYQSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/lib/constructor.js\n");

/***/ }),

/***/ "./src/lib/context.js":
/*!****************************!*\
  !*** ./src/lib/context.js ***!
  \****************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n\n/**\r\n * @description Elements and variables you should have\r\n * @param {HTMLElement} element - textarea element\r\n * @param {object} cons - Toolbar element you created\r\n * @param {json} options - user options\r\n * @returns Elements, variables of the editor\r\n * @private\r\n */\n\nconst _Context = function (element, cons, options) {\n  return {\n    element: {\n      originElement: element,\n      topArea: cons._top,\n      relative: cons._relative,\n      resizebar: cons._resizeBar,\n      navigation: cons._navigation,\n      editorArea: cons._editorArea,\n      wysiwyg: cons._wysiwygArea,\n      code: cons._codeArea,\n      loading: cons._loading,\n      resizeBackground: cons._resizeBack\n    },\n    tool: {\n      bar: cons._toolBar,\n      cover: cons._toolBar.getElementsByClassName('sun-editor-id-toolbar-cover')[0],\n      bold: cons._toolBar.getElementsByClassName('sun-editor-id-bold')[0],\n      underline: cons._toolBar.getElementsByClassName('sun-editor-id-underline')[0],\n      italic: cons._toolBar.getElementsByClassName('sun-editor-id-italic')[0],\n      strike: cons._toolBar.getElementsByClassName('sun-editor-id-strike')[0],\n      subscript: cons._toolBar.getElementsByClassName('sun-editor-id-subscript')[0],\n      superscript: cons._toolBar.getElementsByClassName('sun-editor-id-superscript')[0],\n      font: cons._toolBar.getElementsByClassName('sun-editor-font-family')[0],\n      format: cons._toolBar.getElementsByClassName('sun-editor-font-format')[0],\n      fontSize: cons._toolBar.getElementsByClassName('sun-editor-font-size')[0]\n    },\n    user: {\n      videoX: options.videoX,\n      videoY: options.videoY,\n      imageFileInput: options.imageFileInput,\n      imageUrlInput: options.imageUrlInput,\n      imageSize: options.imageSize,\n      imageUploadUrl: options.imageUploadUrl,\n      font: options.font,\n      fontSize: options.fontSize,\n      height: options.height.match(/\\d+/)[0],\n      showPathLabel: options.showPathLabel\n    },\n    dialog: {},\n    submenu: {}\n  };\n};\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (_Context);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvbGliL2NvbnRleHQuanMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvbGliL2NvbnRleHQuanM/ZDgzOSJdLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIHN0cmljdCc7XHJcblxyXG4vKipcclxuICogQGRlc2NyaXB0aW9uIEVsZW1lbnRzIGFuZCB2YXJpYWJsZXMgeW91IHNob3VsZCBoYXZlXHJcbiAqIEBwYXJhbSB7SFRNTEVsZW1lbnR9IGVsZW1lbnQgLSB0ZXh0YXJlYSBlbGVtZW50XHJcbiAqIEBwYXJhbSB7b2JqZWN0fSBjb25zIC0gVG9vbGJhciBlbGVtZW50IHlvdSBjcmVhdGVkXHJcbiAqIEBwYXJhbSB7anNvbn0gb3B0aW9ucyAtIHVzZXIgb3B0aW9uc1xyXG4gKiBAcmV0dXJucyBFbGVtZW50cywgdmFyaWFibGVzIG9mIHRoZSBlZGl0b3JcclxuICogQHByaXZhdGVcclxuICovXHJcbmNvbnN0IF9Db250ZXh0ID0gZnVuY3Rpb24gKGVsZW1lbnQsIGNvbnMsIG9wdGlvbnMpIHtcclxuICAgIHJldHVybiB7XHJcbiAgICAgICAgZWxlbWVudDoge1xyXG4gICAgICAgICAgICBvcmlnaW5FbGVtZW50OiBlbGVtZW50LFxyXG4gICAgICAgICAgICB0b3BBcmVhOiBjb25zLl90b3AsXHJcbiAgICAgICAgICAgIHJlbGF0aXZlOiBjb25zLl9yZWxhdGl2ZSxcclxuICAgICAgICAgICAgcmVzaXplYmFyOiBjb25zLl9yZXNpemVCYXIsXHJcbiAgICAgICAgICAgIG5hdmlnYXRpb246IGNvbnMuX25hdmlnYXRpb24sXHJcbiAgICAgICAgICAgIGVkaXRvckFyZWE6IGNvbnMuX2VkaXRvckFyZWEsXHJcbiAgICAgICAgICAgIHd5c2l3eWc6IGNvbnMuX3d5c2l3eWdBcmVhLFxyXG4gICAgICAgICAgICBjb2RlOiBjb25zLl9jb2RlQXJlYSxcclxuICAgICAgICAgICAgbG9hZGluZzogY29ucy5fbG9hZGluZyxcclxuICAgICAgICAgICAgcmVzaXplQmFja2dyb3VuZDogY29ucy5fcmVzaXplQmFja1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgdG9vbDoge1xyXG4gICAgICAgICAgICBiYXI6IGNvbnMuX3Rvb2xCYXIsXHJcbiAgICAgICAgICAgIGNvdmVyOiBjb25zLl90b29sQmFyLmdldEVsZW1lbnRzQnlDbGFzc05hbWUoJ3N1bi1lZGl0b3ItaWQtdG9vbGJhci1jb3ZlcicpWzBdLFxyXG4gICAgICAgICAgICBib2xkOiBjb25zLl90b29sQmFyLmdldEVsZW1lbnRzQnlDbGFzc05hbWUoJ3N1bi1lZGl0b3ItaWQtYm9sZCcpWzBdLFxyXG4gICAgICAgICAgICB1bmRlcmxpbmU6IGNvbnMuX3Rvb2xCYXIuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgnc3VuLWVkaXRvci1pZC11bmRlcmxpbmUnKVswXSxcclxuICAgICAgICAgICAgaXRhbGljOiBjb25zLl90b29sQmFyLmdldEVsZW1lbnRzQnlDbGFzc05hbWUoJ3N1bi1lZGl0b3ItaWQtaXRhbGljJylbMF0sXHJcbiAgICAgICAgICAgIHN0cmlrZTogY29ucy5fdG9vbEJhci5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCdzdW4tZWRpdG9yLWlkLXN0cmlrZScpWzBdLFxyXG4gICAgICAgICAgICBzdWJzY3JpcHQ6IGNvbnMuX3Rvb2xCYXIuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgnc3VuLWVkaXRvci1pZC1zdWJzY3JpcHQnKVswXSxcclxuICAgICAgICAgICAgc3VwZXJzY3JpcHQ6IGNvbnMuX3Rvb2xCYXIuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgnc3VuLWVkaXRvci1pZC1zdXBlcnNjcmlwdCcpWzBdLFxyXG4gICAgICAgICAgICBmb250OiBjb25zLl90b29sQmFyLmdldEVsZW1lbnRzQnlDbGFzc05hbWUoJ3N1bi1lZGl0b3ItZm9udC1mYW1pbHknKVswXSxcclxuICAgICAgICAgICAgZm9ybWF0OiBjb25zLl90b29sQmFyLmdldEVsZW1lbnRzQnlDbGFzc05hbWUoJ3N1bi1lZGl0b3ItZm9udC1mb3JtYXQnKVswXSxcclxuICAgICAgICAgICAgZm9udFNpemU6IGNvbnMuX3Rvb2xCYXIuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgnc3VuLWVkaXRvci1mb250LXNpemUnKVswXVxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgdXNlcjoge1xyXG4gICAgICAgICAgICB2aWRlb1g6IG9wdGlvbnMudmlkZW9YLFxyXG4gICAgICAgICAgICB2aWRlb1k6IG9wdGlvbnMudmlkZW9ZLFxyXG4gICAgICAgICAgICBpbWFnZUZpbGVJbnB1dDogb3B0aW9ucy5pbWFnZUZpbGVJbnB1dCxcclxuICAgICAgICAgICAgaW1hZ2VVcmxJbnB1dDogb3B0aW9ucy5pbWFnZVVybElucHV0LFxyXG4gICAgICAgICAgICBpbWFnZVNpemU6IG9wdGlvbnMuaW1hZ2VTaXplLFxyXG4gICAgICAgICAgICBpbWFnZVVwbG9hZFVybDogb3B0aW9ucy5pbWFnZVVwbG9hZFVybCxcclxuICAgICAgICAgICAgZm9udDogb3B0aW9ucy5mb250LFxyXG4gICAgICAgICAgICBmb250U2l6ZTogb3B0aW9ucy5mb250U2l6ZSxcclxuICAgICAgICAgICAgaGVpZ2h0OiBvcHRpb25zLmhlaWdodC5tYXRjaCgvXFxkKy8pWzBdLFxyXG4gICAgICAgICAgICBzaG93UGF0aExhYmVsOiBvcHRpb25zLnNob3dQYXRoTGFiZWxcclxuICAgICAgICB9LFxyXG4gICAgICAgIGRpYWxvZzoge30sXHJcbiAgICAgICAgc3VibWVudToge31cclxuICAgIH07XHJcbn07XHJcblxyXG5leHBvcnQgZGVmYXVsdCBfQ29udGV4dDsiXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFFQTs7Ozs7Ozs7O0FBUUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFWQTtBQVlBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQVhBO0FBYUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQVZBO0FBWUE7QUFDQTtBQXZDQTtBQXlDQTtBQUNBO0FBQ0EiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/lib/context.js\n");

/***/ }),

/***/ "./src/lib/core.js":
/*!*************************!*\
  !*** ./src/lib/core.js ***!
  \*************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n\n/**\r\n * @description SunEditor core closure\r\n * @param context\r\n * @param util\r\n * @param modules\r\n * @param plugins\r\n * @param lang\r\n * @returns {{save: save, getContent: getContent, setContent: setContent, appendContent: appendContent, disabled: disabled, enabled: enabled, show: show, hide: hide, destroy: destroy}}\r\n */\n\nconst core = function (context, util, modules, plugins, lang) {\n  /**\r\n   * @description Practical editor function\r\n   * This function is 'this' used by other plugins\r\n   */\n  const editor = {\n    /**\r\n     * @description Elements and user options parameters of the suneditor\r\n     */\n    context: context,\n\n    /**\r\n     * @description loaded modules\r\n     */\n    modules: {},\n\n    /**\r\n     * @description loaded plugins\r\n     */\n    plugins: {},\n\n    /**\r\n     * @description language\r\n     */\n    lang: lang,\n\n    /**\r\n     * @description util function\r\n     */\n    util: util,\n\n    /**\r\n     * @description dialog element\r\n     */\n    dialogForm: null,\n\n    /**\r\n     * @description submenu element\r\n     */\n    submenu: null,\n\n    /**\r\n     * @description active button element in submenu\r\n     */\n    submenuActiveButton: null,\n\n    /**\r\n     * @description controllers array (image resize area, link modified button)\r\n     */\n    controllerArray: [],\n\n    /**\r\n     * @description Elements that need to change text or className for each selection change\r\n     * @property {element} FONT - font family button\r\n     * @property {element} B - bold button\r\n     * @property {element} U - underline button\r\n     * @property {element} I - italic button\r\n     * @property {element} STRIKE - strike button\r\n     * @property {element} SUB - subscript button\r\n     * @property {element} SUP - superscript button\r\n     * @property {element} SIZE - font size button\r\n     */\n    commandMap: {\n      FORMAT: context.tool.format,\n      FONT: context.tool.font,\n      SIZE: context.tool.fontSize,\n      B: context.tool.bold,\n      U: context.tool.underline,\n      I: context.tool.italic,\n      STRIKE: context.tool.strike,\n      SUB: context.tool.subscript,\n      SUP: context.tool.superscript\n    },\n\n    /**\r\n     * @description Variables used internally in editor operation\r\n     * @property {(element|null)} selectionNode - Contains selection node\r\n     * @property {(element|null)} range - The current range object\r\n     * @property {boolean} wysiwygActive - The wysiwyg frame or code view state\r\n     * @property {boolean} isFullScreen - State of full screen\r\n     * @property {number} innerHeight_fullScreen - InnerHeight in editor when in full screen\r\n     * @property {number} resizeClientY - Remember the vertical size of the editor before resizing the editor (Used when calculating during resize operation)\r\n     * @property {number} tabSize - Indented size when tab button clicked (4)\r\n     * @property {element} originCssText - Remembered the CSS of the editor before full screen (Used when returning to original size again)\r\n     * @property {number} editorHeight - The height value entered by the user or the height value of the \"textarea\" when the suneditor is created\r\n     * @property {array} currentNodes -  An array of the current cursor's node structure\r\n     * @property {boolean} isTouchMove - Check if mobile has moved after touching (Allowing scrolling in the toolbar area)\r\n     * @private\r\n     */\n    _variable: {\n      selectionNode: null,\n      range: null,\n      wysiwygActive: true,\n      isFullScreen: false,\n      innerHeight_fullScreen: 0,\n      resizeClientY: 0,\n      tabSize: 4,\n      originCssText: context.element.topArea.style.cssText,\n      editorHeight: context.user.height,\n      currentNodes: [],\n      isTouchMove: false\n    },\n\n    /**\r\n     * @description Call the module\r\n     * @param {string} pluginName - The name of the js file to call\r\n     * @param {function} callBackFunction - Function to be executed immediately after module call\r\n     */\n    callModule: function (pluginName, callBackFunction) {\n      if (!this.plugins[pluginName]) {\n        const plugin = plugins[pluginName];\n\n        if (!plugin) {\n          throw Error('[SUNEDITOR.core.callModule.fail] The called plugin does not exist or is in an invalid format. (pluginName:\"' + pluginName + '\")');\n        }\n\n        plugin.add(this, plugin.buttonElement);\n        this.plugins[pluginName] = plugin;\n      }\n\n      callBackFunction();\n    },\n\n    /**\r\n     * @description Enabled submenu\r\n     * @param {element} element - Submenu element to call\r\n     */\n    submenuOn: function (element) {\n      this.submenu = element.nextElementSibling;\n      this.submenu.style.display = 'block';\n      this.util.addClass(element, 'on');\n      this.submenuActiveButton = element;\n    },\n\n    /**\r\n     * @description Disable submenu\r\n     */\n    submenuOff: function () {\n      if (this.submenu) {\n        this.submenu.style.display = 'none';\n        this.submenu = null;\n        this.util.removeClass(this.submenuActiveButton, 'on');\n        this.submenuActiveButton = null;\n      }\n\n      if (context.image && context.image._onCaption === true) {\n        this.plugins.image.toggle_caption_contenteditable.call(editor, false);\n      }\n\n      this.controllersOff();\n    },\n\n    /**\r\n     * @description Disable controller in editor area (link button, image resize button)\r\n     */\n    controllersOff: function () {\n      const len = this.controllerArray.length;\n\n      if (len > 0) {\n        for (let i = 0; i < len; i++) {\n          this.controllerArray[i].style.display = 'none';\n        }\n\n        this.controllerArray = [];\n      }\n    },\n\n    /**\r\n     * @description javascript execCommand\r\n     * @param {string} command - javascript execCommand function property\r\n     * @param {boolean} showDefaultUI - javascript execCommand function property\r\n     * @param {string} value - javascript execCommand function property\r\n     */\n    execCommand: function (command, showDefaultUI, value) {\n      document.execCommand(command, showDefaultUI, value);\n    },\n\n    /**\r\n     * @description Focus to wysiwyg area\r\n     */\n    focus: function () {\n      const caption = this.util.getParentElement(this._variable.selectionNode, 'figcaption');\n\n      if (caption) {\n        caption.focus();\n      } else {\n        context.element.wysiwyg.focus();\n      }\n\n      this._setEditorRange();\n    },\n\n    /**\r\n     * @description Saving the range object and the currently selected node of editor\r\n     */\n    _setEditorRange: function () {\n      const selection = window.getSelection();\n      let range = null;\n\n      if (selection.rangeCount > 0) {\n        range = selection.getRangeAt(0);\n      } else {\n        range = document.createRange();\n        range.setStart(context.element.wysiwyg.firstChild, 0);\n        range.setEnd(context.element.wysiwyg.firstChild, 0);\n      }\n\n      this._variable.range = range;\n\n      if (range.collapsed) {\n        this._variable.selectionNode = range.commonAncestorContainer;\n      } else {\n        this._variable.selectionNode = selection.extentNode || selection.anchorNode;\n      }\n    },\n\n    /**\r\n     * @description Set current editor's range object\r\n     */\n    setRange: function (startCon, startOff, endCon, endOff) {\n      const range = document.createRange();\n      range.setStart(startCon, startOff);\n      range.setEnd(endCon, endOff);\n      const selection = window.getSelection();\n\n      if (selection.rangeCount > 0) {\n        selection.removeAllRanges();\n      }\n\n      this._variable.range = range;\n      selection.addRange(range);\n    },\n\n    /**\r\n     * @description Get current editor's range object\r\n     * @returns {Object}\r\n     */\n    getRange: function () {\n      return this._variable.range;\n    },\n\n    /**\r\n     * @description Get current select node\r\n     * @returns {Node}\r\n     */\n    getSelectionNode: function () {\n      if (this._variable.selectionNode) {\n        return this._variable.selectionNode;\n      }\n\n      return context.element.wysiwyg.firstChild;\n    },\n\n    /**\r\n     * @description Determine if this offset is the edge offset of container\r\n     * @param {object} container - The container property of the selection object.\r\n     * @param {number} offset - The offset property of the selection object.\r\n     * @returns {boolean}\r\n     */\n    isEdgePoint: function (container, offset) {\n      return offset === 0 || offset === container.nodeValue.length;\n    },\n\n    /**\r\n     * @description Show loading box\r\n     */\n    showLoading: function () {\n      context.element.loading.style.display = 'block';\n    },\n\n    /**\r\n     * @description Close loading box\r\n     */\n    closeLoading: function () {\n      context.element.loading.style.display = 'none';\n    },\n\n    /**\r\n     * @description Append P tag to current line next\r\n     * @param {element} element - Insert as siblings of that element\r\n     * @returns {element}\r\n     */\n    appendP: function (element) {\n      const oP = document.createElement('P');\n      oP.innerHTML = '&#65279';\n      element = this.util.getFormatElement(element);\n      element.parentNode.insertBefore(oP, element.nextElementSibling);\n      return oP;\n    },\n\n    /**\r\n     * @description Delete selected node and insert argument value node\r\n     * @param {element} oNode - Node to be inserted\r\n     * @param {(element|null)} rightNode - If the node exists, it is inserted after the node\r\n     */\n    insertNode: function (oNode, rightNode) {\n      const range = this.getRange();\n      let parentNode = null;\n\n      if (!rightNode) {\n        const startCon = range.startContainer;\n        const startOff = range.startOffset;\n        const endCon = range.endContainer;\n        const endOff = range.endOffset;\n        const commonCon = range.commonAncestorContainer;\n        parentNode = startCon;\n\n        if (startCon.nodeType === 3) {\n          parentNode = startCon.parentNode;\n        }\n        /** Select within the same node */\n\n\n        if (range.collapsed) {\n          if (commonCon.nodeType === 3) {\n            rightNode = commonCon.splitText(endOff);\n          } else {\n            if (parentNode.lastChild !== null && /^BR$/i.test(parentNode.lastChild.nodeName)) {\n              parentNode.removeChild(parentNode.lastChild);\n            }\n\n            rightNode = null;\n          }\n        }\n        /** Select multiple nodes */\n        else {\n            const isSameContainer = startCon === endCon;\n\n            if (isSameContainer) {\n              let removeNode = startCon;\n              if (!this.isEdgePoint(endCon, endOff)) rightNode = endCon.splitText(endOff);\n              if (!this.isEdgePoint(startCon, startOff)) removeNode = startCon.splitText(startOff);\n              parentNode.removeChild(removeNode);\n            } else {\n              this.removeNode();\n              rightNode = endCon;\n\n              while (rightNode.nodeType !== 1) {\n                rightNode = rightNode.parentNode;\n              }\n            }\n          }\n      } else {\n        parentNode = rightNode.parentNode;\n        rightNode = rightNode.nextSibling;\n      }\n\n      try {\n        parentNode.insertBefore(oNode, rightNode);\n      } catch (e) {\n        parentNode.appendChild(oNode);\n      } // this.setRange(oNode, 0, oNode, 0);\n\n    },\n\n    /**\r\n     * @description Delete the currently selected node\r\n     */\n    removeNode: function () {\n      const range = this.getRange();\n\n      if (range.deleteContents) {\n        range.deleteContents();\n        return;\n      }\n\n      const startCon = range.startContainer;\n      const startOff = range.startOffset;\n      const endCon = range.endContainer;\n      const endOff = range.endOffset;\n      const commonCon = range.commonAncestorContainer;\n      let beforeNode = null;\n      let afterNode = null;\n      const childNodes = this.util.getListChildNodes(commonCon);\n      let startIndex = this.util.getArrayIndex(childNodes, startCon);\n      let endIndex = this.util.getArrayIndex(childNodes, endCon);\n\n      for (let i = startIndex + 1, startNode = startCon; i >= 0; i--) {\n        if (childNodes[i] === startNode.parentNode && childNodes[i].firstChild === startNode && startOff === 0) {\n          startIndex = i;\n          startNode = startNode.parentNode;\n        }\n      }\n\n      for (let i = endIndex - 1, endNode = endCon; i > startIndex; i--) {\n        if (childNodes[i] === endNode.parentNode && childNodes[i].nodeType === 1) {\n          childNodes.splice(i, 1);\n          endNode = endNode.parentNode;\n          --endIndex;\n        }\n      }\n\n      for (let i = startIndex; i <= endIndex; i++) {\n        const item = childNodes[i];\n\n        if (item.length === 0 || item.nodeType === 3 && item.data === undefined) {\n          this.util.removeItem(item);\n          continue;\n        }\n\n        if (item === startCon) {\n          if (startCon.nodeType === 1) {\n            beforeNode = document.createTextNode(startCon.textContent);\n          } else {\n            beforeNode = document.createTextNode(startCon.substringData(0, startOff));\n          }\n\n          if (beforeNode.length > 0) {\n            startCon.data = beforeNode.data;\n          } else {\n            this.util.removeItem(startCon);\n          }\n\n          continue;\n        }\n\n        if (item === endCon) {\n          if (endCon.nodeType === 1) {\n            afterNode = document.createTextNode(endCon.textContent);\n          } else {\n            afterNode = document.createTextNode(endCon.substringData(endOff, endCon.length - endOff));\n          }\n\n          if (afterNode.length > 0) {\n            endCon.data = afterNode.data;\n          } else {\n            this.util.removeItem(endCon);\n          }\n\n          continue;\n        }\n\n        this.util.removeItem(item);\n      }\n    },\n\n    /**\r\n     * @description Copies the node of the argument value and wraps all selected text.\r\n     * 1. When there is the same node in the selection area, the tag is stripped.\r\n     * 2. If there is another css value other thanCss attribute values received as arguments on the same node, removed only Css attribute values received as arguments\r\n     * @param {element} appendNode - The dom that will wrap the selected text area\r\n     * @param {array} checkCSSPropertyArray - The css attribute name Array to check (['font-size'], ['font-family']...])\r\n     */\n    wrapRangeToTag: function (appendNode, checkCSSPropertyArray) {\n      const range = this.getRange();\n      const startCon = range.startContainer;\n      const startOff = range.startOffset;\n      const endCon = range.endContainer;\n      const endOff = range.endOffset;\n      const commonCon = range.commonAncestorContainer;\n      let start = {},\n          end = {};\n      let newNode, regExp;\n\n      if (checkCSSPropertyArray) {\n        regExp = '(?:;|^|\\\\s)(?:' + checkCSSPropertyArray[0];\n\n        for (let i = 1; i < checkCSSPropertyArray.length; i++) {\n          regExp += '|' + checkCSSPropertyArray[i];\n        }\n\n        regExp += ')\\\\s*:[^;]*\\\\s*(?:;|$)';\n        regExp = new RegExp(regExp, 'gi');\n      }\n      /** one node */\n\n\n      if (startCon === endCon) {\n        newNode = appendNode.cloneNode(false);\n        /** No node selected */\n\n        if (startOff === endOff) {\n          newNode.innerHTML = '&nbsp;';\n\n          if (util.isFormatElement(startCon)) {\n            startCon.appendChild(newNode);\n          } else {\n            startCon.parentNode.insertBefore(newNode, startCon.nextSibling);\n          }\n        }\n        /** Select within the same node */\n        else {\n            const isElement = startCon.nodeType === 1;\n\n            if (isElement) {\n              newNode.innerHTML = startCon.outerHTML;\n              startCon.parentNode.appendChild(newNode);\n              this.util.removeItem(startCon);\n            } else {\n              const beforeNode = document.createTextNode(startCon.substringData(0, startOff));\n              const afterNode = document.createTextNode(startCon.substringData(endOff, startCon.length - endOff));\n              newNode.innerText = startCon.substringData(startOff, endOff - startOff);\n              startCon.parentNode.insertBefore(newNode, startCon.nextSibling);\n\n              if (beforeNode.data.length > 0) {\n                startCon.data = beforeNode.data;\n              } else {\n                startCon.data = startCon.substringData(0, startOff);\n              }\n\n              if (afterNode.data.length > 0) {\n                startCon.parentNode.insertBefore(afterNode, newNode.nextSibling);\n              }\n            }\n          }\n\n        start.container = newNode;\n        start.offset = 0;\n        end.container = newNode;\n        end.offset = 1;\n      }\n      /** multiple nodes */\n      else {\n          /** tag check function*/\n          const checkFontSizeCss = function (vNode) {\n            if (vNode.nodeType === 3) return true;\n            let style = '';\n\n            if (regExp && vNode.style.cssText.length > 0) {\n              style = vNode.style.cssText.replace(regExp, '').trim();\n            }\n\n            if (vNode.nodeName !== appendNode.nodeName || style.length > 0) {\n              if (vNode.style.cssText.length > 0) vNode.style.cssText = style;\n              return true;\n            }\n\n            return false;\n          };\n          /** one line */\n\n\n          if (!util.isFormatElement(commonCon)) {\n            newNode = appendNode.cloneNode(false);\n\n            const newRange = this._wrapLineNodesPart(commonCon, newNode, checkFontSizeCss, startCon, startOff, endCon, endOff);\n\n            start.container = newRange.startContainer;\n            start.offset = newRange.startOffset;\n            end.container = newRange.endContainer;\n            end.offset = newRange.endOffset;\n          }\n          /** multi line */\n          else {\n              // get line nodes\n              const lineNodes = this.util.getListChildren(commonCon, function (current) {\n                return util.isFormatElement(current);\n              });\n              let startLine = this.util.getParentElement(startCon, 'P');\n              let endLine = this.util.getParentElement(endCon, 'P');\n\n              for (let i = 0, len = lineNodes.length; i < len; i++) {\n                if (startLine === lineNodes[i]) {\n                  startLine = i;\n                  continue;\n                }\n\n                if (endLine === lineNodes[i]) {\n                  endLine = i;\n                  break;\n                }\n              } // startCon\n\n\n              newNode = appendNode.cloneNode(false);\n              start = this._wrapLineNodesStart(lineNodes[startLine], newNode, checkFontSizeCss, startCon, startOff); // mid\n\n              for (let i = startLine + 1; i < endLine; i++) {\n                newNode = appendNode.cloneNode(false);\n\n                this._wrapLineNodes(lineNodes[i], newNode, checkFontSizeCss);\n              } // endCon\n\n\n              newNode = appendNode.cloneNode(false);\n              end = this._wrapLineNodesEnd(lineNodes[endLine], newNode, checkFontSizeCss, endCon, endOff);\n            }\n        } // set range\n\n\n      this.setRange(start.container, start.offset, end.container, end.offset);\n    },\n\n    /**\r\n     * @description wraps text nodes of line selected text.\r\n     * @param {element} element - The node of the line that contains the selected text node.\r\n     * @param {element} newInnerNode - The dom that will wrap the selected text area\r\n     * @param {function} validation - Check if the node should be stripped.\r\n     * @param {element} startCon - The startContainer property of the selection object.\r\n     * @param {number} startOff - The startOffset property of the selection object.\r\n     * @param {element} endCon - The endContainer property of the selection object.\r\n     * @param {number} endOff - The endOffset property of the selection object.\r\n     * @returns {{startContainer: *, startOffset: *, endContainer: *, endOffset: *}}\r\n     * @private\r\n     */\n    _wrapLineNodesPart: function (element, newInnerNode, validation, startCon, startOff, endCon, endOff) {\n      const el = element;\n      const removeNodeList = [];\n      let startContainer = startCon;\n      let startOffset = startOff;\n      let endContainer = endCon;\n      let endOffset = endOff;\n      let startPass = false;\n      let endPass = false;\n      let pCurrent, newNode, appendNode;\n\n      (function recursionFunc(current, node) {\n        const childNodes = current.childNodes;\n\n        for (let i = 0, len = childNodes.length; i < len; i++) {\n          if (endPass) break;\n          let child = childNodes[i];\n\n          if (startPass && child !== endContainer && child.nodeType === 3) {\n            pCurrent = [];\n\n            while (newNode !== el && newNode !== null) {\n              if (validation(newNode) && newNode.nodeType === 1) {\n                pCurrent.push(newNode.cloneNode(false));\n              }\n\n              newNode = newNode.parentNode;\n            }\n\n            if (pCurrent.length > 0) {\n              appendNode = newNode = pCurrent.pop();\n\n              while (pCurrent.length > 0) {\n                newNode = pCurrent.pop();\n                appendNode.appendChild(newNode);\n              }\n\n              newInnerNode.appendChild(appendNode);\n              node = newNode;\n            } else {\n              node = newInnerNode;\n            }\n\n            node.appendChild(child.cloneNode(false));\n            removeNodeList.push(child);\n          } // startContainer\n\n\n          if (child === startContainer) {\n            const prevNode = document.createTextNode(startContainer.substringData(0, startOffset));\n            const startNode = document.createTextNode(startContainer.substringData(startOffset, startContainer.length - startOffset));\n\n            if (prevNode.length > 0) {\n              startContainer.data = prevNode.data;\n            } else {\n              removeNodeList.push(startContainer);\n            }\n\n            newNode = child;\n            pCurrent = [];\n\n            while (newNode !== el && newNode !== null) {\n              if (validation(newNode) && newNode.nodeType === 1) {\n                pCurrent.push(newNode.cloneNode(false));\n              }\n\n              newNode = newNode.parentNode;\n            }\n\n            appendNode = newNode = pCurrent.pop() || child;\n\n            while (pCurrent.length > 0) {\n              newNode = pCurrent.pop();\n              appendNode.appendChild(newNode);\n            }\n\n            if (appendNode !== child) {\n              newInnerNode.appendChild(appendNode);\n              node = newNode;\n            } else {\n              node = newInnerNode;\n            }\n\n            startContainer = startNode;\n            startOffset = 0;\n            node.appendChild(startContainer);\n            startPass = true;\n            continue;\n          } // endContainer\n\n\n          if (child === endContainer) {\n            const afterNode = document.createTextNode(endContainer.substringData(endOffset, endContainer.length - endOffset));\n            const endNode = document.createTextNode(endContainer.substringData(0, endOffset));\n            let before = null;\n            before = newNode = child;\n            pCurrent = [];\n\n            while (newNode !== el && newNode !== null) {\n              if (validation(newNode) && newNode.nodeType === 1) {\n                pCurrent.push(newNode.cloneNode(false));\n              }\n\n              before = newNode;\n              newNode = newNode.parentNode;\n            }\n\n            appendNode = newNode = pCurrent.pop() || child;\n\n            while (pCurrent.length > 0) {\n              newNode = pCurrent.pop();\n              appendNode.appendChild(newNode);\n            }\n\n            if (appendNode !== child) {\n              newInnerNode.appendChild(appendNode);\n              node = newNode;\n            } else {\n              node = newInnerNode;\n            }\n\n            if (afterNode.length > 0) {\n              endContainer.data = afterNode.data;\n            } else {\n              removeNodeList.push(endContainer);\n            }\n\n            endContainer = endNode;\n            endOffset = endNode.length;\n            node.appendChild(endContainer);\n            el.insertBefore(newInnerNode, before);\n            let pRemove;\n\n            while (removeNodeList.length > 0) {\n              pRemove = removeNodeList.pop();\n              pRemove.data = '';\n\n              while (pRemove.parentNode && pRemove.parentNode.innerText.length === 0) {\n                pRemove = pRemove.parentNode;\n              }\n\n              this.util.removeItem(pRemove);\n            }\n\n            endPass = true;\n            break;\n          }\n\n          recursionFunc(child);\n        }\n      })(element);\n\n      return {\n        startContainer: startContainer,\n        startOffset: startOffset,\n        endContainer: endContainer,\n        endOffset: endOffset\n      };\n    },\n\n    /**\r\n     * @description wraps mid lines selected text.\r\n     * @param {element} element - The node of the line that contains the selected text node.\r\n     * @param {element} newInnerNode - The dom that will wrap the selected text area\r\n     * @param {function} validation - Check if the node should be stripped.\r\n     * @private\r\n     */\n    _wrapLineNodes: function (element, newInnerNode, validation) {\n      (function recursionFunc(current, node) {\n        const childNodes = current.childNodes;\n\n        for (let i = 0, len = childNodes.length; i < len; i++) {\n          let child = childNodes[i];\n          let coverNode = node;\n\n          if (validation(child)) {\n            let cloneNode = child.cloneNode(false);\n            node.appendChild(cloneNode);\n            if (child.nodeType === 1) coverNode = cloneNode;\n          }\n\n          recursionFunc(child, coverNode);\n        }\n      })(element, newInnerNode);\n\n      element.innerHTML = '';\n      element.appendChild(newInnerNode);\n    },\n\n    /**\r\n     * @description wraps first line selected text.\r\n     * @param {element} element - The node of the line that contains the selected text node.\r\n     * @param {element} newInnerNode - The dom that will wrap the selected text area\r\n     * @param {function} validation - Check if the node should be stripped.\r\n     * @param {element} startCon - The startContainer property of the selection object.\r\n     * @param {number} startOff - The startOffset property of the selection object.\r\n     * @returns {{container: *, offset: *}}\r\n     * @private\r\n     */\n    _wrapLineNodesStart: function (element, newInnerNode, validation, startCon, startOff) {\n      const el = element;\n      const pNode = document.createElement('P');\n      let container = startCon;\n      let offset = startOff;\n      let passNode = false;\n      let pCurrent, newNode, appendNode;\n\n      (function recursionFunc(current, node) {\n        const childNodes = current.childNodes;\n\n        for (let i = 0, len = childNodes.length; i < len; i++) {\n          const child = childNodes[i];\n          let coverNode = node;\n\n          if (passNode) {\n            if (child.nodeType === 1) {\n              recursionFunc(child, child);\n              continue;\n            }\n\n            newNode = child;\n            pCurrent = [];\n\n            while (newNode.parentNode !== null && newNode !== el && newNode !== newInnerNode) {\n              if (validation(newNode) && newNode.nodeType === 1) {\n                pCurrent.push(newNode.cloneNode(false));\n              }\n\n              newNode = newNode.parentNode;\n            }\n\n            if (pCurrent.length > 0) {\n              appendNode = newNode = pCurrent.pop();\n\n              while (pCurrent.length > 0) {\n                newNode = pCurrent.pop();\n                appendNode.appendChild(newNode);\n              }\n\n              newInnerNode.appendChild(appendNode);\n              node = newNode;\n            } else {\n              node = newInnerNode;\n            }\n          } // startContainer\n\n\n          if (!passNode && child === container) {\n            const prevNode = document.createTextNode(container.substringData(0, offset));\n            const textNode = document.createTextNode(container.substringData(offset, container.length - offset));\n\n            if (prevNode.data.length > 0) {\n              node.appendChild(prevNode);\n            }\n\n            newNode = node;\n            pCurrent = [];\n\n            while (newNode !== pNode && newNode !== null) {\n              if (validation(newNode) && newNode.nodeType === 1) {\n                pCurrent.push(newNode.cloneNode(false));\n              }\n\n              newNode = newNode.parentNode;\n            }\n\n            appendNode = newNode = pCurrent.pop() || node;\n\n            while (pCurrent.length > 0) {\n              newNode = pCurrent.pop();\n              appendNode.appendChild(newNode);\n            }\n\n            if (appendNode !== node) {\n              newInnerNode.appendChild(appendNode);\n              node = newNode;\n            } else {\n              node = newInnerNode;\n            }\n\n            pNode.appendChild(newInnerNode);\n            container = textNode;\n            offset = 0;\n            passNode = true;\n            node.appendChild(container);\n            continue;\n          }\n\n          if (!passNode || validation(child)) {\n            const cloneNode = child.cloneNode(false);\n            node.appendChild(cloneNode);\n            if (child.nodeType === 1) coverNode = cloneNode;\n          }\n\n          recursionFunc(child, coverNode);\n        }\n      })(element, pNode);\n\n      element.parentNode.insertBefore(pNode, element);\n      this.util.removeItem(element);\n      return {\n        container: container,\n        offset: offset\n      };\n    },\n\n    /**\r\n     * @description wraps last line selected text.\r\n     * @param {element} element - The node of the line that contains the selected text node.\r\n     * @param {element} newInnerNode - The dom that will wrap the selected text area\r\n     * @param {function} validation - Check if the node should be stripped.\r\n     * @param {element} endCon - The endContainer property of the selection object.\r\n     * @param {number} endOff - The endOffset property of the selection object.\r\n     * @returns {{container: *, offset: *}}\r\n     * @private\r\n     */\n    _wrapLineNodesEnd: function (element, newInnerNode, validation, endCon, endOff) {\n      const el = element;\n      const pNode = document.createElement('P');\n      let container = endCon;\n      let offset = endOff;\n      let passNode = false;\n      let pCurrent, newNode, appendNode;\n\n      (function recursionFunc(current, node) {\n        const childNodes = current.childNodes;\n\n        for (let i = childNodes.length - 1; 0 <= i; i--) {\n          const child = childNodes[i];\n          let coverNode = node;\n\n          if (passNode) {\n            if (child.nodeType === 1) {\n              recursionFunc(child, child);\n              continue;\n            }\n\n            newNode = child;\n            pCurrent = [];\n\n            while (newNode.parentNode !== null && newNode !== el && newNode !== newInnerNode) {\n              if (validation(newNode) && newNode.nodeType === 1) {\n                pCurrent.push(newNode.cloneNode(false));\n              }\n\n              newNode = newNode.parentNode;\n            }\n\n            if (pCurrent.length > 0) {\n              appendNode = newNode = pCurrent.pop();\n\n              while (pCurrent.length > 0) {\n                newNode = pCurrent.pop();\n                appendNode.insertBefore(newNode, appendNode.firstChild);\n              }\n\n              newInnerNode.insertBefore(appendNode, newInnerNode.firstChild);\n              node = newNode;\n            } else {\n              node = newInnerNode;\n            }\n          } // endContainer\n\n\n          if (!passNode && child === container) {\n            const afterNode = document.createTextNode(container.substringData(offset, container.length - offset));\n            const textNode = document.createTextNode(container.substringData(0, offset));\n\n            if (afterNode.data.length > 0) {\n              node.insertBefore(afterNode, node.firstChild);\n            }\n\n            newNode = node;\n            pCurrent = [];\n\n            while (newNode !== pNode && newNode !== null) {\n              if (validation(newNode) && newNode.nodeType === 1) {\n                pCurrent.push(newNode.cloneNode(false));\n              }\n\n              newNode = newNode.parentNode;\n            }\n\n            appendNode = newNode = pCurrent.pop() || node;\n\n            while (pCurrent.length > 0) {\n              newNode = pCurrent.pop();\n              appendNode.insertBefore(newNode, appendNode.firstChild);\n            }\n\n            if (appendNode !== node) {\n              newInnerNode.insertBefore(appendNode, newInnerNode.firstChild);\n              node = newNode;\n            } else {\n              node = newInnerNode;\n            }\n\n            pNode.insertBefore(newInnerNode, pNode.firstChild);\n            container = textNode;\n            offset = textNode.data.length;\n            passNode = true;\n            node.insertBefore(container, node.firstChild);\n            continue;\n          }\n\n          if (!passNode || validation(child)) {\n            const cloneNode = child.cloneNode(false);\n            node.insertBefore(cloneNode, node.firstChild);\n            if (child.nodeType === 1) coverNode = cloneNode;\n          }\n\n          recursionFunc(child, coverNode);\n        }\n      })(element, pNode);\n\n      element.parentNode.insertBefore(pNode, element);\n      this.util.removeItem(element);\n      return {\n        container: container,\n        offset: offset\n      };\n    },\n\n    /**\r\n     * @description This function implements indentation.\r\n     * Set \"margin-left\" to \"25px\" in the top \"P\" tag of the parameter node.\r\n     * @param node {Node} - The node to indent (editor._variable.selectionNode)\r\n     * @param command {String} - Separator (\"indent\" or \"outdent\")\r\n     */\n    indent: function (node, command) {\n      const p = this.util.getParentElement(node, 'P');\n      if (!p) return;\n      let margin = /\\d+/.test(p.style.marginLeft) ? p.style.marginLeft.match(/\\d+/)[0] * 1 : 0;\n\n      if ('indent' === command) {\n        margin += 25;\n      } else {\n        margin -= 25;\n      }\n\n      p.style.marginLeft = (margin < 0 ? 0 : margin) + 'px';\n    },\n\n    /**\r\n     * @description Add or remove the class name of \"body\" so that the code block is visible\r\n     */\n    toggleDisplayBlocks: function () {\n      this.util.toggleClass(context.element.wysiwyg, 'sun-editor-show-block');\n    },\n\n    /**\r\n     * @description Changes to code view or wysiwyg view\r\n     */\n    toggleCodeView: function () {\n      if (!this._variable.wysiwygActive) {\n        const ec = {\n          '&amp;': '&',\n          '&nbsp;': '\\u00A0',\n          \"&quot;\": \"'\",\n          '&lt;': '<',\n          '&gt;': '>'\n        };\n        const code_html = context.element.code.value.replace(/&[a-z]+;/g, function (m) {\n          return typeof ec[m] === 'string' ? ec[m] : m;\n        });\n        context.element.wysiwyg.innerHTML = code_html.trim().length > 0 ? code_html : '<p>&#65279</p>';\n        context.element.wysiwyg.scrollTop = 0;\n        context.element.code.style.display = 'none';\n        context.element.wysiwyg.style.display = 'block';\n        this._variable.wysiwygActive = true;\n      } else {\n        context.element.code.value = context.element.wysiwyg.innerHTML.trim().replace(/<\\/p>(?=[^\\n])/gi, '<\\/p>\\n');\n        context.element.wysiwyg.style.display = 'none';\n        context.element.code.style.display = 'block';\n        this._variable.wysiwygActive = false;\n      }\n    },\n\n    /**\r\n     * @description Changes to full screen or default screen\r\n     * @param {element} element - full screen button\r\n     */\n    toggleFullScreen: function (element) {\n      if (!this._variable.isFullScreen) {\n        context.element.topArea.style.position = 'fixed';\n        context.element.topArea.style.top = '0';\n        context.element.topArea.style.left = '0';\n        context.element.topArea.style.width = '100%';\n        context.element.topArea.style.height = '100%';\n        this._variable.innerHeight_fullScreen = window.innerHeight - context.tool.bar.offsetHeight;\n        context.element.editorArea.style.height = this._variable.innerHeight_fullScreen + 'px';\n        this.util.removeClass(element.firstElementChild, 'icon-expansion');\n        this.util.addClass(element.firstElementChild, 'icon-reduction');\n      } else {\n        context.element.topArea.style.cssText = this._variable.originCssText;\n        context.element.editorArea.style.height = this._variable.editorHeight + 'px';\n        this.util.removeClass(element.firstElementChild, 'icon-reduction');\n        this.util.addClass(element.firstElementChild, 'icon-expansion');\n      }\n\n      this._variable.isFullScreen = !this._variable.isFullScreen;\n    },\n\n    /**\r\n     * @description Opens the preview window\r\n     */\n    openPreview: function () {\n      const WindowObject = window.open('', '_blank');\n      WindowObject.mimeType = 'text/html';\n      WindowObject.document.head.innerHTML = '' + '<meta charset=\"utf-8\" />' + '<meta name=\"viewport\" content=\"width=device-width, initial-scale=1\">' + '<title>' + lang.toolbar.preview + '</title>' + '<link rel=\"stylesheet\" type=\"text/css\" href=\"' + this.util.getBasePath + 'css/suneditor.css\">';\n      WindowObject.document.body.className = 'sun-editor-editable';\n      WindowObject.document.body.innerHTML = context.element.wysiwyg.innerHTML;\n    },\n\n    /**\r\n     * @description Print the editor contents\r\n     */\n    print: function () {\n      const WindowObject = window.open('', '_blank');\n      WindowObject.mimeType = 'text/html';\n      WindowObject.document.head.innerHTML = '' + '<meta charset=\"utf-8\" />' + '<meta name=\"viewport\" content=\"width=device-width, initial-scale=1\">' + '<title>' + lang.toolbar.print + '</title>' + '<link rel=\"stylesheet\" type=\"text/css\" href=\"' + this.util.getBasePath + 'css/suneditor.css\">' + '<script>window.onload = function () { window.print() }</script>';\n      WindowObject.document.body.className = 'sun-editor-editable';\n      WindowObject.document.body.innerHTML = context.element.wysiwyg.innerHTML;\n\n      WindowObject.onload = function () {\n        alert(1);\n      };\n    }\n  };\n  /**\r\n   * @description event function\r\n   */\n\n  const event = {\n    _shortcutKeyCode: {\n      66: ['bold', 'B'],\n      83: ['strikethrough', 'STRIKE'],\n      85: ['underline', 'U'],\n      73: ['italic', 'I'],\n      89: ['redo'],\n      90: ['undo'],\n      219: ['outdent'],\n      221: ['indent']\n    },\n    _directionKeyKeyCode: new RegExp('^(?:8|13|32|46|33|34|35|36|37|38|39|40|98|100|102|104)$'),\n    _changeButtonClassTagCheck: new RegExp('^(?:B|U|I|STRIKE|SUB|SUP)$'),\n    _findButtonEffectTag: function () {\n      const commandMap = editor.commandMap;\n      const classOnCheck = this._changeButtonClassTagCheck;\n      const commandMapNodes = [];\n      const currentNodes = [];\n      let findFormat = true,\n          findFont = true,\n          findSize = true,\n          findA = true;\n      let findB = true,\n          findI = true,\n          findU = true,\n          findS = true;\n      let cssText = '',\n          nodeName = '';\n\n      for (let selectionParent = editor._variable.selectionNode; !util.isWysiwygDiv(selectionParent); selectionParent = selectionParent.parentNode) {\n        if (selectionParent.nodeType !== 1) continue;\n        nodeName = selectionParent.nodeName.toUpperCase();\n        currentNodes.push(nodeName);\n        /** Format */\n\n        if (findFormat && util.isFormatElement(selectionParent)) {\n          commandMapNodes.push('FORMAT');\n          editor.util.changeTxt(commandMap['FORMAT'], nodeName);\n          findFormat = false;\n          continue;\n        }\n        /** Font */\n\n\n        if (findFont && (selectionParent.style.fontFamily.length > 0 || selectionParent.face && selectionParent.face.length > 0)) {\n          commandMapNodes.push('FONT');\n          const selectFont = (selectionParent.style.fontFamily || selectionParent.face || lang.toolbar.font).replace(/[\"']/g, '');\n          editor.util.changeTxt(commandMap['FONT'], selectFont);\n          findFont = false;\n        }\n        /** A */\n\n\n        if (findA && /^A$/.test(nodeName) && selectionParent.getAttribute('data-image-link') === null) {\n          if (!context.link || editor.controllerArray[0] !== context.link.linkBtn) {\n            editor.callModule('link', function () {\n              editor.plugins.link.call_controller_linkButton.call(editor, selectionParent);\n            });\n          }\n\n          findA = false;\n        } else if (findA && context.link && editor.controllerArray[0] === context.link.linkBtn) {\n          editor.controllersOff();\n        }\n        /** SPAN */\n\n\n        if (findSize && /^SPAN$/.test(nodeName)) {\n          /** font size */\n          if (selectionParent.style.fontSize.length > 0) {\n            commandMapNodes.push('SIZE');\n            editor.util.changeTxt(commandMap['SIZE'], selectionParent.style.fontSize.match(/\\d+/)[0]);\n            findSize = false;\n          }\n        }\n        /** command map */\n\n\n        cssText = selectionParent.style.cssText;\n\n        if (findB && /font\\-weight\\s*:\\s*(?:\\d+|bold|bolder)(?:;|\\s|)/.test(cssText)) {\n          commandMapNodes.push('B');\n          findB = false;\n        }\n\n        if (findI && /font\\-style\\s*:\\s*(?:italic|oblique)(?:;|\\s)/.test(cssText)) {\n          commandMapNodes.push('I');\n          findI = false;\n        }\n\n        if (findU && /text\\-decoration(?:\\-line)?\\s*:\\s*underline(?:;|\\s|)/.test(cssText)) {\n          commandMapNodes.push('U');\n          findU = false;\n        }\n\n        if (findS && /text\\-decoration(?:\\-line)?\\s*:\\s*line-through(?:;|\\s|)/.test(cssText)) {\n          commandMapNodes.push('STRIKE');\n          findS = false;\n        }\n\n        commandMapNodes.push(/^STRONG$/.test(nodeName) ? 'B' : /^EM$/.test(nodeName) ? 'I' : nodeName);\n      }\n      /** A Tag edit controller off */\n\n\n      if (findA) editor.controllersOff();\n      /** toggle class on */\n\n      for (let i = 0; i < commandMapNodes.length; i++) {\n        nodeName = commandMapNodes[i];\n\n        if (classOnCheck.test(nodeName)) {\n          editor.util.addClass(commandMap[nodeName], 'on');\n        }\n      }\n      /** remove class, display text */\n\n\n      for (let key in commandMap) {\n        if (commandMapNodes.indexOf(key) > -1) continue;\n\n        if (/^FONT/i.test(key)) {\n          editor.util.changeTxt(commandMap[key], lang.toolbar.font);\n        } else if (/^SIZE$/i.test(key)) {\n          editor.util.changeTxt(commandMap[key], lang.toolbar.fontSize);\n        } else {\n          editor.util.removeClass(commandMap[key], 'on');\n        }\n      }\n      /** save current nodes */\n\n\n      editor._variable.currentNodes = currentNodes.reverse();\n      /**  Displays the current node structure to resizebar */\n\n      if (context.user.showPathLabel) context.element.navigation.textContent = editor._variable.currentNodes.join(' > ');\n    },\n    resize_window: function () {\n      if (editor._variable.isFullScreen) {\n        editor._variable.innerHeight_fullScreen += window.innerHeight - context.tool.bar.offsetHeight - editor._variable.innerHeight_fullScreen;\n        context.element.editorArea.style.height = editor._variable.innerHeight_fullScreen + 'px';\n      }\n    },\n    touchstart_toolbar: function (e) {\n      e.preventDefault();\n      editor._variable.isTouchMove = false;\n    },\n    touchmove_toolbar: function () {\n      editor._variable.isTouchMove = true;\n    },\n    onMouseDown_toolbar: function (e) {\n      e.preventDefault();\n    },\n    onClick_toolbar: function (e) {\n      if (editor._variable.isTouchMove) return true;\n      let target = e.target;\n      let display = target.getAttribute('data-display');\n      let command = target.getAttribute('data-command');\n      let className = target.className;\n\n      while (!command && !/editor_tool/.test(className) && !/sun-editor-id-toolbar/.test(className)) {\n        target = target.parentNode;\n        command = target.getAttribute('data-command');\n        display = target.getAttribute('data-display');\n        className = target.className;\n      }\n\n      if (!command && !display) return true;\n      e.preventDefault();\n      e.stopPropagation();\n      editor.submenuOff();\n      editor.focus();\n      /** Dialog, Submenu */\n\n      if (display) {\n        if (/submenu/.test(display) && (target.nextElementSibling === null || target.nextElementSibling !== editor.submenu)) {\n          editor.callModule(command, function () {\n            editor.submenuOn(target);\n          });\n        } else if (/dialog/.test(display)) {\n          editor.callModule(command, function () {\n            editor.plugins.dialog.openDialog.call(editor, command, target.getAttribute('data-option'), false);\n          });\n        }\n\n        return;\n      }\n      /** default command */\n\n\n      if (command) {\n        switch (command) {\n          case 'codeView':\n            editor.toggleCodeView();\n            editor.util.toggleClass(target, 'on');\n            break;\n\n          case 'fullScreen':\n            editor.toggleFullScreen(target);\n            editor.util.toggleClass(target, 'on');\n            break;\n\n          case 'indent':\n          case 'outdent':\n            editor.indent(editor._variable.selectionNode, command);\n            break;\n\n          case 'redo':\n          case 'undo':\n          case 'removeFormat':\n            editor.execCommand(command, false, null);\n            break;\n\n          case 'preview':\n            editor.openPreview();\n            break;\n\n          case 'print':\n            editor.print();\n            break;\n\n          case 'showBlocks':\n            editor.toggleDisplayBlocks();\n            editor.util.toggleClass(target, 'on');\n            break;\n\n          case 'subscript':\n            if (editor.util.hasClass(context.tool.superscript, 'on')) {\n              editor.execCommand('superscript', false, null);\n              editor.util.removeClass(context.tool.superscript, 'on');\n            }\n\n            editor.execCommand(command, false, null);\n            editor.util.toggleClass(target, 'on');\n            break;\n\n          case 'superscript':\n            if (editor.util.hasClass(context.tool.subscript, 'on')) {\n              editor.execCommand('subscript', false, null);\n              editor.util.removeClass(context.tool.subscript, 'on');\n            }\n\n            editor.execCommand(command, false, null);\n            editor.util.toggleClass(target, 'on');\n            break;\n\n          default:\n            editor.execCommand(command, false, target.getAttribute('data-value'));\n            editor.util.toggleClass(target, 'on');\n        }\n      }\n    },\n    onMouseUp_wysiwyg: function (e) {\n      e.stopPropagation();\n      const targetElement = e.target;\n      editor.submenuOff();\n\n      if (/^HTML$/i.test(targetElement.nodeName)) {\n        e.preventDefault();\n        editor.focus();\n        return;\n      }\n\n      if (/^IMG$/i.test(targetElement.nodeName)) {\n        e.preventDefault();\n        editor.callModule('image', function () {\n          const size = editor.plugins.dialog.call_controller_resize.call(editor, targetElement, 'image');\n          editor.plugins.image.onModifyMode.call(editor, targetElement, size);\n        });\n        return;\n      }\n\n      editor._setEditorRange();\n\n      event._findButtonEffectTag();\n    },\n    onKeyDown_wysiwyg: function (e) {\n      // editor._setSelectionNode();\n      const keyCode = e.keyCode;\n      const shift = e.shiftKey;\n      const ctrl = e.ctrlKey || e.metaKey;\n      const alt = e.altKey;\n      e.stopPropagation();\n\n      function shortcutCommand(keyCode) {\n        const key = event._shortcutKeyCode[keyCode];\n        if (!key) return false;\n        editor.execCommand(key[0], false, null);\n        editor.util.toggleClass(editor.commandMap[key[1]], 'on');\n        return true;\n      }\n      /** Shortcuts */\n\n\n      if (ctrl && !/^(?:16|17|18)$/.test(keyCode)) {\n        if (!(shift && keyCode !== 83) && shortcutCommand(keyCode)) {\n          e.preventDefault();\n          return;\n        }\n      }\n      /** default key action */\n\n\n      switch (keyCode) {\n        case 8:\n          /**backspace key*/\n          if (util.isFormatElement(editor._variable.selectionNode) && editor._variable.selectionNode.previousSibling === null) {\n            e.preventDefault();\n            e.stopPropagation();\n            editor._variable.selectionNode.innerHTML = '&#65279';\n            return false;\n          }\n\n          break;\n\n        case 9:\n          /**tab key*/\n          e.preventDefault();\n          if (ctrl || alt) break;\n          let currentNode = editor._variable.selectionNode || editor.getSelectionNode();\n\n          while (!/^TD$/i.test(currentNode.tagName) && !util.isWysiwygDiv(currentNode)) {\n            currentNode = currentNode.parentNode;\n          }\n\n          if (currentNode && /^TD$/i.test(currentNode.tagName)) {\n            const table = editor.util.getParentElement(currentNode, 'table');\n            const cells = editor.util.getListChildren(table, editor.util.isCell);\n            let idx = shift ? editor.util.prevIdx(cells, currentNode) : editor.util.nextIdx(cells, currentNode);\n            if (idx === cells.length && !shift) idx = 0;\n            if (idx === -1 && shift) idx = cells.length - 1;\n            const moveCell = cells[idx];\n            if (!moveCell) return false;\n            eidtor.setRange(moveCell, 0, moveCell, 0);\n            break;\n          }\n          /** if P Tag */\n\n\n          if (shift) break;\n          const tabText = document.createTextNode(new Array(editor._variable.tabSize + 1).join('\\u00A0'));\n          editor.insertNode(tabText);\n          editor.setRange(tabText, editor._variable.tabSize, tabText, editor._variable.tabSize);\n          break;\n      }\n    },\n    onKeyUp_wysiwyg: function (e) {\n      editor._setEditorRange();\n      /** when format tag deleted */\n\n\n      if (e.keyCode === 8 && util.isWysiwygDiv(editor._variable.selectionNode)) {\n        e.preventDefault();\n        e.stopPropagation();\n        const oFormatTag = document.createElement(editor._variable.currentNodes[0]);\n        oFormatTag.innerHTML = '&#65279';\n\n        editor._variable.selectionNode.appendChild(oFormatTag);\n\n        editor._variable.selectionNode = oFormatTag;\n      }\n\n      if (event._directionKeyKeyCode.test(e.keyCode)) {\n        event._findButtonEffectTag();\n      }\n    },\n    onScroll_wysiwyg: function () {\n      editor.controllersOff();\n    },\n    onDrop_wysiwyg: function (e) {\n      const files = e.dataTransfer.files;\n      if (files.length === 0) return true;\n      e.stopPropagation();\n      e.preventDefault();\n      editor.focus();\n      editor.callModule('image', function () {\n        context.image.imgInputFile.files = files;\n        editor.plugins.image.onRender_imgInput.call(editor);\n        context.image.imgInputFile.files = null;\n      });\n    },\n    onMouseDown_resizeBar: function (e) {\n      e.stopPropagation();\n      editor._variable.resizeClientY = e.clientY;\n      context.element.resizeBackground.style.display = 'block';\n\n      function closureFunc() {\n        context.element.resizeBackground.style.display = 'none';\n        document.removeEventListener('mousemove', event.resize_editor);\n        document.removeEventListener('mouseup', closureFunc);\n      }\n\n      document.addEventListener('mousemove', event.resize_editor);\n      document.addEventListener('mouseup', closureFunc);\n    },\n    resize_editor: function (e) {\n      const resizeInterval = e.clientY - editor._variable.resizeClientY;\n      context.element.editorArea.style.height = context.element.editorArea.offsetHeight + resizeInterval + 'px';\n      editor._variable.editorHeight = context.element.editorArea.offsetHeight + resizeInterval;\n      editor._variable.resizeClientY = e.clientY;\n    }\n  };\n  /** add event listeners */\n\n  /** tool bar event */\n\n  context.tool.bar.addEventListener('touchstart', event.touchstart_toolbar, false);\n  context.tool.bar.addEventListener('touchmove', event.touchmove_toolbar, false);\n  context.tool.bar.addEventListener('touchend', event.onClick_toolbar, false);\n  context.tool.bar.addEventListener('mousedown', event.onMouseDown_toolbar, false);\n  context.tool.bar.addEventListener('click', event.onClick_toolbar, false);\n  /** editor area */\n\n  context.element.wysiwyg.addEventListener('scroll', event.onScroll_wysiwyg, false);\n  context.element.wysiwyg.addEventListener('mouseup', event.onMouseUp_wysiwyg, false);\n  context.element.wysiwyg.addEventListener('keydown', event.onKeyDown_wysiwyg, false);\n  context.element.wysiwyg.addEventListener('keyup', event.onKeyUp_wysiwyg, false);\n  context.element.wysiwyg.addEventListener('drop', event.onDrop_wysiwyg, false);\n  /** resize bar */\n\n  context.element.resizebar.addEventListener('mousedown', event.onMouseDown_resizeBar, false);\n  /** window resize event */\n\n  window.addEventListener('resize', event.resize_window, false);\n  /** add plugin and module to plugins object */\n\n  /** modules */\n\n  for (let i = 0, len = modules.length, plugin; i < len; i++) {\n    plugin = modules[i];\n    plugin.add(editor);\n    editor.plugins[plugin.name] = plugin;\n  }\n  /** User function */\n\n\n  return {\n    /**\r\n     * @description Copying the contents of the editor to the original textarea\r\n     */\n    save: function () {\n      if (editor._variable.wysiwygActive) {\n        context.element.originElement.innerHTML = context.element.wysiwyg.innerHTML;\n      } else {\n        context.element.originElement.innerHTML = context.element.code.value;\n      }\n    },\n\n    /**\r\n     * @description Gets the suneditor's context object. Contains settings, plugins, and cached element objects\r\n     * @returns {Object}\r\n     */\n    getContext: function () {\n      return context;\n    },\n\n    /**\r\n     * @description Gets the contents of the suneditor\r\n     * @returns {String}\r\n     */\n    getContent: function () {\n      let content = '';\n      if (context.element.wysiwyg.innerText.trim().length === 0) return content;\n\n      if (editor._variable.wysiwygActive) {\n        content = context.element.wysiwyg.innerHTML;\n      } else {\n        content = context.element.code.value;\n      }\n\n      return content;\n    },\n\n    /**\r\n     * @description Change the contents of the suneditor\r\n     * @param {string} content - Content to Input\r\n     */\n    setContent: function (content) {\n      const innerHTML = _convertContentForEditor(content);\n\n      if (editor._variable.wysiwygActive) {\n        context.element.wysiwyg.innerHTML = innerHTML;\n      } else {\n        context.element.code.value = innerHTML;\n      }\n    },\n\n    /**\r\n     * @description Add content to the suneditor\r\n     * @param {string} content - to Input\r\n     */\n    appendContent: function (content) {\n      if (editor._variable.wysiwygActive) {\n        const oP = document.createElement('P');\n        oP.innerHTML = content;\n        context.element.wysiwyg.appendChild(oP);\n      } else {\n        context.element.code.value += oP.outerHTML;\n      }\n    },\n\n    /**\r\n     * @description Disable the suneditor\r\n     */\n    disabled: function () {\n      context.tool.cover.style.display = 'block';\n      context.element.wysiwyg.setAttribute('contenteditable', false);\n    },\n\n    /**\r\n     * @description Enabled the suneditor\r\n     */\n    enabled: function () {\n      context.tool.cover.style.display = 'none';\n      context.element.wysiwyg.setAttribute('contenteditable', true);\n    },\n\n    /**\r\n     * @description Show the suneditor\r\n     */\n    show: function () {\n      const topAreaStyle = context.element.topArea.style;\n      topAreaStyle.cssText = editor._variable.originCssText;\n      if (topAreaStyle.display === 'none') topAreaStyle.display = 'block';\n    },\n\n    /**\r\n     * @description Hide the suneditor\r\n     */\n    hide: function () {\n      context.element.topArea.style.display = 'none';\n    },\n\n    /**\r\n     * @description Destroy the suneditor\r\n     */\n    destroy: function () {\n      /** remove event listeners */\n      context.tool.bar.removeEventListener('touchstart', event.touchstart_toolbar);\n      context.tool.bar.removeEventListener('touchmove', event.touchmove_toolbar);\n      context.tool.bar.removeEventListener('touchend', event.onClick_toolbar);\n      context.tool.bar.removeEventListener('mousedown', event.onMouseDown_toolbar);\n      context.tool.bar.removeEventListener('click', event.onClick_toolbar);\n      context.element.wysiwyg.removeEventListener('mouseup', event.onMouseUp_wysiwyg);\n      context.element.wysiwyg.removeEventListener('keydown', event.onKeyDown_wysiwyg);\n      context.element.wysiwyg.removeEventListener('keyup', event.onKeyUp_wysiwyg);\n      context.element.wysiwyg.removeEventListener('scroll', event.onScroll_wysiwyg);\n      context.element.wysiwyg.removeEventListener('drop', event.onDrop_wysiwyg);\n      context.element.resizebar.removeEventListener('mousedown', event.onMouseDown_resizeBar);\n      window.removeEventListener('resize', event.resize_window);\n      /** remove element */\n\n      context.element.topArea.parentNode.removeChild(context.element.topArea);\n      context = null;\n      dom = null;\n      util = null;\n      this.save = null;\n      this.getContext = null;\n      this.getContent = null;\n      this.setContent = null;\n      this.appendContent = null;\n      this.disabled = null;\n      this.enabled = null;\n      this.show = null;\n      this.hide = null;\n      this.destroy = null;\n    }\n  };\n};\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (core);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvbGliL2NvcmUuanMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvbGliL2NvcmUuanM/OGE4ZCJdLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIHN0cmljdCc7XHJcblxyXG4vKipcclxuICogQGRlc2NyaXB0aW9uIFN1bkVkaXRvciBjb3JlIGNsb3N1cmVcclxuICogQHBhcmFtIGNvbnRleHRcclxuICogQHBhcmFtIHV0aWxcclxuICogQHBhcmFtIG1vZHVsZXNcclxuICogQHBhcmFtIHBsdWdpbnNcclxuICogQHBhcmFtIGxhbmdcclxuICogQHJldHVybnMge3tzYXZlOiBzYXZlLCBnZXRDb250ZW50OiBnZXRDb250ZW50LCBzZXRDb250ZW50OiBzZXRDb250ZW50LCBhcHBlbmRDb250ZW50OiBhcHBlbmRDb250ZW50LCBkaXNhYmxlZDogZGlzYWJsZWQsIGVuYWJsZWQ6IGVuYWJsZWQsIHNob3c6IHNob3csIGhpZGU6IGhpZGUsIGRlc3Ryb3k6IGRlc3Ryb3l9fVxyXG4gKi9cclxuY29uc3QgY29yZSA9IGZ1bmN0aW9uIChjb250ZXh0LCB1dGlsLCBtb2R1bGVzLCBwbHVnaW5zLCBsYW5nKSB7XHJcbiAgICAvKipcclxuICAgICAqIEBkZXNjcmlwdGlvbiBQcmFjdGljYWwgZWRpdG9yIGZ1bmN0aW9uXHJcbiAgICAgKiBUaGlzIGZ1bmN0aW9uIGlzICd0aGlzJyB1c2VkIGJ5IG90aGVyIHBsdWdpbnNcclxuICAgICAqL1xyXG4gICAgY29uc3QgZWRpdG9yID0ge1xyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIEBkZXNjcmlwdGlvbiBFbGVtZW50cyBhbmQgdXNlciBvcHRpb25zIHBhcmFtZXRlcnMgb2YgdGhlIHN1bmVkaXRvclxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIGNvbnRleHQ6IGNvbnRleHQsXHJcblxyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIEBkZXNjcmlwdGlvbiBsb2FkZWQgbW9kdWxlc1xyXG4gICAgICAgICAqL1xyXG4gICAgICAgIG1vZHVsZXM6IHt9LFxyXG5cclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBAZGVzY3JpcHRpb24gbG9hZGVkIHBsdWdpbnNcclxuICAgICAgICAgKi9cclxuICAgICAgICBwbHVnaW5zOiB7fSxcclxuXHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogQGRlc2NyaXB0aW9uIGxhbmd1YWdlXHJcbiAgICAgICAgICovXHJcbiAgICAgICAgbGFuZzogbGFuZyxcclxuXHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogQGRlc2NyaXB0aW9uIHV0aWwgZnVuY3Rpb25cclxuICAgICAgICAgKi9cclxuICAgICAgICB1dGlsOiB1dGlsLFxyXG5cclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBAZGVzY3JpcHRpb24gZGlhbG9nIGVsZW1lbnRcclxuICAgICAgICAgKi9cclxuICAgICAgICBkaWFsb2dGb3JtOiBudWxsLFxyXG5cclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBAZGVzY3JpcHRpb24gc3VibWVudSBlbGVtZW50XHJcbiAgICAgICAgICovXHJcbiAgICAgICAgc3VibWVudTogbnVsbCxcclxuXHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogQGRlc2NyaXB0aW9uIGFjdGl2ZSBidXR0b24gZWxlbWVudCBpbiBzdWJtZW51XHJcbiAgICAgICAgICovXHJcbiAgICAgICAgc3VibWVudUFjdGl2ZUJ1dHRvbjogbnVsbCxcclxuXHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogQGRlc2NyaXB0aW9uIGNvbnRyb2xsZXJzIGFycmF5IChpbWFnZSByZXNpemUgYXJlYSwgbGluayBtb2RpZmllZCBidXR0b24pXHJcbiAgICAgICAgICovXHJcbiAgICAgICAgY29udHJvbGxlckFycmF5OiBbXSxcclxuXHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogQGRlc2NyaXB0aW9uIEVsZW1lbnRzIHRoYXQgbmVlZCB0byBjaGFuZ2UgdGV4dCBvciBjbGFzc05hbWUgZm9yIGVhY2ggc2VsZWN0aW9uIGNoYW5nZVxyXG4gICAgICAgICAqIEBwcm9wZXJ0eSB7ZWxlbWVudH0gRk9OVCAtIGZvbnQgZmFtaWx5IGJ1dHRvblxyXG4gICAgICAgICAqIEBwcm9wZXJ0eSB7ZWxlbWVudH0gQiAtIGJvbGQgYnV0dG9uXHJcbiAgICAgICAgICogQHByb3BlcnR5IHtlbGVtZW50fSBVIC0gdW5kZXJsaW5lIGJ1dHRvblxyXG4gICAgICAgICAqIEBwcm9wZXJ0eSB7ZWxlbWVudH0gSSAtIGl0YWxpYyBidXR0b25cclxuICAgICAgICAgKiBAcHJvcGVydHkge2VsZW1lbnR9IFNUUklLRSAtIHN0cmlrZSBidXR0b25cclxuICAgICAgICAgKiBAcHJvcGVydHkge2VsZW1lbnR9IFNVQiAtIHN1YnNjcmlwdCBidXR0b25cclxuICAgICAgICAgKiBAcHJvcGVydHkge2VsZW1lbnR9IFNVUCAtIHN1cGVyc2NyaXB0IGJ1dHRvblxyXG4gICAgICAgICAqIEBwcm9wZXJ0eSB7ZWxlbWVudH0gU0laRSAtIGZvbnQgc2l6ZSBidXR0b25cclxuICAgICAgICAgKi9cclxuICAgICAgICBjb21tYW5kTWFwOiB7XHJcbiAgICAgICAgICAgIEZPUk1BVDogY29udGV4dC50b29sLmZvcm1hdCxcclxuICAgICAgICAgICAgRk9OVDogY29udGV4dC50b29sLmZvbnQsXHJcbiAgICAgICAgICAgIFNJWkU6IGNvbnRleHQudG9vbC5mb250U2l6ZSxcclxuICAgICAgICAgICAgQjogY29udGV4dC50b29sLmJvbGQsXHJcbiAgICAgICAgICAgIFU6IGNvbnRleHQudG9vbC51bmRlcmxpbmUsXHJcbiAgICAgICAgICAgIEk6IGNvbnRleHQudG9vbC5pdGFsaWMsXHJcbiAgICAgICAgICAgIFNUUklLRTogY29udGV4dC50b29sLnN0cmlrZSxcclxuICAgICAgICAgICAgU1VCOiBjb250ZXh0LnRvb2wuc3Vic2NyaXB0LFxyXG4gICAgICAgICAgICBTVVA6IGNvbnRleHQudG9vbC5zdXBlcnNjcmlwdFxyXG4gICAgICAgIH0sXHJcblxyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIEBkZXNjcmlwdGlvbiBWYXJpYWJsZXMgdXNlZCBpbnRlcm5hbGx5IGluIGVkaXRvciBvcGVyYXRpb25cclxuICAgICAgICAgKiBAcHJvcGVydHkgeyhlbGVtZW50fG51bGwpfSBzZWxlY3Rpb25Ob2RlIC0gQ29udGFpbnMgc2VsZWN0aW9uIG5vZGVcclxuICAgICAgICAgKiBAcHJvcGVydHkgeyhlbGVtZW50fG51bGwpfSByYW5nZSAtIFRoZSBjdXJyZW50IHJhbmdlIG9iamVjdFxyXG4gICAgICAgICAqIEBwcm9wZXJ0eSB7Ym9vbGVhbn0gd3lzaXd5Z0FjdGl2ZSAtIFRoZSB3eXNpd3lnIGZyYW1lIG9yIGNvZGUgdmlldyBzdGF0ZVxyXG4gICAgICAgICAqIEBwcm9wZXJ0eSB7Ym9vbGVhbn0gaXNGdWxsU2NyZWVuIC0gU3RhdGUgb2YgZnVsbCBzY3JlZW5cclxuICAgICAgICAgKiBAcHJvcGVydHkge251bWJlcn0gaW5uZXJIZWlnaHRfZnVsbFNjcmVlbiAtIElubmVySGVpZ2h0IGluIGVkaXRvciB3aGVuIGluIGZ1bGwgc2NyZWVuXHJcbiAgICAgICAgICogQHByb3BlcnR5IHtudW1iZXJ9IHJlc2l6ZUNsaWVudFkgLSBSZW1lbWJlciB0aGUgdmVydGljYWwgc2l6ZSBvZiB0aGUgZWRpdG9yIGJlZm9yZSByZXNpemluZyB0aGUgZWRpdG9yIChVc2VkIHdoZW4gY2FsY3VsYXRpbmcgZHVyaW5nIHJlc2l6ZSBvcGVyYXRpb24pXHJcbiAgICAgICAgICogQHByb3BlcnR5IHtudW1iZXJ9IHRhYlNpemUgLSBJbmRlbnRlZCBzaXplIHdoZW4gdGFiIGJ1dHRvbiBjbGlja2VkICg0KVxyXG4gICAgICAgICAqIEBwcm9wZXJ0eSB7ZWxlbWVudH0gb3JpZ2luQ3NzVGV4dCAtIFJlbWVtYmVyZWQgdGhlIENTUyBvZiB0aGUgZWRpdG9yIGJlZm9yZSBmdWxsIHNjcmVlbiAoVXNlZCB3aGVuIHJldHVybmluZyB0byBvcmlnaW5hbCBzaXplIGFnYWluKVxyXG4gICAgICAgICAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBlZGl0b3JIZWlnaHQgLSBUaGUgaGVpZ2h0IHZhbHVlIGVudGVyZWQgYnkgdGhlIHVzZXIgb3IgdGhlIGhlaWdodCB2YWx1ZSBvZiB0aGUgXCJ0ZXh0YXJlYVwiIHdoZW4gdGhlIHN1bmVkaXRvciBpcyBjcmVhdGVkXHJcbiAgICAgICAgICogQHByb3BlcnR5IHthcnJheX0gY3VycmVudE5vZGVzIC0gIEFuIGFycmF5IG9mIHRoZSBjdXJyZW50IGN1cnNvcidzIG5vZGUgc3RydWN0dXJlXHJcbiAgICAgICAgICogQHByb3BlcnR5IHtib29sZWFufSBpc1RvdWNoTW92ZSAtIENoZWNrIGlmIG1vYmlsZSBoYXMgbW92ZWQgYWZ0ZXIgdG91Y2hpbmcgKEFsbG93aW5nIHNjcm9sbGluZyBpbiB0aGUgdG9vbGJhciBhcmVhKVxyXG4gICAgICAgICAqIEBwcml2YXRlXHJcbiAgICAgICAgICovXHJcbiAgICAgICAgX3ZhcmlhYmxlOiB7XHJcbiAgICAgICAgICAgIHNlbGVjdGlvbk5vZGU6IG51bGwsXHJcbiAgICAgICAgICAgIHJhbmdlOiBudWxsLFxyXG4gICAgICAgICAgICB3eXNpd3lnQWN0aXZlOiB0cnVlLFxyXG4gICAgICAgICAgICBpc0Z1bGxTY3JlZW46IGZhbHNlLFxyXG4gICAgICAgICAgICBpbm5lckhlaWdodF9mdWxsU2NyZWVuOiAwLFxyXG4gICAgICAgICAgICByZXNpemVDbGllbnRZOiAwLFxyXG4gICAgICAgICAgICB0YWJTaXplOiA0LFxyXG4gICAgICAgICAgICBvcmlnaW5Dc3NUZXh0OiBjb250ZXh0LmVsZW1lbnQudG9wQXJlYS5zdHlsZS5jc3NUZXh0LFxyXG4gICAgICAgICAgICBlZGl0b3JIZWlnaHQ6IGNvbnRleHQudXNlci5oZWlnaHQsXHJcbiAgICAgICAgICAgIGN1cnJlbnROb2RlczogW10sXHJcbiAgICAgICAgICAgIGlzVG91Y2hNb3ZlOiBmYWxzZVxyXG4gICAgICAgIH0sXHJcblxyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIEBkZXNjcmlwdGlvbiBDYWxsIHRoZSBtb2R1bGVcclxuICAgICAgICAgKiBAcGFyYW0ge3N0cmluZ30gcGx1Z2luTmFtZSAtIFRoZSBuYW1lIG9mIHRoZSBqcyBmaWxlIHRvIGNhbGxcclxuICAgICAgICAgKiBAcGFyYW0ge2Z1bmN0aW9ufSBjYWxsQmFja0Z1bmN0aW9uIC0gRnVuY3Rpb24gdG8gYmUgZXhlY3V0ZWQgaW1tZWRpYXRlbHkgYWZ0ZXIgbW9kdWxlIGNhbGxcclxuICAgICAgICAgKi9cclxuICAgICAgICBjYWxsTW9kdWxlOiBmdW5jdGlvbiAocGx1Z2luTmFtZSwgY2FsbEJhY2tGdW5jdGlvbikge1xyXG4gICAgICAgICAgICBpZiAoIXRoaXMucGx1Z2luc1twbHVnaW5OYW1lXSkge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgcGx1Z2luID0gcGx1Z2luc1twbHVnaW5OYW1lXTtcclxuICAgICAgICAgICAgICAgIGlmICghcGx1Z2luKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgRXJyb3IoJ1tTVU5FRElUT1IuY29yZS5jYWxsTW9kdWxlLmZhaWxdIFRoZSBjYWxsZWQgcGx1Z2luIGRvZXMgbm90IGV4aXN0IG9yIGlzIGluIGFuIGludmFsaWQgZm9ybWF0LiAocGx1Z2luTmFtZTpcIicgKyBwbHVnaW5OYW1lICsgJ1wiKScpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIHBsdWdpbi5hZGQodGhpcywgcGx1Z2luLmJ1dHRvbkVsZW1lbnQpXHJcbiAgICAgICAgICAgICAgICB0aGlzLnBsdWdpbnNbcGx1Z2luTmFtZV0gPSBwbHVnaW47XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICBjYWxsQmFja0Z1bmN0aW9uKCk7XHJcbiAgICAgICAgfSxcclxuXHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogQGRlc2NyaXB0aW9uIEVuYWJsZWQgc3VibWVudVxyXG4gICAgICAgICAqIEBwYXJhbSB7ZWxlbWVudH0gZWxlbWVudCAtIFN1Ym1lbnUgZWxlbWVudCB0byBjYWxsXHJcbiAgICAgICAgICovXHJcbiAgICAgICAgc3VibWVudU9uOiBmdW5jdGlvbiAoZWxlbWVudCkge1xyXG4gICAgICAgICAgICB0aGlzLnN1Ym1lbnUgPSBlbGVtZW50Lm5leHRFbGVtZW50U2libGluZztcclxuICAgICAgICAgICAgdGhpcy5zdWJtZW51LnN0eWxlLmRpc3BsYXkgPSAnYmxvY2snO1xyXG4gICAgICAgICAgICB0aGlzLnV0aWwuYWRkQ2xhc3MoZWxlbWVudCwgJ29uJyk7XHJcbiAgICAgICAgICAgIHRoaXMuc3VibWVudUFjdGl2ZUJ1dHRvbiA9IGVsZW1lbnQ7XHJcbiAgICAgICAgfSxcclxuXHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogQGRlc2NyaXB0aW9uIERpc2FibGUgc3VibWVudVxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIHN1Ym1lbnVPZmY6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgaWYgKHRoaXMuc3VibWVudSkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zdWJtZW51LnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnN1Ym1lbnUgPSBudWxsO1xyXG4gICAgICAgICAgICAgICAgdGhpcy51dGlsLnJlbW92ZUNsYXNzKHRoaXMuc3VibWVudUFjdGl2ZUJ1dHRvbiwgJ29uJyk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnN1Ym1lbnVBY3RpdmVCdXR0b24gPSBudWxsO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBpZiAoY29udGV4dC5pbWFnZSAmJiBjb250ZXh0LmltYWdlLl9vbkNhcHRpb24gPT09IHRydWUpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMucGx1Z2lucy5pbWFnZS50b2dnbGVfY2FwdGlvbl9jb250ZW50ZWRpdGFibGUuY2FsbChlZGl0b3IsIGZhbHNlKTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgdGhpcy5jb250cm9sbGVyc09mZigpO1xyXG4gICAgICAgIH0sXHJcblxyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIEBkZXNjcmlwdGlvbiBEaXNhYmxlIGNvbnRyb2xsZXIgaW4gZWRpdG9yIGFyZWEgKGxpbmsgYnV0dG9uLCBpbWFnZSByZXNpemUgYnV0dG9uKVxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIGNvbnRyb2xsZXJzT2ZmOiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IGxlbiA9IHRoaXMuY29udHJvbGxlckFycmF5Lmxlbmd0aDtcclxuXHJcbiAgICAgICAgICAgIGlmIChsZW4gPiAwKSB7XHJcbiAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGxlbjsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jb250cm9sbGVyQXJyYXlbaV0uc3R5bGUuZGlzcGxheSA9ICdub25lJztcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHRoaXMuY29udHJvbGxlckFycmF5ID0gW107XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9LFxyXG5cclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBAZGVzY3JpcHRpb24gamF2YXNjcmlwdCBleGVjQ29tbWFuZFxyXG4gICAgICAgICAqIEBwYXJhbSB7c3RyaW5nfSBjb21tYW5kIC0gamF2YXNjcmlwdCBleGVjQ29tbWFuZCBmdW5jdGlvbiBwcm9wZXJ0eVxyXG4gICAgICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gc2hvd0RlZmF1bHRVSSAtIGphdmFzY3JpcHQgZXhlY0NvbW1hbmQgZnVuY3Rpb24gcHJvcGVydHlcclxuICAgICAgICAgKiBAcGFyYW0ge3N0cmluZ30gdmFsdWUgLSBqYXZhc2NyaXB0IGV4ZWNDb21tYW5kIGZ1bmN0aW9uIHByb3BlcnR5XHJcbiAgICAgICAgICovXHJcbiAgICAgICAgZXhlY0NvbW1hbmQ6IGZ1bmN0aW9uIChjb21tYW5kLCBzaG93RGVmYXVsdFVJLCB2YWx1ZSkge1xyXG4gICAgICAgICAgICBkb2N1bWVudC5leGVjQ29tbWFuZChjb21tYW5kLCBzaG93RGVmYXVsdFVJLCB2YWx1ZSk7XHJcbiAgICAgICAgfSxcclxuXHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogQGRlc2NyaXB0aW9uIEZvY3VzIHRvIHd5c2l3eWcgYXJlYVxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIGZvY3VzOiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IGNhcHRpb24gPSB0aGlzLnV0aWwuZ2V0UGFyZW50RWxlbWVudCh0aGlzLl92YXJpYWJsZS5zZWxlY3Rpb25Ob2RlLCAnZmlnY2FwdGlvbicpO1xyXG4gICAgICAgICAgICBpZiAoY2FwdGlvbikge1xyXG4gICAgICAgICAgICAgICAgY2FwdGlvbi5mb2N1cygpO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgY29udGV4dC5lbGVtZW50Lnd5c2l3eWcuZm9jdXMoKTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgdGhpcy5fc2V0RWRpdG9yUmFuZ2UoKTtcclxuICAgICAgICB9LFxyXG5cclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBAZGVzY3JpcHRpb24gU2F2aW5nIHRoZSByYW5nZSBvYmplY3QgYW5kIHRoZSBjdXJyZW50bHkgc2VsZWN0ZWQgbm9kZSBvZiBlZGl0b3JcclxuICAgICAgICAgKi9cclxuICAgICAgICBfc2V0RWRpdG9yUmFuZ2U6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgY29uc3Qgc2VsZWN0aW9uID0gd2luZG93LmdldFNlbGVjdGlvbigpO1xyXG4gICAgICAgICAgICBsZXQgcmFuZ2UgPSBudWxsO1xyXG5cclxuICAgICAgICAgICAgaWYgKHNlbGVjdGlvbi5yYW5nZUNvdW50ID4gMCkge1xyXG4gICAgICAgICAgICAgICAgcmFuZ2UgPSBzZWxlY3Rpb24uZ2V0UmFuZ2VBdCgwKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHJhbmdlID0gZG9jdW1lbnQuY3JlYXRlUmFuZ2UoKTtcclxuICAgICAgICAgICAgICAgIHJhbmdlLnNldFN0YXJ0KGNvbnRleHQuZWxlbWVudC53eXNpd3lnLmZpcnN0Q2hpbGQsIDApO1xyXG4gICAgICAgICAgICAgICAgcmFuZ2Uuc2V0RW5kKGNvbnRleHQuZWxlbWVudC53eXNpd3lnLmZpcnN0Q2hpbGQsIDApO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICB0aGlzLl92YXJpYWJsZS5yYW5nZSA9IHJhbmdlO1xyXG5cclxuICAgICAgICAgICAgaWYgKHJhbmdlLmNvbGxhcHNlZCkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5fdmFyaWFibGUuc2VsZWN0aW9uTm9kZSA9IHJhbmdlLmNvbW1vbkFuY2VzdG9yQ29udGFpbmVyO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5fdmFyaWFibGUuc2VsZWN0aW9uTm9kZSA9IHNlbGVjdGlvbi5leHRlbnROb2RlIHx8IHNlbGVjdGlvbi5hbmNob3JOb2RlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSxcclxuXHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogQGRlc2NyaXB0aW9uIFNldCBjdXJyZW50IGVkaXRvcidzIHJhbmdlIG9iamVjdFxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIHNldFJhbmdlOiBmdW5jdGlvbiAoc3RhcnRDb24sIHN0YXJ0T2ZmLCBlbmRDb24sIGVuZE9mZikge1xyXG4gICAgICAgICAgICBjb25zdCByYW5nZSA9IGRvY3VtZW50LmNyZWF0ZVJhbmdlKCk7XHJcbiAgICAgICAgICAgIHJhbmdlLnNldFN0YXJ0KHN0YXJ0Q29uLCBzdGFydE9mZik7XHJcbiAgICAgICAgICAgIHJhbmdlLnNldEVuZChlbmRDb24sIGVuZE9mZik7XHJcblxyXG4gICAgICAgICAgICBjb25zdCBzZWxlY3Rpb24gPSB3aW5kb3cuZ2V0U2VsZWN0aW9uKCk7XHJcblxyXG4gICAgICAgICAgICBpZiAoc2VsZWN0aW9uLnJhbmdlQ291bnQgPiAwKSB7XHJcbiAgICAgICAgICAgICAgICBzZWxlY3Rpb24ucmVtb3ZlQWxsUmFuZ2VzKCk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHRoaXMuX3ZhcmlhYmxlLnJhbmdlID0gcmFuZ2U7XHJcbiAgICAgICAgICAgIHNlbGVjdGlvbi5hZGRSYW5nZShyYW5nZSk7XHJcbiAgICAgICAgfSxcclxuXHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogQGRlc2NyaXB0aW9uIEdldCBjdXJyZW50IGVkaXRvcidzIHJhbmdlIG9iamVjdFxyXG4gICAgICAgICAqIEByZXR1cm5zIHtPYmplY3R9XHJcbiAgICAgICAgICovXHJcbiAgICAgICAgZ2V0UmFuZ2U6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3ZhcmlhYmxlLnJhbmdlO1xyXG4gICAgICAgIH0sXHJcblxyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIEBkZXNjcmlwdGlvbiBHZXQgY3VycmVudCBzZWxlY3Qgbm9kZVxyXG4gICAgICAgICAqIEByZXR1cm5zIHtOb2RlfVxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIGdldFNlbGVjdGlvbk5vZGU6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgaWYgKHRoaXMuX3ZhcmlhYmxlLnNlbGVjdGlvbk5vZGUpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLl92YXJpYWJsZS5zZWxlY3Rpb25Ob2RlO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICByZXR1cm4gY29udGV4dC5lbGVtZW50Lnd5c2l3eWcuZmlyc3RDaGlsZFxyXG4gICAgICAgIH0sXHJcblxyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIEBkZXNjcmlwdGlvbiBEZXRlcm1pbmUgaWYgdGhpcyBvZmZzZXQgaXMgdGhlIGVkZ2Ugb2Zmc2V0IG9mIGNvbnRhaW5lclxyXG4gICAgICAgICAqIEBwYXJhbSB7b2JqZWN0fSBjb250YWluZXIgLSBUaGUgY29udGFpbmVyIHByb3BlcnR5IG9mIHRoZSBzZWxlY3Rpb24gb2JqZWN0LlxyXG4gICAgICAgICAqIEBwYXJhbSB7bnVtYmVyfSBvZmZzZXQgLSBUaGUgb2Zmc2V0IHByb3BlcnR5IG9mIHRoZSBzZWxlY3Rpb24gb2JqZWN0LlxyXG4gICAgICAgICAqIEByZXR1cm5zIHtib29sZWFufVxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIGlzRWRnZVBvaW50OiBmdW5jdGlvbiAoY29udGFpbmVyLCBvZmZzZXQpIHtcclxuICAgICAgICAgICAgcmV0dXJuIChvZmZzZXQgPT09IDApIHx8IChvZmZzZXQgPT09IGNvbnRhaW5lci5ub2RlVmFsdWUubGVuZ3RoKTtcclxuICAgICAgICB9LFxyXG5cclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBAZGVzY3JpcHRpb24gU2hvdyBsb2FkaW5nIGJveFxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIHNob3dMb2FkaW5nOiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIGNvbnRleHQuZWxlbWVudC5sb2FkaW5nLnN0eWxlLmRpc3BsYXkgPSAnYmxvY2snO1xyXG4gICAgICAgIH0sXHJcblxyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIEBkZXNjcmlwdGlvbiBDbG9zZSBsb2FkaW5nIGJveFxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIGNsb3NlTG9hZGluZzogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBjb250ZXh0LmVsZW1lbnQubG9hZGluZy5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xyXG4gICAgICAgIH0sXHJcblxyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIEBkZXNjcmlwdGlvbiBBcHBlbmQgUCB0YWcgdG8gY3VycmVudCBsaW5lIG5leHRcclxuICAgICAgICAgKiBAcGFyYW0ge2VsZW1lbnR9IGVsZW1lbnQgLSBJbnNlcnQgYXMgc2libGluZ3Mgb2YgdGhhdCBlbGVtZW50XHJcbiAgICAgICAgICogQHJldHVybnMge2VsZW1lbnR9XHJcbiAgICAgICAgICovXHJcbiAgICAgICAgYXBwZW5kUDogZnVuY3Rpb24gKGVsZW1lbnQpIHtcclxuICAgICAgICAgICAgY29uc3Qgb1AgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdQJyk7XHJcbiAgICAgICAgICAgIG9QLmlubmVySFRNTCA9ICcmIzY1Mjc5JztcclxuXHJcbiAgICAgICAgICAgIGVsZW1lbnQgPSB0aGlzLnV0aWwuZ2V0Rm9ybWF0RWxlbWVudChlbGVtZW50KTtcclxuICAgICAgICAgICAgZWxlbWVudC5wYXJlbnROb2RlLmluc2VydEJlZm9yZShvUCwgZWxlbWVudC5uZXh0RWxlbWVudFNpYmxpbmcpO1xyXG5cclxuICAgICAgICAgICAgcmV0dXJuIG9QO1xyXG4gICAgICAgIH0sXHJcblxyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIEBkZXNjcmlwdGlvbiBEZWxldGUgc2VsZWN0ZWQgbm9kZSBhbmQgaW5zZXJ0IGFyZ3VtZW50IHZhbHVlIG5vZGVcclxuICAgICAgICAgKiBAcGFyYW0ge2VsZW1lbnR9IG9Ob2RlIC0gTm9kZSB0byBiZSBpbnNlcnRlZFxyXG4gICAgICAgICAqIEBwYXJhbSB7KGVsZW1lbnR8bnVsbCl9IHJpZ2h0Tm9kZSAtIElmIHRoZSBub2RlIGV4aXN0cywgaXQgaXMgaW5zZXJ0ZWQgYWZ0ZXIgdGhlIG5vZGVcclxuICAgICAgICAgKi9cclxuICAgICAgICBpbnNlcnROb2RlOiBmdW5jdGlvbiAob05vZGUsIHJpZ2h0Tm9kZSkge1xyXG4gICAgICAgICAgICBjb25zdCByYW5nZSA9IHRoaXMuZ2V0UmFuZ2UoKTtcclxuICAgICAgICAgICAgbGV0IHBhcmVudE5vZGUgPSBudWxsO1xyXG5cclxuICAgICAgICAgICAgaWYgKCFyaWdodE5vZGUpIHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IHN0YXJ0Q29uID0gcmFuZ2Uuc3RhcnRDb250YWluZXI7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBzdGFydE9mZiA9IHJhbmdlLnN0YXJ0T2Zmc2V0O1xyXG4gICAgICAgICAgICAgICAgY29uc3QgZW5kQ29uID0gcmFuZ2UuZW5kQ29udGFpbmVyO1xyXG4gICAgICAgICAgICAgICAgY29uc3QgZW5kT2ZmID0gcmFuZ2UuZW5kT2Zmc2V0O1xyXG4gICAgICAgICAgICAgICAgY29uc3QgY29tbW9uQ29uID0gcmFuZ2UuY29tbW9uQW5jZXN0b3JDb250YWluZXI7XHJcblxyXG4gICAgICAgICAgICAgICAgcGFyZW50Tm9kZSA9IHN0YXJ0Q29uO1xyXG4gICAgICAgICAgICAgICAgaWYgKHN0YXJ0Q29uLm5vZGVUeXBlID09PSAzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcGFyZW50Tm9kZSA9IHN0YXJ0Q29uLnBhcmVudE5vZGU7XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgLyoqIFNlbGVjdCB3aXRoaW4gdGhlIHNhbWUgbm9kZSAqL1xyXG4gICAgICAgICAgICAgICAgaWYgKHJhbmdlLmNvbGxhcHNlZCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChjb21tb25Db24ubm9kZVR5cGUgPT09IDMpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmlnaHROb2RlID0gY29tbW9uQ29uLnNwbGl0VGV4dChlbmRPZmYpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHBhcmVudE5vZGUubGFzdENoaWxkICE9PSBudWxsICYmIC9eQlIkL2kudGVzdChwYXJlbnROb2RlLmxhc3RDaGlsZC5ub2RlTmFtZSkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhcmVudE5vZGUucmVtb3ZlQ2hpbGQocGFyZW50Tm9kZS5sYXN0Q2hpbGQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJpZ2h0Tm9kZSA9IG51bGw7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgLyoqIFNlbGVjdCBtdWx0aXBsZSBub2RlcyAqL1xyXG4gICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgaXNTYW1lQ29udGFpbmVyID0gc3RhcnRDb24gPT09IGVuZENvbjtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGlzU2FtZUNvbnRhaW5lcikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgcmVtb3ZlTm9kZSA9IHN0YXJ0Q29uO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIXRoaXMuaXNFZGdlUG9pbnQoZW5kQ29uLCBlbmRPZmYpKSByaWdodE5vZGUgPSBlbmRDb24uc3BsaXRUZXh0KGVuZE9mZik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghdGhpcy5pc0VkZ2VQb2ludChzdGFydENvbiwgc3RhcnRPZmYpKSByZW1vdmVOb2RlID0gc3RhcnRDb24uc3BsaXRUZXh0KHN0YXJ0T2ZmKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHBhcmVudE5vZGUucmVtb3ZlQ2hpbGQocmVtb3ZlTm9kZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnJlbW92ZU5vZGUoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmlnaHROb2RlID0gZW5kQ29uO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgd2hpbGUgKHJpZ2h0Tm9kZS5ub2RlVHlwZSAhPT0gMSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmlnaHROb2RlID0gcmlnaHROb2RlLnBhcmVudE5vZGU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBwYXJlbnROb2RlID0gcmlnaHROb2RlLnBhcmVudE5vZGU7XHJcbiAgICAgICAgICAgICAgICByaWdodE5vZGUgPSByaWdodE5vZGUubmV4dFNpYmxpbmc7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgICAgICBwYXJlbnROb2RlLmluc2VydEJlZm9yZShvTm9kZSwgcmlnaHROb2RlKTtcclxuICAgICAgICAgICAgfSBjYXRjaCAoZSkge1xyXG4gICAgICAgICAgICAgICAgcGFyZW50Tm9kZS5hcHBlbmRDaGlsZChvTm9kZSk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIC8vIHRoaXMuc2V0UmFuZ2Uob05vZGUsIDAsIG9Ob2RlLCAwKTtcclxuICAgICAgICB9LFxyXG5cclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBAZGVzY3JpcHRpb24gRGVsZXRlIHRoZSBjdXJyZW50bHkgc2VsZWN0ZWQgbm9kZVxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIHJlbW92ZU5vZGU6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgY29uc3QgcmFuZ2UgPSB0aGlzLmdldFJhbmdlKCk7XHJcblxyXG4gICAgICAgICAgICBpZiAocmFuZ2UuZGVsZXRlQ29udGVudHMpIHtcclxuICAgICAgICAgICAgICAgIHJhbmdlLmRlbGV0ZUNvbnRlbnRzKCk7XHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGNvbnN0IHN0YXJ0Q29uID0gcmFuZ2Uuc3RhcnRDb250YWluZXI7XHJcbiAgICAgICAgICAgIGNvbnN0IHN0YXJ0T2ZmID0gcmFuZ2Uuc3RhcnRPZmZzZXQ7XHJcbiAgICAgICAgICAgIGNvbnN0IGVuZENvbiA9IHJhbmdlLmVuZENvbnRhaW5lcjtcclxuICAgICAgICAgICAgY29uc3QgZW5kT2ZmID0gcmFuZ2UuZW5kT2Zmc2V0O1xyXG4gICAgICAgICAgICBjb25zdCBjb21tb25Db24gPSByYW5nZS5jb21tb25BbmNlc3RvckNvbnRhaW5lcjtcclxuXHJcbiAgICAgICAgICAgIGxldCBiZWZvcmVOb2RlID0gbnVsbDtcclxuICAgICAgICAgICAgbGV0IGFmdGVyTm9kZSA9IG51bGw7XHJcblxyXG4gICAgICAgICAgICBjb25zdCBjaGlsZE5vZGVzID0gdGhpcy51dGlsLmdldExpc3RDaGlsZE5vZGVzKGNvbW1vbkNvbik7XHJcbiAgICAgICAgICAgIGxldCBzdGFydEluZGV4ID0gdGhpcy51dGlsLmdldEFycmF5SW5kZXgoY2hpbGROb2Rlcywgc3RhcnRDb24pO1xyXG4gICAgICAgICAgICBsZXQgZW5kSW5kZXggPSB0aGlzLnV0aWwuZ2V0QXJyYXlJbmRleChjaGlsZE5vZGVzLCBlbmRDb24pO1xyXG5cclxuICAgICAgICAgICAgZm9yIChsZXQgaSA9IHN0YXJ0SW5kZXggKyAxLCBzdGFydE5vZGUgPSBzdGFydENvbjsgaSA+PSAwOyBpLS0pIHtcclxuICAgICAgICAgICAgICAgIGlmIChjaGlsZE5vZGVzW2ldID09PSBzdGFydE5vZGUucGFyZW50Tm9kZSAmJiBjaGlsZE5vZGVzW2ldLmZpcnN0Q2hpbGQgPT09IHN0YXJ0Tm9kZSAmJiBzdGFydE9mZiA9PT0gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHN0YXJ0SW5kZXggPSBpO1xyXG4gICAgICAgICAgICAgICAgICAgIHN0YXJ0Tm9kZSA9IHN0YXJ0Tm9kZS5wYXJlbnROb2RlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBmb3IgKGxldCBpID0gZW5kSW5kZXggLSAxLCBlbmROb2RlID0gZW5kQ29uOyBpID4gc3RhcnRJbmRleDsgaS0tKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoY2hpbGROb2Rlc1tpXSA9PT0gZW5kTm9kZS5wYXJlbnROb2RlICYmIGNoaWxkTm9kZXNbaV0ubm9kZVR5cGUgPT09IDEpIHtcclxuICAgICAgICAgICAgICAgICAgICBjaGlsZE5vZGVzLnNwbGljZShpLCAxKTtcclxuICAgICAgICAgICAgICAgICAgICBlbmROb2RlID0gZW5kTm9kZS5wYXJlbnROb2RlO1xyXG4gICAgICAgICAgICAgICAgICAgIC0tZW5kSW5kZXg7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSBzdGFydEluZGV4OyBpIDw9IGVuZEluZGV4OyBpKyspIHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGl0ZW0gPSBjaGlsZE5vZGVzW2ldO1xyXG5cclxuICAgICAgICAgICAgICAgIGlmIChpdGVtLmxlbmd0aCA9PT0gMCB8fCAoaXRlbS5ub2RlVHlwZSA9PT0gMyAmJiBpdGVtLmRhdGEgPT09IHVuZGVmaW5lZCkpIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnV0aWwucmVtb3ZlSXRlbShpdGVtKTtcclxuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICBpZiAoaXRlbSA9PT0gc3RhcnRDb24pIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoc3RhcnRDb24ubm9kZVR5cGUgPT09IDEpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYmVmb3JlTm9kZSA9IGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKHN0YXJ0Q29uLnRleHRDb250ZW50KTtcclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBiZWZvcmVOb2RlID0gZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoc3RhcnRDb24uc3Vic3RyaW5nRGF0YSgwLCBzdGFydE9mZikpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGJlZm9yZU5vZGUubGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBzdGFydENvbi5kYXRhID0gYmVmb3JlTm9kZS5kYXRhO1xyXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMudXRpbC5yZW1vdmVJdGVtKHN0YXJ0Q29uKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIGlmIChpdGVtID09PSBlbmRDb24pIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoZW5kQ29uLm5vZGVUeXBlID09PSAxKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGFmdGVyTm9kZSA9IGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKGVuZENvbi50ZXh0Q29udGVudCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYWZ0ZXJOb2RlID0gZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoZW5kQ29uLnN1YnN0cmluZ0RhdGEoZW5kT2ZmLCAoZW5kQ29uLmxlbmd0aCAtIGVuZE9mZikpKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChhZnRlck5vZGUubGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBlbmRDb24uZGF0YSA9IGFmdGVyTm9kZS5kYXRhO1xyXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMudXRpbC5yZW1vdmVJdGVtKGVuZENvbik7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICB0aGlzLnV0aWwucmVtb3ZlSXRlbShpdGVtKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0sXHJcblxyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIEBkZXNjcmlwdGlvbiBDb3BpZXMgdGhlIG5vZGUgb2YgdGhlIGFyZ3VtZW50IHZhbHVlIGFuZCB3cmFwcyBhbGwgc2VsZWN0ZWQgdGV4dC5cclxuICAgICAgICAgKiAxLiBXaGVuIHRoZXJlIGlzIHRoZSBzYW1lIG5vZGUgaW4gdGhlIHNlbGVjdGlvbiBhcmVhLCB0aGUgdGFnIGlzIHN0cmlwcGVkLlxyXG4gICAgICAgICAqIDIuIElmIHRoZXJlIGlzIGFub3RoZXIgY3NzIHZhbHVlIG90aGVyIHRoYW5Dc3MgYXR0cmlidXRlIHZhbHVlcyByZWNlaXZlZCBhcyBhcmd1bWVudHMgb24gdGhlIHNhbWUgbm9kZSwgcmVtb3ZlZCBvbmx5IENzcyBhdHRyaWJ1dGUgdmFsdWVzIHJlY2VpdmVkIGFzIGFyZ3VtZW50c1xyXG4gICAgICAgICAqIEBwYXJhbSB7ZWxlbWVudH0gYXBwZW5kTm9kZSAtIFRoZSBkb20gdGhhdCB3aWxsIHdyYXAgdGhlIHNlbGVjdGVkIHRleHQgYXJlYVxyXG4gICAgICAgICAqIEBwYXJhbSB7YXJyYXl9IGNoZWNrQ1NTUHJvcGVydHlBcnJheSAtIFRoZSBjc3MgYXR0cmlidXRlIG5hbWUgQXJyYXkgdG8gY2hlY2sgKFsnZm9udC1zaXplJ10sIFsnZm9udC1mYW1pbHknXS4uLl0pXHJcbiAgICAgICAgICovXHJcbiAgICAgICAgd3JhcFJhbmdlVG9UYWc6IGZ1bmN0aW9uIChhcHBlbmROb2RlLCBjaGVja0NTU1Byb3BlcnR5QXJyYXkpIHtcclxuICAgICAgICAgICAgY29uc3QgcmFuZ2UgPSB0aGlzLmdldFJhbmdlKCk7XHJcbiAgICAgICAgICAgIGNvbnN0IHN0YXJ0Q29uID0gcmFuZ2Uuc3RhcnRDb250YWluZXI7XHJcbiAgICAgICAgICAgIGNvbnN0IHN0YXJ0T2ZmID0gcmFuZ2Uuc3RhcnRPZmZzZXQ7XHJcbiAgICAgICAgICAgIGNvbnN0IGVuZENvbiA9IHJhbmdlLmVuZENvbnRhaW5lcjtcclxuICAgICAgICAgICAgY29uc3QgZW5kT2ZmID0gcmFuZ2UuZW5kT2Zmc2V0O1xyXG4gICAgICAgICAgICBjb25zdCBjb21tb25Db24gPSByYW5nZS5jb21tb25BbmNlc3RvckNvbnRhaW5lcjtcclxuXHJcbiAgICAgICAgICAgIGxldCBzdGFydCA9IHt9LCBlbmQgPSB7fTtcclxuICAgICAgICAgICAgbGV0IG5ld05vZGUsIHJlZ0V4cDtcclxuXHJcbiAgICAgICAgICAgIGlmIChjaGVja0NTU1Byb3BlcnR5QXJyYXkpIHtcclxuICAgICAgICAgICAgICAgIHJlZ0V4cCA9ICcoPzo7fF58XFxcXHMpKD86JyArIGNoZWNrQ1NTUHJvcGVydHlBcnJheVswXTtcclxuICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSAxOyBpIDwgY2hlY2tDU1NQcm9wZXJ0eUFycmF5Lmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmVnRXhwICs9ICd8JyArIGNoZWNrQ1NTUHJvcGVydHlBcnJheVtpXTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHJlZ0V4cCArPSAnKVxcXFxzKjpbXjtdKlxcXFxzKig/Ojt8JCknO1xyXG4gICAgICAgICAgICAgICAgcmVnRXhwID0gbmV3IFJlZ0V4cChyZWdFeHAsICdnaScpO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAvKiogb25lIG5vZGUgKi9cclxuICAgICAgICAgICAgaWYgKHN0YXJ0Q29uID09PSBlbmRDb24pIHtcclxuICAgICAgICAgICAgICAgIG5ld05vZGUgPSBhcHBlbmROb2RlLmNsb25lTm9kZShmYWxzZSk7XHJcblxyXG4gICAgICAgICAgICAgICAgLyoqIE5vIG5vZGUgc2VsZWN0ZWQgKi9cclxuICAgICAgICAgICAgICAgIGlmIChzdGFydE9mZiA9PT0gZW5kT2ZmKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbmV3Tm9kZS5pbm5lckhUTUwgPSAnJm5ic3A7JztcclxuICAgICAgICAgICAgICAgICAgICBpZiAodXRpbC5pc0Zvcm1hdEVsZW1lbnQoc3RhcnRDb24pKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0YXJ0Q29uLmFwcGVuZENoaWxkKG5ld05vZGUpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0YXJ0Q29uLnBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKG5ld05vZGUsIHN0YXJ0Q29uLm5leHRTaWJsaW5nKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAvKiogU2VsZWN0IHdpdGhpbiB0aGUgc2FtZSBub2RlICovXHJcbiAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBpc0VsZW1lbnQgPSBzdGFydENvbi5ub2RlVHlwZSA9PT0gMTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoaXNFbGVtZW50KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG5ld05vZGUuaW5uZXJIVE1MID0gc3RhcnRDb24ub3V0ZXJIVE1MO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBzdGFydENvbi5wYXJlbnROb2RlLmFwcGVuZENoaWxkKG5ld05vZGUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnV0aWwucmVtb3ZlSXRlbShzdGFydENvbik7XHJcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgYmVmb3JlTm9kZSA9IGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKHN0YXJ0Q29uLnN1YnN0cmluZ0RhdGEoMCwgc3RhcnRPZmYpKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgYWZ0ZXJOb2RlID0gZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoc3RhcnRDb24uc3Vic3RyaW5nRGF0YShlbmRPZmYsIChzdGFydENvbi5sZW5ndGggLSBlbmRPZmYpKSk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBuZXdOb2RlLmlubmVyVGV4dCA9IHN0YXJ0Q29uLnN1YnN0cmluZ0RhdGEoc3RhcnRPZmYsIChlbmRPZmYgLSBzdGFydE9mZikpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBzdGFydENvbi5wYXJlbnROb2RlLmluc2VydEJlZm9yZShuZXdOb2RlLCBzdGFydENvbi5uZXh0U2libGluZyk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoYmVmb3JlTm9kZS5kYXRhLmxlbmd0aCA+IDApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXJ0Q29uLmRhdGEgPSBiZWZvcmVOb2RlLmRhdGE7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGFydENvbi5kYXRhID0gc3RhcnRDb24uc3Vic3RyaW5nRGF0YSgwLCBzdGFydE9mZik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChhZnRlck5vZGUuZGF0YS5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGFydENvbi5wYXJlbnROb2RlLmluc2VydEJlZm9yZShhZnRlck5vZGUsIG5ld05vZGUubmV4dFNpYmxpbmcpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIHN0YXJ0LmNvbnRhaW5lciA9IG5ld05vZGU7XHJcbiAgICAgICAgICAgICAgICBzdGFydC5vZmZzZXQgPSAwO1xyXG4gICAgICAgICAgICAgICAgZW5kLmNvbnRhaW5lciA9IG5ld05vZGU7XHJcbiAgICAgICAgICAgICAgICBlbmQub2Zmc2V0ID0gMTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAvKiogbXVsdGlwbGUgbm9kZXMgKi9cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAvKiogdGFnIGNoZWNrIGZ1bmN0aW9uKi9cclxuICAgICAgICAgICAgICAgIGNvbnN0IGNoZWNrRm9udFNpemVDc3MgPSBmdW5jdGlvbiAodk5vZGUpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAodk5vZGUubm9kZVR5cGUgPT09IDMpIHJldHVybiB0cnVlO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBsZXQgc3R5bGUgPSAnJztcclxuICAgICAgICAgICAgICAgICAgICBpZiAocmVnRXhwICYmIHZOb2RlLnN0eWxlLmNzc1RleHQubGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBzdHlsZSA9IHZOb2RlLnN0eWxlLmNzc1RleHQucmVwbGFjZShyZWdFeHAsICcnKS50cmltKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICBpZiAodk5vZGUubm9kZU5hbWUgIT09IGFwcGVuZE5vZGUubm9kZU5hbWUgfHwgc3R5bGUubGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodk5vZGUuc3R5bGUuY3NzVGV4dC5sZW5ndGggPiAwKSB2Tm9kZS5zdHlsZS5jc3NUZXh0ID0gc3R5bGU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgICAgICAvKiogb25lIGxpbmUgKi9cclxuICAgICAgICAgICAgICAgIGlmICghdXRpbC5pc0Zvcm1hdEVsZW1lbnQoY29tbW9uQ29uKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIG5ld05vZGUgPSBhcHBlbmROb2RlLmNsb25lTm9kZShmYWxzZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgbmV3UmFuZ2UgPSB0aGlzLl93cmFwTGluZU5vZGVzUGFydChjb21tb25Db24sIG5ld05vZGUsIGNoZWNrRm9udFNpemVDc3MsIHN0YXJ0Q29uLCBzdGFydE9mZiwgZW5kQ29uLCBlbmRPZmYpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBzdGFydC5jb250YWluZXIgPSBuZXdSYW5nZS5zdGFydENvbnRhaW5lcjtcclxuICAgICAgICAgICAgICAgICAgICBzdGFydC5vZmZzZXQgPSBuZXdSYW5nZS5zdGFydE9mZnNldDtcclxuICAgICAgICAgICAgICAgICAgICBlbmQuY29udGFpbmVyID0gbmV3UmFuZ2UuZW5kQ29udGFpbmVyO1xyXG4gICAgICAgICAgICAgICAgICAgIGVuZC5vZmZzZXQgPSBuZXdSYW5nZS5lbmRPZmZzZXQ7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAvKiogbXVsdGkgbGluZSAqL1xyXG4gICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gZ2V0IGxpbmUgbm9kZXNcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBsaW5lTm9kZXMgPSB0aGlzLnV0aWwuZ2V0TGlzdENoaWxkcmVuKGNvbW1vbkNvbiwgZnVuY3Rpb24gKGN1cnJlbnQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHV0aWwuaXNGb3JtYXRFbGVtZW50KGN1cnJlbnQpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBsZXQgc3RhcnRMaW5lID0gdGhpcy51dGlsLmdldFBhcmVudEVsZW1lbnQoc3RhcnRDb24sICdQJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IGVuZExpbmUgPSB0aGlzLnV0aWwuZ2V0UGFyZW50RWxlbWVudChlbmRDb24sICdQJyk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSAwLCBsZW4gPSBsaW5lTm9kZXMubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHN0YXJ0TGluZSA9PT0gbGluZU5vZGVzW2ldKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGFydExpbmUgPSBpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGludWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGVuZExpbmUgPT09IGxpbmVOb2Rlc1tpXSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZW5kTGluZSA9IGk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgLy8gc3RhcnRDb25cclxuICAgICAgICAgICAgICAgICAgICBuZXdOb2RlID0gYXBwZW5kTm9kZS5jbG9uZU5vZGUoZmFsc2UpO1xyXG4gICAgICAgICAgICAgICAgICAgIHN0YXJ0ID0gdGhpcy5fd3JhcExpbmVOb2Rlc1N0YXJ0KGxpbmVOb2Rlc1tzdGFydExpbmVdLCBuZXdOb2RlLCBjaGVja0ZvbnRTaXplQ3NzLCBzdGFydENvbiwgc3RhcnRPZmYpO1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIG1pZFxyXG4gICAgICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSBzdGFydExpbmUgKyAxOyBpIDwgZW5kTGluZTsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG5ld05vZGUgPSBhcHBlbmROb2RlLmNsb25lTm9kZShmYWxzZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX3dyYXBMaW5lTm9kZXMobGluZU5vZGVzW2ldLCBuZXdOb2RlLCBjaGVja0ZvbnRTaXplQ3NzKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gZW5kQ29uXHJcbiAgICAgICAgICAgICAgICAgICAgbmV3Tm9kZSA9IGFwcGVuZE5vZGUuY2xvbmVOb2RlKGZhbHNlKTtcclxuICAgICAgICAgICAgICAgICAgICBlbmQgPSB0aGlzLl93cmFwTGluZU5vZGVzRW5kKGxpbmVOb2Rlc1tlbmRMaW5lXSwgbmV3Tm9kZSwgY2hlY2tGb250U2l6ZUNzcywgZW5kQ29uLCBlbmRPZmYpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAvLyBzZXQgcmFuZ2VcclxuICAgICAgICAgICAgdGhpcy5zZXRSYW5nZShzdGFydC5jb250YWluZXIsIHN0YXJ0Lm9mZnNldCwgZW5kLmNvbnRhaW5lciwgZW5kLm9mZnNldCk7XHJcbiAgICAgICAgfSxcclxuXHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogQGRlc2NyaXB0aW9uIHdyYXBzIHRleHQgbm9kZXMgb2YgbGluZSBzZWxlY3RlZCB0ZXh0LlxyXG4gICAgICAgICAqIEBwYXJhbSB7ZWxlbWVudH0gZWxlbWVudCAtIFRoZSBub2RlIG9mIHRoZSBsaW5lIHRoYXQgY29udGFpbnMgdGhlIHNlbGVjdGVkIHRleHQgbm9kZS5cclxuICAgICAgICAgKiBAcGFyYW0ge2VsZW1lbnR9IG5ld0lubmVyTm9kZSAtIFRoZSBkb20gdGhhdCB3aWxsIHdyYXAgdGhlIHNlbGVjdGVkIHRleHQgYXJlYVxyXG4gICAgICAgICAqIEBwYXJhbSB7ZnVuY3Rpb259IHZhbGlkYXRpb24gLSBDaGVjayBpZiB0aGUgbm9kZSBzaG91bGQgYmUgc3RyaXBwZWQuXHJcbiAgICAgICAgICogQHBhcmFtIHtlbGVtZW50fSBzdGFydENvbiAtIFRoZSBzdGFydENvbnRhaW5lciBwcm9wZXJ0eSBvZiB0aGUgc2VsZWN0aW9uIG9iamVjdC5cclxuICAgICAgICAgKiBAcGFyYW0ge251bWJlcn0gc3RhcnRPZmYgLSBUaGUgc3RhcnRPZmZzZXQgcHJvcGVydHkgb2YgdGhlIHNlbGVjdGlvbiBvYmplY3QuXHJcbiAgICAgICAgICogQHBhcmFtIHtlbGVtZW50fSBlbmRDb24gLSBUaGUgZW5kQ29udGFpbmVyIHByb3BlcnR5IG9mIHRoZSBzZWxlY3Rpb24gb2JqZWN0LlxyXG4gICAgICAgICAqIEBwYXJhbSB7bnVtYmVyfSBlbmRPZmYgLSBUaGUgZW5kT2Zmc2V0IHByb3BlcnR5IG9mIHRoZSBzZWxlY3Rpb24gb2JqZWN0LlxyXG4gICAgICAgICAqIEByZXR1cm5zIHt7c3RhcnRDb250YWluZXI6ICosIHN0YXJ0T2Zmc2V0OiAqLCBlbmRDb250YWluZXI6ICosIGVuZE9mZnNldDogKn19XHJcbiAgICAgICAgICogQHByaXZhdGVcclxuICAgICAgICAgKi9cclxuICAgICAgICBfd3JhcExpbmVOb2Rlc1BhcnQ6IGZ1bmN0aW9uIChlbGVtZW50LCBuZXdJbm5lck5vZGUsIHZhbGlkYXRpb24sIHN0YXJ0Q29uLCBzdGFydE9mZiwgZW5kQ29uLCBlbmRPZmYpIHtcclxuICAgICAgICAgICAgY29uc3QgZWwgPSBlbGVtZW50O1xyXG4gICAgICAgICAgICBjb25zdCByZW1vdmVOb2RlTGlzdCA9IFtdO1xyXG5cclxuICAgICAgICAgICAgbGV0IHN0YXJ0Q29udGFpbmVyID0gc3RhcnRDb247XHJcbiAgICAgICAgICAgIGxldCBzdGFydE9mZnNldCA9IHN0YXJ0T2ZmO1xyXG4gICAgICAgICAgICBsZXQgZW5kQ29udGFpbmVyID0gZW5kQ29uO1xyXG4gICAgICAgICAgICBsZXQgZW5kT2Zmc2V0ID0gZW5kT2ZmO1xyXG5cclxuICAgICAgICAgICAgbGV0IHN0YXJ0UGFzcyA9IGZhbHNlO1xyXG4gICAgICAgICAgICBsZXQgZW5kUGFzcyA9IGZhbHNlO1xyXG4gICAgICAgICAgICBsZXQgcEN1cnJlbnQsIG5ld05vZGUsIGFwcGVuZE5vZGU7XHJcblxyXG4gICAgICAgICAgICAoZnVuY3Rpb24gcmVjdXJzaW9uRnVuYyhjdXJyZW50LCBub2RlKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBjaGlsZE5vZGVzID0gY3VycmVudC5jaGlsZE5vZGVzO1xyXG4gICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IDAsIGxlbiA9IGNoaWxkTm9kZXMubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoZW5kUGFzcykgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IGNoaWxkID0gY2hpbGROb2Rlc1tpXTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHN0YXJ0UGFzcyAmJiBjaGlsZCAhPT0gZW5kQ29udGFpbmVyICYmIGNoaWxkLm5vZGVUeXBlID09PSAzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHBDdXJyZW50ID0gW107XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHdoaWxlIChuZXdOb2RlICE9PSBlbCAmJiBuZXdOb2RlICE9PSBudWxsKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodmFsaWRhdGlvbihuZXdOb2RlKSAmJiBuZXdOb2RlLm5vZGVUeXBlID09PSAxKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcEN1cnJlbnQucHVzaChuZXdOb2RlLmNsb25lTm9kZShmYWxzZSkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3Tm9kZSA9IG5ld05vZGUucGFyZW50Tm9kZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHBDdXJyZW50Lmxlbmd0aCA+IDApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFwcGVuZE5vZGUgPSBuZXdOb2RlID0gcEN1cnJlbnQucG9wKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB3aGlsZSAocEN1cnJlbnQubGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5ld05vZGUgPSBwQ3VycmVudC5wb3AoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhcHBlbmROb2RlLmFwcGVuZENoaWxkKG5ld05vZGUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3SW5uZXJOb2RlLmFwcGVuZENoaWxkKGFwcGVuZE5vZGUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbm9kZSA9IG5ld05vZGU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBub2RlID0gbmV3SW5uZXJOb2RlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBub2RlLmFwcGVuZENoaWxkKGNoaWxkLmNsb25lTm9kZShmYWxzZSkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZW1vdmVOb2RlTGlzdC5wdXNoKGNoaWxkKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIC8vIHN0YXJ0Q29udGFpbmVyXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGNoaWxkID09PSBzdGFydENvbnRhaW5lcikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBwcmV2Tm9kZSA9IGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKHN0YXJ0Q29udGFpbmVyLnN1YnN0cmluZ0RhdGEoMCwgc3RhcnRPZmZzZXQpKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3Qgc3RhcnROb2RlID0gZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoc3RhcnRDb250YWluZXIuc3Vic3RyaW5nRGF0YShzdGFydE9mZnNldCwgKHN0YXJ0Q29udGFpbmVyLmxlbmd0aCAtIHN0YXJ0T2Zmc2V0KSkpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHByZXZOb2RlLmxlbmd0aCA+IDApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXJ0Q29udGFpbmVyLmRhdGEgPSBwcmV2Tm9kZS5kYXRhO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVtb3ZlTm9kZUxpc3QucHVzaChzdGFydENvbnRhaW5lcik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG5ld05vZGUgPSBjaGlsZDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcEN1cnJlbnQgPSBbXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgd2hpbGUgKG5ld05vZGUgIT09IGVsICYmIG5ld05vZGUgIT09IG51bGwpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh2YWxpZGF0aW9uKG5ld05vZGUpICYmIG5ld05vZGUubm9kZVR5cGUgPT09IDEpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwQ3VycmVudC5wdXNoKG5ld05vZGUuY2xvbmVOb2RlKGZhbHNlKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXdOb2RlID0gbmV3Tm9kZS5wYXJlbnROb2RlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBhcHBlbmROb2RlID0gbmV3Tm9kZSA9IHBDdXJyZW50LnBvcCgpIHx8IGNoaWxkO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB3aGlsZSAocEN1cnJlbnQubGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3Tm9kZSA9IHBDdXJyZW50LnBvcCgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYXBwZW5kTm9kZS5hcHBlbmRDaGlsZChuZXdOb2RlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGFwcGVuZE5vZGUgIT09IGNoaWxkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXdJbm5lck5vZGUuYXBwZW5kQ2hpbGQoYXBwZW5kTm9kZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBub2RlID0gbmV3Tm9kZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5vZGUgPSBuZXdJbm5lck5vZGU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0YXJ0Q29udGFpbmVyID0gc3RhcnROb2RlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBzdGFydE9mZnNldCA9IDA7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG5vZGUuYXBwZW5kQ2hpbGQoc3RhcnRDb250YWluZXIpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgc3RhcnRQYXNzID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29udGludWU7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAvLyBlbmRDb250YWluZXJcclxuICAgICAgICAgICAgICAgICAgICBpZiAoY2hpbGQgPT09IGVuZENvbnRhaW5lcikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBhZnRlck5vZGUgPSBkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShlbmRDb250YWluZXIuc3Vic3RyaW5nRGF0YShlbmRPZmZzZXQsIChlbmRDb250YWluZXIubGVuZ3RoIC0gZW5kT2Zmc2V0KSkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBlbmROb2RlID0gZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoZW5kQ29udGFpbmVyLnN1YnN0cmluZ0RhdGEoMCwgZW5kT2Zmc2V0KSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBiZWZvcmUgPSBudWxsO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgYmVmb3JlID0gbmV3Tm9kZSA9IGNoaWxkO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBwQ3VycmVudCA9IFtdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB3aGlsZSAobmV3Tm9kZSAhPT0gZWwgJiYgbmV3Tm9kZSAhPT0gbnVsbCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHZhbGlkYXRpb24obmV3Tm9kZSkgJiYgbmV3Tm9kZS5ub2RlVHlwZSA9PT0gMSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBDdXJyZW50LnB1c2gobmV3Tm9kZS5jbG9uZU5vZGUoZmFsc2UpKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJlZm9yZSA9IG5ld05vZGU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXdOb2RlID0gbmV3Tm9kZS5wYXJlbnROb2RlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBhcHBlbmROb2RlID0gbmV3Tm9kZSA9IHBDdXJyZW50LnBvcCgpIHx8IGNoaWxkO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB3aGlsZSAocEN1cnJlbnQubGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3Tm9kZSA9IHBDdXJyZW50LnBvcCgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYXBwZW5kTm9kZS5hcHBlbmRDaGlsZChuZXdOb2RlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGFwcGVuZE5vZGUgIT09IGNoaWxkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXdJbm5lck5vZGUuYXBwZW5kQ2hpbGQoYXBwZW5kTm9kZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBub2RlID0gbmV3Tm9kZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5vZGUgPSBuZXdJbm5lck5vZGU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChhZnRlck5vZGUubGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZW5kQ29udGFpbmVyLmRhdGEgPSBhZnRlck5vZGUuZGF0YTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlbW92ZU5vZGVMaXN0LnB1c2goZW5kQ29udGFpbmVyKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgZW5kQ29udGFpbmVyID0gZW5kTm9kZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZW5kT2Zmc2V0ID0gZW5kTm9kZS5sZW5ndGg7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG5vZGUuYXBwZW5kQ2hpbGQoZW5kQ29udGFpbmVyKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZWwuaW5zZXJ0QmVmb3JlKG5ld0lubmVyTm9kZSwgYmVmb3JlKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBwUmVtb3ZlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB3aGlsZSAocmVtb3ZlTm9kZUxpc3QubGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcFJlbW92ZSA9IHJlbW92ZU5vZGVMaXN0LnBvcCgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcFJlbW92ZS5kYXRhID0gJyc7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB3aGlsZSAocFJlbW92ZS5wYXJlbnROb2RlICYmIHBSZW1vdmUucGFyZW50Tm9kZS5pbm5lclRleHQubGVuZ3RoID09PSAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcFJlbW92ZSA9IHBSZW1vdmUucGFyZW50Tm9kZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMudXRpbC5yZW1vdmVJdGVtKHBSZW1vdmUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBlbmRQYXNzID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICByZWN1cnNpb25GdW5jKGNoaWxkKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSkoZWxlbWVudCk7XHJcblxyXG4gICAgICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICAgICAgc3RhcnRDb250YWluZXI6IHN0YXJ0Q29udGFpbmVyLFxyXG4gICAgICAgICAgICAgICAgc3RhcnRPZmZzZXQ6IHN0YXJ0T2Zmc2V0LFxyXG4gICAgICAgICAgICAgICAgZW5kQ29udGFpbmVyOiBlbmRDb250YWluZXIsXHJcbiAgICAgICAgICAgICAgICBlbmRPZmZzZXQ6IGVuZE9mZnNldFxyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgIH0sXHJcblxyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIEBkZXNjcmlwdGlvbiB3cmFwcyBtaWQgbGluZXMgc2VsZWN0ZWQgdGV4dC5cclxuICAgICAgICAgKiBAcGFyYW0ge2VsZW1lbnR9IGVsZW1lbnQgLSBUaGUgbm9kZSBvZiB0aGUgbGluZSB0aGF0IGNvbnRhaW5zIHRoZSBzZWxlY3RlZCB0ZXh0IG5vZGUuXHJcbiAgICAgICAgICogQHBhcmFtIHtlbGVtZW50fSBuZXdJbm5lck5vZGUgLSBUaGUgZG9tIHRoYXQgd2lsbCB3cmFwIHRoZSBzZWxlY3RlZCB0ZXh0IGFyZWFcclxuICAgICAgICAgKiBAcGFyYW0ge2Z1bmN0aW9ufSB2YWxpZGF0aW9uIC0gQ2hlY2sgaWYgdGhlIG5vZGUgc2hvdWxkIGJlIHN0cmlwcGVkLlxyXG4gICAgICAgICAqIEBwcml2YXRlXHJcbiAgICAgICAgICovXHJcbiAgICAgICAgX3dyYXBMaW5lTm9kZXM6IGZ1bmN0aW9uIChlbGVtZW50LCBuZXdJbm5lck5vZGUsIHZhbGlkYXRpb24pIHtcclxuICAgICAgICAgICAgKGZ1bmN0aW9uIHJlY3Vyc2lvbkZ1bmMoY3VycmVudCwgbm9kZSkge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgY2hpbGROb2RlcyA9IGN1cnJlbnQuY2hpbGROb2RlcztcclxuXHJcbiAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gMCwgbGVuID0gY2hpbGROb2Rlcy5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xyXG4gICAgICAgICAgICAgICAgICAgIGxldCBjaGlsZCA9IGNoaWxkTm9kZXNbaV07XHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IGNvdmVyTm9kZSA9IG5vZGU7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHZhbGlkYXRpb24oY2hpbGQpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBjbG9uZU5vZGUgPSBjaGlsZC5jbG9uZU5vZGUoZmFsc2UpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBub2RlLmFwcGVuZENoaWxkKGNsb25lTm9kZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjaGlsZC5ub2RlVHlwZSA9PT0gMSkgY292ZXJOb2RlID0gY2xvbmVOb2RlO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICByZWN1cnNpb25GdW5jKGNoaWxkLCBjb3Zlck5vZGUpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KShlbGVtZW50LCBuZXdJbm5lck5vZGUpO1xyXG5cclxuICAgICAgICAgICAgZWxlbWVudC5pbm5lckhUTUwgPSAnJztcclxuICAgICAgICAgICAgZWxlbWVudC5hcHBlbmRDaGlsZChuZXdJbm5lck5vZGUpO1xyXG4gICAgICAgIH0sXHJcblxyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIEBkZXNjcmlwdGlvbiB3cmFwcyBmaXJzdCBsaW5lIHNlbGVjdGVkIHRleHQuXHJcbiAgICAgICAgICogQHBhcmFtIHtlbGVtZW50fSBlbGVtZW50IC0gVGhlIG5vZGUgb2YgdGhlIGxpbmUgdGhhdCBjb250YWlucyB0aGUgc2VsZWN0ZWQgdGV4dCBub2RlLlxyXG4gICAgICAgICAqIEBwYXJhbSB7ZWxlbWVudH0gbmV3SW5uZXJOb2RlIC0gVGhlIGRvbSB0aGF0IHdpbGwgd3JhcCB0aGUgc2VsZWN0ZWQgdGV4dCBhcmVhXHJcbiAgICAgICAgICogQHBhcmFtIHtmdW5jdGlvbn0gdmFsaWRhdGlvbiAtIENoZWNrIGlmIHRoZSBub2RlIHNob3VsZCBiZSBzdHJpcHBlZC5cclxuICAgICAgICAgKiBAcGFyYW0ge2VsZW1lbnR9IHN0YXJ0Q29uIC0gVGhlIHN0YXJ0Q29udGFpbmVyIHByb3BlcnR5IG9mIHRoZSBzZWxlY3Rpb24gb2JqZWN0LlxyXG4gICAgICAgICAqIEBwYXJhbSB7bnVtYmVyfSBzdGFydE9mZiAtIFRoZSBzdGFydE9mZnNldCBwcm9wZXJ0eSBvZiB0aGUgc2VsZWN0aW9uIG9iamVjdC5cclxuICAgICAgICAgKiBAcmV0dXJucyB7e2NvbnRhaW5lcjogKiwgb2Zmc2V0OiAqfX1cclxuICAgICAgICAgKiBAcHJpdmF0ZVxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIF93cmFwTGluZU5vZGVzU3RhcnQ6IGZ1bmN0aW9uIChlbGVtZW50LCBuZXdJbm5lck5vZGUsIHZhbGlkYXRpb24sIHN0YXJ0Q29uLCBzdGFydE9mZikge1xyXG4gICAgICAgICAgICBjb25zdCBlbCA9IGVsZW1lbnQ7XHJcbiAgICAgICAgICAgIGNvbnN0IHBOb2RlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnUCcpO1xyXG5cclxuICAgICAgICAgICAgbGV0IGNvbnRhaW5lciA9IHN0YXJ0Q29uO1xyXG4gICAgICAgICAgICBsZXQgb2Zmc2V0ID0gc3RhcnRPZmY7XHJcbiAgICAgICAgICAgIGxldCBwYXNzTm9kZSA9IGZhbHNlO1xyXG4gICAgICAgICAgICBsZXQgcEN1cnJlbnQsIG5ld05vZGUsIGFwcGVuZE5vZGU7XHJcblxyXG4gICAgICAgICAgICAoZnVuY3Rpb24gcmVjdXJzaW9uRnVuYyhjdXJyZW50LCBub2RlKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBjaGlsZE5vZGVzID0gY3VycmVudC5jaGlsZE5vZGVzO1xyXG4gICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IDAsIGxlbiA9IGNoaWxkTm9kZXMubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBjaGlsZCA9IGNoaWxkTm9kZXNbaV07XHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IGNvdmVyTm9kZSA9IG5vZGU7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChwYXNzTm9kZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoY2hpbGQubm9kZVR5cGUgPT09IDEpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlY3Vyc2lvbkZ1bmMoY2hpbGQsIGNoaWxkKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBuZXdOb2RlID0gY2hpbGQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHBDdXJyZW50ID0gW107XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHdoaWxlIChuZXdOb2RlLnBhcmVudE5vZGUgIT09IG51bGwgJiYgbmV3Tm9kZSAhPT0gZWwgJiYgbmV3Tm9kZSAhPT0gbmV3SW5uZXJOb2RlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodmFsaWRhdGlvbihuZXdOb2RlKSAmJiBuZXdOb2RlLm5vZGVUeXBlID09PSAxKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcEN1cnJlbnQucHVzaChuZXdOb2RlLmNsb25lTm9kZShmYWxzZSkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3Tm9kZSA9IG5ld05vZGUucGFyZW50Tm9kZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHBDdXJyZW50Lmxlbmd0aCA+IDApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFwcGVuZE5vZGUgPSBuZXdOb2RlID0gcEN1cnJlbnQucG9wKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB3aGlsZSAocEN1cnJlbnQubGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5ld05vZGUgPSBwQ3VycmVudC5wb3AoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhcHBlbmROb2RlLmFwcGVuZENoaWxkKG5ld05vZGUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3SW5uZXJOb2RlLmFwcGVuZENoaWxkKGFwcGVuZE5vZGUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbm9kZSA9IG5ld05vZGU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBub2RlID0gbmV3SW5uZXJOb2RlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAvLyBzdGFydENvbnRhaW5lclxyXG4gICAgICAgICAgICAgICAgICAgIGlmICghcGFzc05vZGUgJiYgY2hpbGQgPT09IGNvbnRhaW5lcikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBwcmV2Tm9kZSA9IGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKGNvbnRhaW5lci5zdWJzdHJpbmdEYXRhKDAsIG9mZnNldCkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB0ZXh0Tm9kZSA9IGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKGNvbnRhaW5lci5zdWJzdHJpbmdEYXRhKG9mZnNldCwgKGNvbnRhaW5lci5sZW5ndGggLSBvZmZzZXQpKSk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAocHJldk5vZGUuZGF0YS5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBub2RlLmFwcGVuZENoaWxkKHByZXZOb2RlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgbmV3Tm9kZSA9IG5vZGU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHBDdXJyZW50ID0gW107XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHdoaWxlIChuZXdOb2RlICE9PSBwTm9kZSAmJiBuZXdOb2RlICE9PSBudWxsKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodmFsaWRhdGlvbihuZXdOb2RlKSAmJiBuZXdOb2RlLm5vZGVUeXBlID09PSAxKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcEN1cnJlbnQucHVzaChuZXdOb2RlLmNsb25lTm9kZShmYWxzZSkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3Tm9kZSA9IG5ld05vZGUucGFyZW50Tm9kZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgYXBwZW5kTm9kZSA9IG5ld05vZGUgPSBwQ3VycmVudC5wb3AoKSB8fCBub2RlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB3aGlsZSAocEN1cnJlbnQubGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3Tm9kZSA9IHBDdXJyZW50LnBvcCgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYXBwZW5kTm9kZS5hcHBlbmRDaGlsZChuZXdOb2RlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGFwcGVuZE5vZGUgIT09IG5vZGUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5ld0lubmVyTm9kZS5hcHBlbmRDaGlsZChhcHBlbmROb2RlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5vZGUgPSBuZXdOb2RlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbm9kZSA9IG5ld0lubmVyTm9kZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgcE5vZGUuYXBwZW5kQ2hpbGQobmV3SW5uZXJOb2RlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29udGFpbmVyID0gdGV4dE5vZGU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG9mZnNldCA9IDA7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHBhc3NOb2RlID0gdHJ1ZTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG5vZGUuYXBwZW5kQ2hpbGQoY29udGFpbmVyKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29udGludWU7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICBpZiAoIXBhc3NOb2RlIHx8IHZhbGlkYXRpb24oY2hpbGQpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGNsb25lTm9kZSA9IGNoaWxkLmNsb25lTm9kZShmYWxzZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG5vZGUuYXBwZW5kQ2hpbGQoY2xvbmVOb2RlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGNoaWxkLm5vZGVUeXBlID09PSAxKSBjb3Zlck5vZGUgPSBjbG9uZU5vZGU7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICByZWN1cnNpb25GdW5jKGNoaWxkLCBjb3Zlck5vZGUpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KShlbGVtZW50LCBwTm9kZSk7XHJcblxyXG4gICAgICAgICAgICBlbGVtZW50LnBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKHBOb2RlLCBlbGVtZW50KTtcclxuICAgICAgICAgICAgdGhpcy51dGlsLnJlbW92ZUl0ZW0oZWxlbWVudCk7XHJcblxyXG4gICAgICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICAgICAgY29udGFpbmVyOiBjb250YWluZXIsXHJcbiAgICAgICAgICAgICAgICBvZmZzZXQ6IG9mZnNldFxyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgIH0sXHJcblxyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIEBkZXNjcmlwdGlvbiB3cmFwcyBsYXN0IGxpbmUgc2VsZWN0ZWQgdGV4dC5cclxuICAgICAgICAgKiBAcGFyYW0ge2VsZW1lbnR9IGVsZW1lbnQgLSBUaGUgbm9kZSBvZiB0aGUgbGluZSB0aGF0IGNvbnRhaW5zIHRoZSBzZWxlY3RlZCB0ZXh0IG5vZGUuXHJcbiAgICAgICAgICogQHBhcmFtIHtlbGVtZW50fSBuZXdJbm5lck5vZGUgLSBUaGUgZG9tIHRoYXQgd2lsbCB3cmFwIHRoZSBzZWxlY3RlZCB0ZXh0IGFyZWFcclxuICAgICAgICAgKiBAcGFyYW0ge2Z1bmN0aW9ufSB2YWxpZGF0aW9uIC0gQ2hlY2sgaWYgdGhlIG5vZGUgc2hvdWxkIGJlIHN0cmlwcGVkLlxyXG4gICAgICAgICAqIEBwYXJhbSB7ZWxlbWVudH0gZW5kQ29uIC0gVGhlIGVuZENvbnRhaW5lciBwcm9wZXJ0eSBvZiB0aGUgc2VsZWN0aW9uIG9iamVjdC5cclxuICAgICAgICAgKiBAcGFyYW0ge251bWJlcn0gZW5kT2ZmIC0gVGhlIGVuZE9mZnNldCBwcm9wZXJ0eSBvZiB0aGUgc2VsZWN0aW9uIG9iamVjdC5cclxuICAgICAgICAgKiBAcmV0dXJucyB7e2NvbnRhaW5lcjogKiwgb2Zmc2V0OiAqfX1cclxuICAgICAgICAgKiBAcHJpdmF0ZVxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIF93cmFwTGluZU5vZGVzRW5kOiBmdW5jdGlvbiAoZWxlbWVudCwgbmV3SW5uZXJOb2RlLCB2YWxpZGF0aW9uLCBlbmRDb24sIGVuZE9mZikge1xyXG4gICAgICAgICAgICBjb25zdCBlbCA9IGVsZW1lbnQ7XHJcbiAgICAgICAgICAgIGNvbnN0IHBOb2RlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnUCcpO1xyXG5cclxuICAgICAgICAgICAgbGV0IGNvbnRhaW5lciA9IGVuZENvbjtcclxuICAgICAgICAgICAgbGV0IG9mZnNldCA9IGVuZE9mZjtcclxuICAgICAgICAgICAgbGV0IHBhc3NOb2RlID0gZmFsc2U7XHJcbiAgICAgICAgICAgIGxldCBwQ3VycmVudCwgbmV3Tm9kZSwgYXBwZW5kTm9kZTtcclxuXHJcbiAgICAgICAgICAgIChmdW5jdGlvbiByZWN1cnNpb25GdW5jKGN1cnJlbnQsIG5vZGUpIHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGNoaWxkTm9kZXMgPSBjdXJyZW50LmNoaWxkTm9kZXM7XHJcbiAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gY2hpbGROb2Rlcy5sZW5ndGggLTE7IDAgPD0gaTsgaS0tKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgY2hpbGQgPSBjaGlsZE5vZGVzW2ldO1xyXG4gICAgICAgICAgICAgICAgICAgIGxldCBjb3Zlck5vZGUgPSBub2RlO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBpZiAocGFzc05vZGUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGNoaWxkLm5vZGVUeXBlID09PSAxKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZWN1cnNpb25GdW5jKGNoaWxkLCBjaGlsZCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgbmV3Tm9kZSA9IGNoaWxkO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBwQ3VycmVudCA9IFtdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB3aGlsZSAobmV3Tm9kZS5wYXJlbnROb2RlICE9PSBudWxsICYmIG5ld05vZGUgIT09IGVsICYmIG5ld05vZGUgIT09IG5ld0lubmVyTm9kZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHZhbGlkYXRpb24obmV3Tm9kZSkgJiYgbmV3Tm9kZS5ub2RlVHlwZSA9PT0gMSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBDdXJyZW50LnB1c2gobmV3Tm9kZS5jbG9uZU5vZGUoZmFsc2UpKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5ld05vZGUgPSBuZXdOb2RlLnBhcmVudE5vZGU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChwQ3VycmVudC5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhcHBlbmROb2RlID0gbmV3Tm9kZSA9IHBDdXJyZW50LnBvcCgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgd2hpbGUgKHBDdXJyZW50Lmxlbmd0aCA+IDApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXdOb2RlID0gcEN1cnJlbnQucG9wKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYXBwZW5kTm9kZS5pbnNlcnRCZWZvcmUobmV3Tm9kZSwgYXBwZW5kTm9kZS5maXJzdENoaWxkKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5ld0lubmVyTm9kZS5pbnNlcnRCZWZvcmUoYXBwZW5kTm9kZSwgbmV3SW5uZXJOb2RlLmZpcnN0Q2hpbGQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbm9kZSA9IG5ld05vZGU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBub2RlID0gbmV3SW5uZXJOb2RlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAvLyBlbmRDb250YWluZXJcclxuICAgICAgICAgICAgICAgICAgICBpZiAoIXBhc3NOb2RlICYmIGNoaWxkID09PSBjb250YWluZXIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgYWZ0ZXJOb2RlID0gZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoY29udGFpbmVyLnN1YnN0cmluZ0RhdGEob2Zmc2V0LCAoY29udGFpbmVyLmxlbmd0aCAtIG9mZnNldCkpKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdGV4dE5vZGUgPSBkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShjb250YWluZXIuc3Vic3RyaW5nRGF0YSgwLCBvZmZzZXQpKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChhZnRlck5vZGUuZGF0YS5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBub2RlLmluc2VydEJlZm9yZShhZnRlck5vZGUsIG5vZGUuZmlyc3RDaGlsZCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG5ld05vZGUgPSBub2RlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBwQ3VycmVudCA9IFtdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB3aGlsZSAobmV3Tm9kZSAhPT0gcE5vZGUgJiYgbmV3Tm9kZSAhPT0gbnVsbCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHZhbGlkYXRpb24obmV3Tm9kZSkgJiYgbmV3Tm9kZS5ub2RlVHlwZSA9PT0gMSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBDdXJyZW50LnB1c2gobmV3Tm9kZS5jbG9uZU5vZGUoZmFsc2UpKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5ld05vZGUgPSBuZXdOb2RlLnBhcmVudE5vZGU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGFwcGVuZE5vZGUgPSBuZXdOb2RlID0gcEN1cnJlbnQucG9wKCkgfHwgbm9kZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgd2hpbGUgKHBDdXJyZW50Lmxlbmd0aCA+IDApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5ld05vZGUgPSBwQ3VycmVudC5wb3AoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFwcGVuZE5vZGUuaW5zZXJ0QmVmb3JlKG5ld05vZGUsIGFwcGVuZE5vZGUuZmlyc3RDaGlsZCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChhcHBlbmROb2RlICE9PSBub2RlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXdJbm5lck5vZGUuaW5zZXJ0QmVmb3JlKGFwcGVuZE5vZGUsIG5ld0lubmVyTm9kZS5maXJzdENoaWxkKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5vZGUgPSBuZXdOb2RlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbm9kZSA9IG5ld0lubmVyTm9kZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgcE5vZGUuaW5zZXJ0QmVmb3JlKG5ld0lubmVyTm9kZSwgcE5vZGUuZmlyc3RDaGlsZCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRhaW5lciA9IHRleHROb2RlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBvZmZzZXQgPSB0ZXh0Tm9kZS5kYXRhLmxlbmd0aDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcGFzc05vZGUgPSB0cnVlO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgbm9kZS5pbnNlcnRCZWZvcmUoY29udGFpbmVyLCBub2RlLmZpcnN0Q2hpbGQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGlmICghcGFzc05vZGUgfHwgdmFsaWRhdGlvbihjaGlsZCkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgY2xvbmVOb2RlID0gY2hpbGQuY2xvbmVOb2RlKGZhbHNlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbm9kZS5pbnNlcnRCZWZvcmUoY2xvbmVOb2RlLCBub2RlLmZpcnN0Q2hpbGQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoY2hpbGQubm9kZVR5cGUgPT09IDEpIGNvdmVyTm9kZSA9IGNsb25lTm9kZTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIHJlY3Vyc2lvbkZ1bmMoY2hpbGQsIGNvdmVyTm9kZSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pKGVsZW1lbnQsIHBOb2RlKTtcclxuXHJcbiAgICAgICAgICAgIGVsZW1lbnQucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUocE5vZGUsIGVsZW1lbnQpO1xyXG4gICAgICAgICAgICB0aGlzLnV0aWwucmVtb3ZlSXRlbShlbGVtZW50KTtcclxuXHJcbiAgICAgICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgICAgICBjb250YWluZXI6IGNvbnRhaW5lcixcclxuICAgICAgICAgICAgICAgIG9mZnNldDogb2Zmc2V0XHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgfSxcclxuXHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogQGRlc2NyaXB0aW9uIFRoaXMgZnVuY3Rpb24gaW1wbGVtZW50cyBpbmRlbnRhdGlvbi5cclxuICAgICAgICAgKiBTZXQgXCJtYXJnaW4tbGVmdFwiIHRvIFwiMjVweFwiIGluIHRoZSB0b3AgXCJQXCIgdGFnIG9mIHRoZSBwYXJhbWV0ZXIgbm9kZS5cclxuICAgICAgICAgKiBAcGFyYW0gbm9kZSB7Tm9kZX0gLSBUaGUgbm9kZSB0byBpbmRlbnQgKGVkaXRvci5fdmFyaWFibGUuc2VsZWN0aW9uTm9kZSlcclxuICAgICAgICAgKiBAcGFyYW0gY29tbWFuZCB7U3RyaW5nfSAtIFNlcGFyYXRvciAoXCJpbmRlbnRcIiBvciBcIm91dGRlbnRcIilcclxuICAgICAgICAgKi9cclxuICAgICAgICBpbmRlbnQ6IGZ1bmN0aW9uIChub2RlLCBjb21tYW5kKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IHAgPSB0aGlzLnV0aWwuZ2V0UGFyZW50RWxlbWVudChub2RlLCAnUCcpO1xyXG4gICAgICAgICAgICBpZiAoIXApIHJldHVybjtcclxuXHJcbiAgICAgICAgICAgIGxldCBtYXJnaW4gPSAvXFxkKy8udGVzdChwLnN0eWxlLm1hcmdpbkxlZnQpID8gcC5zdHlsZS5tYXJnaW5MZWZ0Lm1hdGNoKC9cXGQrLylbMF0gKiAxIDogMDtcclxuXHJcbiAgICAgICAgICAgIGlmICgnaW5kZW50JyA9PT0gY29tbWFuZCkge1xyXG4gICAgICAgICAgICAgICAgbWFyZ2luICs9IDI1O1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgbWFyZ2luIC09IDI1O1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBwLnN0eWxlLm1hcmdpbkxlZnQgPSAobWFyZ2luIDwgMCA/IDAgOiBtYXJnaW4pICsgJ3B4JztcclxuICAgICAgICB9LFxyXG5cclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBAZGVzY3JpcHRpb24gQWRkIG9yIHJlbW92ZSB0aGUgY2xhc3MgbmFtZSBvZiBcImJvZHlcIiBzbyB0aGF0IHRoZSBjb2RlIGJsb2NrIGlzIHZpc2libGVcclxuICAgICAgICAgKi9cclxuICAgICAgICB0b2dnbGVEaXNwbGF5QmxvY2tzOiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHRoaXMudXRpbC50b2dnbGVDbGFzcyhjb250ZXh0LmVsZW1lbnQud3lzaXd5ZywgJ3N1bi1lZGl0b3Itc2hvdy1ibG9jaycpO1xyXG4gICAgICAgIH0sXHJcblxyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIEBkZXNjcmlwdGlvbiBDaGFuZ2VzIHRvIGNvZGUgdmlldyBvciB3eXNpd3lnIHZpZXdcclxuICAgICAgICAgKi9cclxuICAgICAgICB0b2dnbGVDb2RlVmlldzogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBpZiAoIXRoaXMuX3ZhcmlhYmxlLnd5c2l3eWdBY3RpdmUpIHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGVjID0geycmYW1wOyc6ICcmJywgJyZuYnNwOyc6ICdcXHUwMEEwJywgXCImcXVvdDtcIjogXCInXCIsICcmbHQ7JzogJzwnLCAnJmd0Oyc6ICc+J307XHJcbiAgICAgICAgICAgICAgICBjb25zdCBjb2RlX2h0bWwgPSBjb250ZXh0LmVsZW1lbnQuY29kZS52YWx1ZS5yZXBsYWNlKC8mW2Etel0rOy9nLCBmdW5jdGlvbiAobSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiAodHlwZW9mIGVjW21dID09PSAnc3RyaW5nJykgPyBlY1ttXSA6IG07XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIGNvbnRleHQuZWxlbWVudC53eXNpd3lnLmlubmVySFRNTCA9IGNvZGVfaHRtbC50cmltKCkubGVuZ3RoID4gMCA/IGNvZGVfaHRtbCA6ICc8cD4mIzY1Mjc5PC9wPic7XHJcbiAgICAgICAgICAgICAgICBjb250ZXh0LmVsZW1lbnQud3lzaXd5Zy5zY3JvbGxUb3AgPSAwO1xyXG4gICAgICAgICAgICAgICAgY29udGV4dC5lbGVtZW50LmNvZGUuc3R5bGUuZGlzcGxheSA9ICdub25lJztcclxuICAgICAgICAgICAgICAgIGNvbnRleHQuZWxlbWVudC53eXNpd3lnLnN0eWxlLmRpc3BsYXkgPSAnYmxvY2snO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5fdmFyaWFibGUud3lzaXd5Z0FjdGl2ZSA9IHRydWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBjb250ZXh0LmVsZW1lbnQuY29kZS52YWx1ZSA9IGNvbnRleHQuZWxlbWVudC53eXNpd3lnLmlubmVySFRNTC50cmltKCkucmVwbGFjZSgvPFxcL3A+KD89W15cXG5dKS9naSwgJzxcXC9wPlxcbicpO1xyXG4gICAgICAgICAgICAgICAgY29udGV4dC5lbGVtZW50Lnd5c2l3eWcuc3R5bGUuZGlzcGxheSA9ICdub25lJztcclxuICAgICAgICAgICAgICAgIGNvbnRleHQuZWxlbWVudC5jb2RlLnN0eWxlLmRpc3BsYXkgPSAnYmxvY2snO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5fdmFyaWFibGUud3lzaXd5Z0FjdGl2ZSA9IGZhbHNlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSxcclxuXHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogQGRlc2NyaXB0aW9uIENoYW5nZXMgdG8gZnVsbCBzY3JlZW4gb3IgZGVmYXVsdCBzY3JlZW5cclxuICAgICAgICAgKiBAcGFyYW0ge2VsZW1lbnR9IGVsZW1lbnQgLSBmdWxsIHNjcmVlbiBidXR0b25cclxuICAgICAgICAgKi9cclxuICAgICAgICB0b2dnbGVGdWxsU2NyZWVuOiBmdW5jdGlvbiAoZWxlbWVudCkge1xyXG4gICAgICAgICAgICBpZiAoIXRoaXMuX3ZhcmlhYmxlLmlzRnVsbFNjcmVlbikge1xyXG4gICAgICAgICAgICAgICAgY29udGV4dC5lbGVtZW50LnRvcEFyZWEuc3R5bGUucG9zaXRpb24gPSAnZml4ZWQnO1xyXG4gICAgICAgICAgICAgICAgY29udGV4dC5lbGVtZW50LnRvcEFyZWEuc3R5bGUudG9wID0gJzAnO1xyXG4gICAgICAgICAgICAgICAgY29udGV4dC5lbGVtZW50LnRvcEFyZWEuc3R5bGUubGVmdCA9ICcwJztcclxuICAgICAgICAgICAgICAgIGNvbnRleHQuZWxlbWVudC50b3BBcmVhLnN0eWxlLndpZHRoID0gJzEwMCUnO1xyXG4gICAgICAgICAgICAgICAgY29udGV4dC5lbGVtZW50LnRvcEFyZWEuc3R5bGUuaGVpZ2h0ID0gJzEwMCUnO1xyXG5cclxuICAgICAgICAgICAgICAgIHRoaXMuX3ZhcmlhYmxlLmlubmVySGVpZ2h0X2Z1bGxTY3JlZW4gPSAod2luZG93LmlubmVySGVpZ2h0IC0gY29udGV4dC50b29sLmJhci5vZmZzZXRIZWlnaHQpO1xyXG4gICAgICAgICAgICAgICAgY29udGV4dC5lbGVtZW50LmVkaXRvckFyZWEuc3R5bGUuaGVpZ2h0ID0gdGhpcy5fdmFyaWFibGUuaW5uZXJIZWlnaHRfZnVsbFNjcmVlbiArICdweCc7XHJcblxyXG4gICAgICAgICAgICAgICAgdGhpcy51dGlsLnJlbW92ZUNsYXNzKGVsZW1lbnQuZmlyc3RFbGVtZW50Q2hpbGQsICdpY29uLWV4cGFuc2lvbicpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy51dGlsLmFkZENsYXNzKGVsZW1lbnQuZmlyc3RFbGVtZW50Q2hpbGQsICdpY29uLXJlZHVjdGlvbicpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgY29udGV4dC5lbGVtZW50LnRvcEFyZWEuc3R5bGUuY3NzVGV4dCA9IHRoaXMuX3ZhcmlhYmxlLm9yaWdpbkNzc1RleHQ7XHJcbiAgICAgICAgICAgICAgICBjb250ZXh0LmVsZW1lbnQuZWRpdG9yQXJlYS5zdHlsZS5oZWlnaHQgPSB0aGlzLl92YXJpYWJsZS5lZGl0b3JIZWlnaHQgKyAncHgnO1xyXG5cclxuICAgICAgICAgICAgICAgIHRoaXMudXRpbC5yZW1vdmVDbGFzcyhlbGVtZW50LmZpcnN0RWxlbWVudENoaWxkLCAnaWNvbi1yZWR1Y3Rpb24nKTtcclxuICAgICAgICAgICAgICAgIHRoaXMudXRpbC5hZGRDbGFzcyhlbGVtZW50LmZpcnN0RWxlbWVudENoaWxkLCAnaWNvbi1leHBhbnNpb24nKTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgdGhpcy5fdmFyaWFibGUuaXNGdWxsU2NyZWVuID0gIXRoaXMuX3ZhcmlhYmxlLmlzRnVsbFNjcmVlbjtcclxuICAgICAgICB9LFxyXG5cclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBAZGVzY3JpcHRpb24gT3BlbnMgdGhlIHByZXZpZXcgd2luZG93XHJcbiAgICAgICAgICovXHJcbiAgICAgICAgb3BlblByZXZpZXc6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgY29uc3QgV2luZG93T2JqZWN0ID0gd2luZG93Lm9wZW4oJycsICdfYmxhbmsnKTtcclxuICAgICAgICAgICAgV2luZG93T2JqZWN0Lm1pbWVUeXBlID0gJ3RleHQvaHRtbCc7XHJcbiAgICAgICAgICAgIFdpbmRvd09iamVjdC5kb2N1bWVudC5oZWFkLmlubmVySFRNTCA9ICcnICtcclxuICAgICAgICAgICAgICAgICc8bWV0YSBjaGFyc2V0PVwidXRmLThcIiAvPicgK1xyXG4gICAgICAgICAgICAgICAgJzxtZXRhIG5hbWU9XCJ2aWV3cG9ydFwiIGNvbnRlbnQ9XCJ3aWR0aD1kZXZpY2Utd2lkdGgsIGluaXRpYWwtc2NhbGU9MVwiPicgK1xyXG4gICAgICAgICAgICAgICAgJzx0aXRsZT4nICsgbGFuZy50b29sYmFyLnByZXZpZXcgKyAnPC90aXRsZT4nICtcclxuICAgICAgICAgICAgICAgICc8bGluayByZWw9XCJzdHlsZXNoZWV0XCIgdHlwZT1cInRleHQvY3NzXCIgaHJlZj1cIicgKyB0aGlzLnV0aWwuZ2V0QmFzZVBhdGggKyAnY3NzL3N1bmVkaXRvci5jc3NcIj4nO1xyXG4gICAgICAgICAgICBXaW5kb3dPYmplY3QuZG9jdW1lbnQuYm9keS5jbGFzc05hbWUgPSAnc3VuLWVkaXRvci1lZGl0YWJsZSc7XHJcbiAgICAgICAgICAgIFdpbmRvd09iamVjdC5kb2N1bWVudC5ib2R5LmlubmVySFRNTCA9IGNvbnRleHQuZWxlbWVudC53eXNpd3lnLmlubmVySFRNTDtcclxuICAgICAgICB9LFxyXG5cclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBAZGVzY3JpcHRpb24gUHJpbnQgdGhlIGVkaXRvciBjb250ZW50c1xyXG4gICAgICAgICAqL1xyXG4gICAgICAgIHByaW50OiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IFdpbmRvd09iamVjdCA9IHdpbmRvdy5vcGVuKCcnLCAnX2JsYW5rJyk7XHJcbiAgICAgICAgICAgIFdpbmRvd09iamVjdC5taW1lVHlwZSA9ICd0ZXh0L2h0bWwnO1xyXG4gICAgICAgICAgICBXaW5kb3dPYmplY3QuZG9jdW1lbnQuaGVhZC5pbm5lckhUTUwgPSAnJyArXHJcbiAgICAgICAgICAgICc8bWV0YSBjaGFyc2V0PVwidXRmLThcIiAvPicgK1xyXG4gICAgICAgICAgICAnPG1ldGEgbmFtZT1cInZpZXdwb3J0XCIgY29udGVudD1cIndpZHRoPWRldmljZS13aWR0aCwgaW5pdGlhbC1zY2FsZT0xXCI+JyArXHJcbiAgICAgICAgICAgICc8dGl0bGU+JyArIGxhbmcudG9vbGJhci5wcmludCArICc8L3RpdGxlPicgK1xyXG4gICAgICAgICAgICAnPGxpbmsgcmVsPVwic3R5bGVzaGVldFwiIHR5cGU9XCJ0ZXh0L2Nzc1wiIGhyZWY9XCInICsgdGhpcy51dGlsLmdldEJhc2VQYXRoICsgJ2Nzcy9zdW5lZGl0b3IuY3NzXCI+JyArXHJcbiAgICAgICAgICAgICc8c2NyaXB0PndpbmRvdy5vbmxvYWQgPSBmdW5jdGlvbiAoKSB7IHdpbmRvdy5wcmludCgpIH08L3NjcmlwdD4nO1xyXG4gICAgICAgICAgICBXaW5kb3dPYmplY3QuZG9jdW1lbnQuYm9keS5jbGFzc05hbWUgPSAnc3VuLWVkaXRvci1lZGl0YWJsZSc7XHJcbiAgICAgICAgICAgIFdpbmRvd09iamVjdC5kb2N1bWVudC5ib2R5LmlubmVySFRNTCA9IGNvbnRleHQuZWxlbWVudC53eXNpd3lnLmlubmVySFRNTDtcclxuICAgICAgICAgICAgV2luZG93T2JqZWN0Lm9ubG9hZCA9IGZ1bmN0aW9uICgpIHthbGVydCgxKX1cclxuICAgICAgICB9XHJcbiAgICB9O1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogQGRlc2NyaXB0aW9uIGV2ZW50IGZ1bmN0aW9uXHJcbiAgICAgKi9cclxuICAgIGNvbnN0IGV2ZW50ID0ge1xyXG4gICAgICAgIF9zaG9ydGN1dEtleUNvZGU6IHtcclxuICAgICAgICAgICAgNjY6IFsnYm9sZCcsICdCJ10sXHJcbiAgICAgICAgICAgIDgzOiBbJ3N0cmlrZXRocm91Z2gnLCAnU1RSSUtFJ10sXHJcbiAgICAgICAgICAgIDg1OiBbJ3VuZGVybGluZScsICdVJ10sXHJcbiAgICAgICAgICAgIDczOiBbJ2l0YWxpYycsICdJJ10sXHJcbiAgICAgICAgICAgIDg5OiBbJ3JlZG8nXSxcclxuICAgICAgICAgICAgOTA6IFsndW5kbyddLFxyXG4gICAgICAgICAgICAyMTk6IFsnb3V0ZGVudCddLFxyXG4gICAgICAgICAgICAyMjE6IFsnaW5kZW50J11cclxuICAgICAgICB9LFxyXG5cclxuICAgICAgICBfZGlyZWN0aW9uS2V5S2V5Q29kZTogbmV3IFJlZ0V4cCgnXig/Ojh8MTN8MzJ8NDZ8MzN8MzR8MzV8MzZ8Mzd8Mzh8Mzl8NDB8OTh8MTAwfDEwMnwxMDQpJCcpLFxyXG5cclxuICAgICAgICBfY2hhbmdlQnV0dG9uQ2xhc3NUYWdDaGVjazogbmV3IFJlZ0V4cCgnXig/OkJ8VXxJfFNUUklLRXxTVUJ8U1VQKSQnKSxcclxuXHJcbiAgICAgICAgX2ZpbmRCdXR0b25FZmZlY3RUYWc6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgY29uc3QgY29tbWFuZE1hcCA9IGVkaXRvci5jb21tYW5kTWFwO1xyXG4gICAgICAgICAgICBjb25zdCBjbGFzc09uQ2hlY2sgPSB0aGlzLl9jaGFuZ2VCdXR0b25DbGFzc1RhZ0NoZWNrO1xyXG4gICAgICAgICAgICBjb25zdCBjb21tYW5kTWFwTm9kZXMgPSBbXTtcclxuICAgICAgICAgICAgY29uc3QgY3VycmVudE5vZGVzID0gW107XHJcblxyXG4gICAgICAgICAgICBsZXQgZmluZEZvcm1hdCA9IHRydWUsIGZpbmRGb250ID0gdHJ1ZSwgZmluZFNpemUgPSB0cnVlLCBmaW5kQSA9IHRydWU7XHJcbiAgICAgICAgICAgIGxldCBmaW5kQiA9IHRydWUsIGZpbmRJID0gdHJ1ZSwgZmluZFUgPSB0cnVlLCBmaW5kUyA9IHRydWU7XHJcbiAgICAgICAgICAgIGxldCBjc3NUZXh0ID0gJycsIG5vZGVOYW1lID0gJyc7XHJcblxyXG4gICAgICAgICAgICBmb3IgKGxldCBzZWxlY3Rpb25QYXJlbnQgPSBlZGl0b3IuX3ZhcmlhYmxlLnNlbGVjdGlvbk5vZGU7ICF1dGlsLmlzV3lzaXd5Z0RpdihzZWxlY3Rpb25QYXJlbnQpOyBzZWxlY3Rpb25QYXJlbnQgPSBzZWxlY3Rpb25QYXJlbnQucGFyZW50Tm9kZSkge1xyXG4gICAgICAgICAgICAgICAgaWYgKHNlbGVjdGlvblBhcmVudC5ub2RlVHlwZSAhPT0gMSkgY29udGludWU7XHJcbiAgICAgICAgICAgICAgICBub2RlTmFtZSA9IHNlbGVjdGlvblBhcmVudC5ub2RlTmFtZS50b1VwcGVyQ2FzZSgpO1xyXG4gICAgICAgICAgICAgICAgY3VycmVudE5vZGVzLnB1c2gobm9kZU5hbWUpO1xyXG5cclxuICAgICAgICAgICAgICAgIC8qKiBGb3JtYXQgKi9cclxuICAgICAgICAgICAgICAgIGlmIChmaW5kRm9ybWF0ICYmIHV0aWwuaXNGb3JtYXRFbGVtZW50KHNlbGVjdGlvblBhcmVudCkpIHtcclxuICAgICAgICAgICAgICAgICAgICBjb21tYW5kTWFwTm9kZXMucHVzaCgnRk9STUFUJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgZWRpdG9yLnV0aWwuY2hhbmdlVHh0KGNvbW1hbmRNYXBbJ0ZPUk1BVCddLCBub2RlTmFtZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgZmluZEZvcm1hdCA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIC8qKiBGb250ICovXHJcbiAgICAgICAgICAgICAgICBpZiAoZmluZEZvbnQgJiYgKHNlbGVjdGlvblBhcmVudC5zdHlsZS5mb250RmFtaWx5Lmxlbmd0aCA+IDAgfHwgKHNlbGVjdGlvblBhcmVudC5mYWNlICYmIHNlbGVjdGlvblBhcmVudC5mYWNlLmxlbmd0aCA+IDApKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbW1hbmRNYXBOb2Rlcy5wdXNoKCdGT05UJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3Qgc2VsZWN0Rm9udCA9IChzZWxlY3Rpb25QYXJlbnQuc3R5bGUuZm9udEZhbWlseSB8fCBzZWxlY3Rpb25QYXJlbnQuZmFjZSB8fCBsYW5nLnRvb2xiYXIuZm9udCkucmVwbGFjZSgvW1wiJ10vZywnJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgZWRpdG9yLnV0aWwuY2hhbmdlVHh0KGNvbW1hbmRNYXBbJ0ZPTlQnXSwgc2VsZWN0Rm9udCk7XHJcbiAgICAgICAgICAgICAgICAgICAgZmluZEZvbnQgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAvKiogQSAqL1xyXG4gICAgICAgICAgICAgICAgaWYgKGZpbmRBICYmIC9eQSQvLnRlc3Qobm9kZU5hbWUpICYmIHNlbGVjdGlvblBhcmVudC5nZXRBdHRyaWJ1dGUoJ2RhdGEtaW1hZ2UtbGluaycpID09PSBudWxsKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFjb250ZXh0LmxpbmsgfHwgZWRpdG9yLmNvbnRyb2xsZXJBcnJheVswXSAhPT0gY29udGV4dC5saW5rLmxpbmtCdG4pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZWRpdG9yLmNhbGxNb2R1bGUoJ2xpbmsnLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlZGl0b3IucGx1Z2lucy5saW5rLmNhbGxfY29udHJvbGxlcl9saW5rQnV0dG9uLmNhbGwoZWRpdG9yLCBzZWxlY3Rpb25QYXJlbnQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgZmluZEEgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoZmluZEEgJiYgY29udGV4dC5saW5rICYmIGVkaXRvci5jb250cm9sbGVyQXJyYXlbMF0gPT09IGNvbnRleHQubGluay5saW5rQnRuKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZWRpdG9yLmNvbnRyb2xsZXJzT2ZmKCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgLyoqIFNQQU4gKi9cclxuICAgICAgICAgICAgICAgIGlmIChmaW5kU2l6ZSAmJiAvXlNQQU4kLy50ZXN0KG5vZGVOYW1lKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIC8qKiBmb250IHNpemUgKi9cclxuICAgICAgICAgICAgICAgICAgICBpZiAoc2VsZWN0aW9uUGFyZW50LnN0eWxlLmZvbnRTaXplLmxlbmd0aCA+IDApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29tbWFuZE1hcE5vZGVzLnB1c2goJ1NJWkUnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZWRpdG9yLnV0aWwuY2hhbmdlVHh0KGNvbW1hbmRNYXBbJ1NJWkUnXSwgc2VsZWN0aW9uUGFyZW50LnN0eWxlLmZvbnRTaXplLm1hdGNoKC9cXGQrLylbMF0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBmaW5kU2l6ZSA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAvKiogY29tbWFuZCBtYXAgKi9cclxuICAgICAgICAgICAgICAgIGNzc1RleHQgPSBzZWxlY3Rpb25QYXJlbnQuc3R5bGUuY3NzVGV4dDtcclxuICAgICAgICAgICAgICAgIGlmIChmaW5kQiAmJiAvZm9udFxcLXdlaWdodFxccyo6XFxzKig/OlxcZCt8Ym9sZHxib2xkZXIpKD86O3xcXHN8KS8udGVzdChjc3NUZXh0KSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbW1hbmRNYXBOb2Rlcy5wdXNoKCdCJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgZmluZEIgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGlmIChmaW5kSSAmJiAvZm9udFxcLXN0eWxlXFxzKjpcXHMqKD86aXRhbGljfG9ibGlxdWUpKD86O3xcXHMpLy50ZXN0KGNzc1RleHQpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29tbWFuZE1hcE5vZGVzLnB1c2goJ0knKTtcclxuICAgICAgICAgICAgICAgICAgICBmaW5kSSA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYgKGZpbmRVICYmIC90ZXh0XFwtZGVjb3JhdGlvbig/OlxcLWxpbmUpP1xccyo6XFxzKnVuZGVybGluZSg/Ojt8XFxzfCkvLnRlc3QoY3NzVGV4dCkpIHtcclxuICAgICAgICAgICAgICAgICAgICBjb21tYW5kTWFwTm9kZXMucHVzaCgnVScpO1xyXG4gICAgICAgICAgICAgICAgICAgIGZpbmRVID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZiAoZmluZFMgJiYgL3RleHRcXC1kZWNvcmF0aW9uKD86XFwtbGluZSk/XFxzKjpcXHMqbGluZS10aHJvdWdoKD86O3xcXHN8KS8udGVzdChjc3NUZXh0KSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbW1hbmRNYXBOb2Rlcy5wdXNoKCdTVFJJS0UnKTtcclxuICAgICAgICAgICAgICAgICAgICBmaW5kUyA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIGNvbW1hbmRNYXBOb2Rlcy5wdXNoKCgvXlNUUk9ORyQvLnRlc3Qobm9kZU5hbWUpID8gJ0InIDogL15FTSQvLnRlc3Qobm9kZU5hbWUpID8gJ0knIDogbm9kZU5hbWUpKTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgLyoqIEEgVGFnIGVkaXQgY29udHJvbGxlciBvZmYgKi9cclxuICAgICAgICAgICAgaWYgKGZpbmRBKSBlZGl0b3IuY29udHJvbGxlcnNPZmYoKTtcclxuXHJcbiAgICAgICAgICAgIC8qKiB0b2dnbGUgY2xhc3Mgb24gKi9cclxuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBjb21tYW5kTWFwTm9kZXMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgIG5vZGVOYW1lID0gY29tbWFuZE1hcE5vZGVzW2ldO1xyXG4gICAgICAgICAgICAgICAgaWYgKGNsYXNzT25DaGVjay50ZXN0KG5vZGVOYW1lKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGVkaXRvci51dGlsLmFkZENsYXNzKGNvbW1hbmRNYXBbbm9kZU5hbWVdLCAnb24nKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgLyoqIHJlbW92ZSBjbGFzcywgZGlzcGxheSB0ZXh0ICovXHJcbiAgICAgICAgICAgIGZvciAobGV0IGtleSBpbiBjb21tYW5kTWFwKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoY29tbWFuZE1hcE5vZGVzLmluZGV4T2Yoa2V5KSA+IC0xKSBjb250aW51ZTtcclxuICAgICAgICAgICAgICAgIGlmICgvXkZPTlQvaS50ZXN0KGtleSkpIHtcclxuICAgICAgICAgICAgICAgICAgICBlZGl0b3IudXRpbC5jaGFuZ2VUeHQoY29tbWFuZE1hcFtrZXldLCBsYW5nLnRvb2xiYXIuZm9udCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIGlmICgvXlNJWkUkL2kudGVzdChrZXkpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZWRpdG9yLnV0aWwuY2hhbmdlVHh0KGNvbW1hbmRNYXBba2V5XSwgbGFuZy50b29sYmFyLmZvbnRTaXplKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIGVkaXRvci51dGlsLnJlbW92ZUNsYXNzKGNvbW1hbmRNYXBba2V5XSwgJ29uJyk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIC8qKiBzYXZlIGN1cnJlbnQgbm9kZXMgKi9cclxuICAgICAgICAgICAgZWRpdG9yLl92YXJpYWJsZS5jdXJyZW50Tm9kZXMgPSBjdXJyZW50Tm9kZXMucmV2ZXJzZSgpO1xyXG5cclxuICAgICAgICAgICAgLyoqICBEaXNwbGF5cyB0aGUgY3VycmVudCBub2RlIHN0cnVjdHVyZSB0byByZXNpemViYXIgKi9cclxuICAgICAgICAgICAgaWYgKGNvbnRleHQudXNlci5zaG93UGF0aExhYmVsKSBjb250ZXh0LmVsZW1lbnQubmF2aWdhdGlvbi50ZXh0Q29udGVudCA9IGVkaXRvci5fdmFyaWFibGUuY3VycmVudE5vZGVzLmpvaW4oJyA+ICcpO1xyXG4gICAgICAgIH0sXHJcblxyXG4gICAgICAgIHJlc2l6ZV93aW5kb3c6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgaWYgKGVkaXRvci5fdmFyaWFibGUuaXNGdWxsU2NyZWVuKSB7XHJcbiAgICAgICAgICAgICAgICBlZGl0b3IuX3ZhcmlhYmxlLmlubmVySGVpZ2h0X2Z1bGxTY3JlZW4gKz0gKHdpbmRvdy5pbm5lckhlaWdodCAtIGNvbnRleHQudG9vbC5iYXIub2Zmc2V0SGVpZ2h0KSAtIGVkaXRvci5fdmFyaWFibGUuaW5uZXJIZWlnaHRfZnVsbFNjcmVlbjtcclxuICAgICAgICAgICAgICAgIGNvbnRleHQuZWxlbWVudC5lZGl0b3JBcmVhLnN0eWxlLmhlaWdodCA9IGVkaXRvci5fdmFyaWFibGUuaW5uZXJIZWlnaHRfZnVsbFNjcmVlbiArICdweCc7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9LFxyXG5cclxuICAgICAgICB0b3VjaHN0YXJ0X3Rvb2xiYXI6IGZ1bmN0aW9uIChlKSB7XHJcbiAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICAgICAgZWRpdG9yLl92YXJpYWJsZS5pc1RvdWNoTW92ZSA9IGZhbHNlO1xyXG4gICAgICAgIH0sXHJcblxyXG4gICAgICAgIHRvdWNobW92ZV90b29sYmFyOiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIGVkaXRvci5fdmFyaWFibGUuaXNUb3VjaE1vdmUgPSB0cnVlO1xyXG4gICAgICAgIH0sXHJcblxyXG4gICAgICAgIG9uTW91c2VEb3duX3Rvb2xiYXI6IGZ1bmN0aW9uIChlKSB7XHJcbiAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICB9LFxyXG5cclxuICAgICAgICBvbkNsaWNrX3Rvb2xiYXI6IGZ1bmN0aW9uIChlKSB7XHJcbiAgICAgICAgICAgIGlmIChlZGl0b3IuX3ZhcmlhYmxlLmlzVG91Y2hNb3ZlKSByZXR1cm4gdHJ1ZTtcclxuXHJcbiAgICAgICAgICAgIGxldCB0YXJnZXQgPSBlLnRhcmdldDtcclxuICAgICAgICAgICAgbGV0IGRpc3BsYXkgPSB0YXJnZXQuZ2V0QXR0cmlidXRlKCdkYXRhLWRpc3BsYXknKTtcclxuICAgICAgICAgICAgbGV0IGNvbW1hbmQgPSB0YXJnZXQuZ2V0QXR0cmlidXRlKCdkYXRhLWNvbW1hbmQnKTtcclxuICAgICAgICAgICAgbGV0IGNsYXNzTmFtZSA9IHRhcmdldC5jbGFzc05hbWU7XHJcblxyXG4gICAgICAgICAgICB3aGlsZSAoIWNvbW1hbmQgJiYgIS9lZGl0b3JfdG9vbC8udGVzdChjbGFzc05hbWUpICYmICEvc3VuLWVkaXRvci1pZC10b29sYmFyLy50ZXN0KGNsYXNzTmFtZSkpIHtcclxuICAgICAgICAgICAgICAgIHRhcmdldCA9IHRhcmdldC5wYXJlbnROb2RlO1xyXG4gICAgICAgICAgICAgICAgY29tbWFuZCA9IHRhcmdldC5nZXRBdHRyaWJ1dGUoJ2RhdGEtY29tbWFuZCcpO1xyXG4gICAgICAgICAgICAgICAgZGlzcGxheSA9IHRhcmdldC5nZXRBdHRyaWJ1dGUoJ2RhdGEtZGlzcGxheScpO1xyXG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lID0gdGFyZ2V0LmNsYXNzTmFtZTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgaWYgKCFjb21tYW5kICYmICFkaXNwbGF5KSByZXR1cm4gdHJ1ZTtcclxuXHJcbiAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcclxuXHJcbiAgICAgICAgICAgIGVkaXRvci5zdWJtZW51T2ZmKCk7XHJcbiAgICAgICAgICAgIGVkaXRvci5mb2N1cygpO1xyXG5cclxuICAgICAgICAgICAgLyoqIERpYWxvZywgU3VibWVudSAqL1xyXG4gICAgICAgICAgICBpZiAoZGlzcGxheSkge1xyXG4gICAgICAgICAgICAgICAgaWYgKC9zdWJtZW51Ly50ZXN0KGRpc3BsYXkpICYmICh0YXJnZXQubmV4dEVsZW1lbnRTaWJsaW5nID09PSBudWxsIHx8IHRhcmdldC5uZXh0RWxlbWVudFNpYmxpbmcgIT09IGVkaXRvci5zdWJtZW51KSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGVkaXRvci5jYWxsTW9kdWxlKGNvbW1hbmQsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZWRpdG9yLnN1Ym1lbnVPbih0YXJnZXQpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoL2RpYWxvZy8udGVzdChkaXNwbGF5KSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGVkaXRvci5jYWxsTW9kdWxlKGNvbW1hbmQsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZWRpdG9yLnBsdWdpbnMuZGlhbG9nLm9wZW5EaWFsb2cuY2FsbChlZGl0b3IsIGNvbW1hbmQsIHRhcmdldC5nZXRBdHRyaWJ1dGUoJ2RhdGEtb3B0aW9uJyksIGZhbHNlKTtcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIC8qKiBkZWZhdWx0IGNvbW1hbmQgKi9cclxuICAgICAgICAgICAgaWYgKGNvbW1hbmQpIHtcclxuICAgICAgICAgICAgICAgIHN3aXRjaCAoY29tbWFuZCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgJ2NvZGVWaWV3JzpcclxuICAgICAgICAgICAgICAgICAgICAgICAgZWRpdG9yLnRvZ2dsZUNvZGVWaWV3KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVkaXRvci51dGlsLnRvZ2dsZUNsYXNzKHRhcmdldCwgJ29uJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgJ2Z1bGxTY3JlZW4nOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICBlZGl0b3IudG9nZ2xlRnVsbFNjcmVlbih0YXJnZXQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBlZGl0b3IudXRpbC50b2dnbGVDbGFzcyh0YXJnZXQsICdvbicpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICBjYXNlICdpbmRlbnQnOlxyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgJ291dGRlbnQnOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICBlZGl0b3IuaW5kZW50KGVkaXRvci5fdmFyaWFibGUuc2VsZWN0aW9uTm9kZSwgY29tbWFuZCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgJ3JlZG8nOlxyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgJ3VuZG8nOlxyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgJ3JlbW92ZUZvcm1hdCc6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVkaXRvci5leGVjQ29tbWFuZChjb21tYW5kLCBmYWxzZSwgbnVsbCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgJ3ByZXZpZXcnOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICBlZGl0b3Iub3BlblByZXZpZXcoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAncHJpbnQnOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICBlZGl0b3IucHJpbnQoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAnc2hvd0Jsb2Nrcyc6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVkaXRvci50b2dnbGVEaXNwbGF5QmxvY2tzKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVkaXRvci51dGlsLnRvZ2dsZUNsYXNzKHRhcmdldCwgJ29uJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgJ3N1YnNjcmlwdCc6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlZGl0b3IudXRpbC5oYXNDbGFzcyhjb250ZXh0LnRvb2wuc3VwZXJzY3JpcHQsICdvbicpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlZGl0b3IuZXhlY0NvbW1hbmQoJ3N1cGVyc2NyaXB0JywgZmFsc2UsIG51bGwpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZWRpdG9yLnV0aWwucmVtb3ZlQ2xhc3MoY29udGV4dC50b29sLnN1cGVyc2NyaXB0LCAnb24nKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBlZGl0b3IuZXhlY0NvbW1hbmQoY29tbWFuZCwgZmFsc2UsIG51bGwpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBlZGl0b3IudXRpbC50b2dnbGVDbGFzcyh0YXJnZXQsICdvbicpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICBjYXNlICdzdXBlcnNjcmlwdCc6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlZGl0b3IudXRpbC5oYXNDbGFzcyhjb250ZXh0LnRvb2wuc3Vic2NyaXB0LCAnb24nKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZWRpdG9yLmV4ZWNDb21tYW5kKCdzdWJzY3JpcHQnLCBmYWxzZSwgbnVsbCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlZGl0b3IudXRpbC5yZW1vdmVDbGFzcyhjb250ZXh0LnRvb2wuc3Vic2NyaXB0LCAnb24nKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBlZGl0b3IuZXhlY0NvbW1hbmQoY29tbWFuZCwgZmFsc2UsIG51bGwpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBlZGl0b3IudXRpbC50b2dnbGVDbGFzcyh0YXJnZXQsICdvbicpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICBkZWZhdWx0IDpcclxuICAgICAgICAgICAgICAgICAgICAgICAgZWRpdG9yLmV4ZWNDb21tYW5kKGNvbW1hbmQsIGZhbHNlLCB0YXJnZXQuZ2V0QXR0cmlidXRlKCdkYXRhLXZhbHVlJykpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBlZGl0b3IudXRpbC50b2dnbGVDbGFzcyh0YXJnZXQsICdvbicpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSxcclxuXHJcbiAgICAgICAgb25Nb3VzZVVwX3d5c2l3eWc6IGZ1bmN0aW9uIChlKSB7XHJcbiAgICAgICAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XHJcblxyXG4gICAgICAgICAgICBjb25zdCB0YXJnZXRFbGVtZW50ID0gZS50YXJnZXQ7XHJcbiAgICAgICAgICAgIGVkaXRvci5zdWJtZW51T2ZmKCk7XHJcblxyXG4gICAgICAgICAgICBpZiAoL15IVE1MJC9pLnRlc3QodGFyZ2V0RWxlbWVudC5ub2RlTmFtZSkpIHtcclxuICAgICAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICAgICAgICAgIGVkaXRvci5mb2N1cygpO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBpZiAoL15JTUckL2kudGVzdCh0YXJnZXRFbGVtZW50Lm5vZGVOYW1lKSkge1xyXG4gICAgICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgICAgICAgICAgZWRpdG9yLmNhbGxNb2R1bGUoJ2ltYWdlJywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHNpemUgPSBlZGl0b3IucGx1Z2lucy5kaWFsb2cuY2FsbF9jb250cm9sbGVyX3Jlc2l6ZS5jYWxsKGVkaXRvciwgdGFyZ2V0RWxlbWVudCwgJ2ltYWdlJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgZWRpdG9yLnBsdWdpbnMuaW1hZ2Uub25Nb2RpZnlNb2RlLmNhbGwoZWRpdG9yLCB0YXJnZXRFbGVtZW50LCBzaXplKTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBlZGl0b3IuX3NldEVkaXRvclJhbmdlKCk7XHJcbiAgICAgICAgICAgIGV2ZW50Ll9maW5kQnV0dG9uRWZmZWN0VGFnKCk7XHJcbiAgICAgICAgfSxcclxuXHJcbiAgICAgICAgb25LZXlEb3duX3d5c2l3eWc6IGZ1bmN0aW9uIChlKSB7XHJcbiAgICAgICAgICAgIC8vIGVkaXRvci5fc2V0U2VsZWN0aW9uTm9kZSgpO1xyXG5cclxuICAgICAgICAgICAgY29uc3Qga2V5Q29kZSA9IGUua2V5Q29kZTtcclxuICAgICAgICAgICAgY29uc3Qgc2hpZnQgPSBlLnNoaWZ0S2V5O1xyXG4gICAgICAgICAgICBjb25zdCBjdHJsID0gZS5jdHJsS2V5IHx8IGUubWV0YUtleTtcclxuICAgICAgICAgICAgY29uc3QgYWx0ID0gZS5hbHRLZXk7XHJcbiAgICAgICAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XHJcblxyXG4gICAgICAgICAgICBmdW5jdGlvbiBzaG9ydGN1dENvbW1hbmQoa2V5Q29kZSkge1xyXG4gICAgICAgICAgICAgICAgY29uc3Qga2V5ID0gZXZlbnQuX3Nob3J0Y3V0S2V5Q29kZVtrZXlDb2RlXTtcclxuICAgICAgICAgICAgICAgIGlmICgha2V5KSByZXR1cm4gZmFsc2U7XHJcblxyXG4gICAgICAgICAgICAgICAgZWRpdG9yLmV4ZWNDb21tYW5kKGtleVswXSwgZmFsc2UsIG51bGwpO1xyXG4gICAgICAgICAgICAgICAgZWRpdG9yLnV0aWwudG9nZ2xlQ2xhc3MoZWRpdG9yLmNvbW1hbmRNYXBba2V5WzFdXSwgJ29uJyk7XHJcblxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIC8qKiBTaG9ydGN1dHMgKi9cclxuICAgICAgICAgICAgaWYgKGN0cmwgJiYgIS9eKD86MTZ8MTd8MTgpJC8udGVzdChrZXlDb2RlKSkge1xyXG4gICAgICAgICAgICAgICAgaWYgKCEoc2hpZnQgJiYga2V5Q29kZSAhPT0gODMpICYmIHNob3J0Y3V0Q29tbWFuZChrZXlDb2RlKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIC8qKiBkZWZhdWx0IGtleSBhY3Rpb24gKi9cclxuICAgICAgICAgICAgc3dpdGNoIChrZXlDb2RlKSB7XHJcbiAgICAgICAgICAgICAgICBjYXNlIDg6IC8qKmJhY2tzcGFjZSBrZXkqL1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICh1dGlsLmlzRm9ybWF0RWxlbWVudChlZGl0b3IuX3ZhcmlhYmxlLnNlbGVjdGlvbk5vZGUpICYmIGVkaXRvci5fdmFyaWFibGUuc2VsZWN0aW9uTm9kZS5wcmV2aW91c1NpYmxpbmcgPT09IG51bGwpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBlZGl0b3IuX3ZhcmlhYmxlLnNlbGVjdGlvbk5vZGUuaW5uZXJIVE1MID0gJyYjNjUyNzknO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgY2FzZSA5OlxyXG4gICAgICAgICAgICAgICAgICAgIC8qKnRhYiBrZXkqL1xyXG4gICAgICAgICAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoY3RybCB8fCBhbHQpIGJyZWFrO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBsZXQgY3VycmVudE5vZGUgPSBlZGl0b3IuX3ZhcmlhYmxlLnNlbGVjdGlvbk5vZGUgfHwgZWRpdG9yLmdldFNlbGVjdGlvbk5vZGUoKTtcclxuICAgICAgICAgICAgICAgICAgICB3aGlsZSAoIS9eVEQkL2kudGVzdChjdXJyZW50Tm9kZS50YWdOYW1lKSAmJiAhdXRpbC5pc1d5c2l3eWdEaXYoY3VycmVudE5vZGUpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnROb2RlID0gY3VycmVudE5vZGUucGFyZW50Tm9kZTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChjdXJyZW50Tm9kZSAmJiAvXlREJC9pLnRlc3QoY3VycmVudE5vZGUudGFnTmFtZSkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdGFibGUgPSBlZGl0b3IudXRpbC5nZXRQYXJlbnRFbGVtZW50KGN1cnJlbnROb2RlLCAndGFibGUnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgY2VsbHMgPSBlZGl0b3IudXRpbC5nZXRMaXN0Q2hpbGRyZW4odGFibGUsIGVkaXRvci51dGlsLmlzQ2VsbCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBpZHggPSBzaGlmdCA/IGVkaXRvci51dGlsLnByZXZJZHgoY2VsbHMsIGN1cnJlbnROb2RlKSA6IGVkaXRvci51dGlsLm5leHRJZHgoY2VsbHMsIGN1cnJlbnROb2RlKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpZHggPT09IGNlbGxzLmxlbmd0aCAmJiAhc2hpZnQpIGlkeCA9IDA7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpZHggPT09IC0xICYmIHNoaWZ0KSBpZHggPSBjZWxscy5sZW5ndGggLSAxO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgbW92ZUNlbGwgPSBjZWxsc1tpZHhdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIW1vdmVDZWxsKSByZXR1cm4gZmFsc2U7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBlaWR0b3Iuc2V0UmFuZ2UobW92ZUNlbGwsIDAsIG1vdmVDZWxsLCAwKVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAvKiogaWYgUCBUYWcgKi9cclxuICAgICAgICAgICAgICAgICAgICBpZiAoc2hpZnQpIGJyZWFrO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBjb25zdCB0YWJUZXh0ID0gZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUobmV3IEFycmF5KGVkaXRvci5fdmFyaWFibGUudGFiU2l6ZSArIDEpLmpvaW4oJ1xcdTAwQTAnKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgZWRpdG9yLmluc2VydE5vZGUodGFiVGV4dCk7XHJcbiAgICAgICAgICAgICAgICAgICAgZWRpdG9yLnNldFJhbmdlKHRhYlRleHQsIGVkaXRvci5fdmFyaWFibGUudGFiU2l6ZSwgdGFiVGV4dCwgZWRpdG9yLl92YXJpYWJsZS50YWJTaXplKVxyXG5cclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0sXHJcblxyXG4gICAgICAgIG9uS2V5VXBfd3lzaXd5ZzogZnVuY3Rpb24gKGUpIHtcclxuICAgICAgICAgICAgZWRpdG9yLl9zZXRFZGl0b3JSYW5nZSgpO1xyXG5cclxuICAgICAgICAgICAgLyoqIHdoZW4gZm9ybWF0IHRhZyBkZWxldGVkICovXHJcbiAgICAgICAgICAgIGlmIChlLmtleUNvZGUgPT09IDggJiYgdXRpbC5pc1d5c2l3eWdEaXYoZWRpdG9yLl92YXJpYWJsZS5zZWxlY3Rpb25Ob2RlKSkge1xyXG4gICAgICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgICAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcclxuXHJcbiAgICAgICAgICAgICAgICBjb25zdCBvRm9ybWF0VGFnID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChlZGl0b3IuX3ZhcmlhYmxlLmN1cnJlbnROb2Rlc1swXSk7XHJcbiAgICAgICAgICAgICAgICBvRm9ybWF0VGFnLmlubmVySFRNTCA9ICcmIzY1Mjc5JztcclxuXHJcbiAgICAgICAgICAgICAgICBlZGl0b3IuX3ZhcmlhYmxlLnNlbGVjdGlvbk5vZGUuYXBwZW5kQ2hpbGQob0Zvcm1hdFRhZyk7XHJcbiAgICAgICAgICAgICAgICBlZGl0b3IuX3ZhcmlhYmxlLnNlbGVjdGlvbk5vZGUgPSBvRm9ybWF0VGFnO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBpZiAoZXZlbnQuX2RpcmVjdGlvbktleUtleUNvZGUudGVzdChlLmtleUNvZGUpKSB7XHJcbiAgICAgICAgICAgICAgICBldmVudC5fZmluZEJ1dHRvbkVmZmVjdFRhZygpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSxcclxuXHJcbiAgICAgICAgb25TY3JvbGxfd3lzaXd5ZzogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBlZGl0b3IuY29udHJvbGxlcnNPZmYoKTtcclxuICAgICAgICB9LFxyXG5cclxuICAgICAgICBvbkRyb3Bfd3lzaXd5ZzogZnVuY3Rpb24gKGUpIHtcclxuICAgICAgICAgICAgY29uc3QgZmlsZXMgPSBlLmRhdGFUcmFuc2Zlci5maWxlcztcclxuXHJcbiAgICAgICAgICAgIGlmIChmaWxlcy5sZW5ndGggPT09IDApIHJldHVybiB0cnVlO1xyXG5cclxuICAgICAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcclxuICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG5cclxuICAgICAgICAgICAgZWRpdG9yLmZvY3VzKCk7XHJcblxyXG4gICAgICAgICAgICBlZGl0b3IuY2FsbE1vZHVsZSgnaW1hZ2UnLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICBjb250ZXh0LmltYWdlLmltZ0lucHV0RmlsZS5maWxlcyA9IGZpbGVzO1xyXG4gICAgICAgICAgICAgICAgZWRpdG9yLnBsdWdpbnMuaW1hZ2Uub25SZW5kZXJfaW1nSW5wdXQuY2FsbChlZGl0b3IpO1xyXG4gICAgICAgICAgICAgICAgY29udGV4dC5pbWFnZS5pbWdJbnB1dEZpbGUuZmlsZXMgPSBudWxsO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9LFxyXG5cclxuICAgICAgICBvbk1vdXNlRG93bl9yZXNpemVCYXI6IGZ1bmN0aW9uIChlKSB7XHJcbiAgICAgICAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XHJcblxyXG4gICAgICAgICAgICBlZGl0b3IuX3ZhcmlhYmxlLnJlc2l6ZUNsaWVudFkgPSBlLmNsaWVudFk7XHJcbiAgICAgICAgICAgIGNvbnRleHQuZWxlbWVudC5yZXNpemVCYWNrZ3JvdW5kLnN0eWxlLmRpc3BsYXkgPSAnYmxvY2snO1xyXG5cclxuICAgICAgICAgICAgZnVuY3Rpb24gY2xvc3VyZUZ1bmMoKSB7XHJcbiAgICAgICAgICAgICAgICBjb250ZXh0LmVsZW1lbnQucmVzaXplQmFja2dyb3VuZC5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xyXG4gICAgICAgICAgICAgICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcignbW91c2Vtb3ZlJywgZXZlbnQucmVzaXplX2VkaXRvcik7XHJcbiAgICAgICAgICAgICAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdtb3VzZXVwJywgY2xvc3VyZUZ1bmMpO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdtb3VzZW1vdmUnLCBldmVudC5yZXNpemVfZWRpdG9yKTtcclxuICAgICAgICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignbW91c2V1cCcsIGNsb3N1cmVGdW5jKTtcclxuICAgICAgICB9LFxyXG5cclxuICAgICAgICByZXNpemVfZWRpdG9yOiBmdW5jdGlvbiAoZSkge1xyXG4gICAgICAgICAgICBjb25zdCByZXNpemVJbnRlcnZhbCA9IChlLmNsaWVudFkgLSBlZGl0b3IuX3ZhcmlhYmxlLnJlc2l6ZUNsaWVudFkpO1xyXG5cclxuICAgICAgICAgICAgY29udGV4dC5lbGVtZW50LmVkaXRvckFyZWEuc3R5bGUuaGVpZ2h0ID0gKGNvbnRleHQuZWxlbWVudC5lZGl0b3JBcmVhLm9mZnNldEhlaWdodCArIHJlc2l6ZUludGVydmFsKSArICdweCc7XHJcbiAgICAgICAgICAgIGVkaXRvci5fdmFyaWFibGUuZWRpdG9ySGVpZ2h0ID0gKGNvbnRleHQuZWxlbWVudC5lZGl0b3JBcmVhLm9mZnNldEhlaWdodCArIHJlc2l6ZUludGVydmFsKTtcclxuXHJcbiAgICAgICAgICAgIGVkaXRvci5fdmFyaWFibGUucmVzaXplQ2xpZW50WSA9IGUuY2xpZW50WTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG5cclxuICAgIC8qKiBhZGQgZXZlbnQgbGlzdGVuZXJzICovXHJcbiAgICAvKiogdG9vbCBiYXIgZXZlbnQgKi9cclxuICAgIGNvbnRleHQudG9vbC5iYXIuYWRkRXZlbnRMaXN0ZW5lcigndG91Y2hzdGFydCcsIGV2ZW50LnRvdWNoc3RhcnRfdG9vbGJhciwgZmFsc2UpO1xyXG4gICAgY29udGV4dC50b29sLmJhci5hZGRFdmVudExpc3RlbmVyKCd0b3VjaG1vdmUnLCBldmVudC50b3VjaG1vdmVfdG9vbGJhciwgZmFsc2UpO1xyXG4gICAgY29udGV4dC50b29sLmJhci5hZGRFdmVudExpc3RlbmVyKCd0b3VjaGVuZCcsIGV2ZW50Lm9uQ2xpY2tfdG9vbGJhciwgZmFsc2UpO1xyXG4gICAgY29udGV4dC50b29sLmJhci5hZGRFdmVudExpc3RlbmVyKCdtb3VzZWRvd24nLCBldmVudC5vbk1vdXNlRG93bl90b29sYmFyLCBmYWxzZSk7XHJcbiAgICBjb250ZXh0LnRvb2wuYmFyLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZXZlbnQub25DbGlja190b29sYmFyLCBmYWxzZSk7XHJcbiAgICAvKiogZWRpdG9yIGFyZWEgKi9cclxuICAgIGNvbnRleHQuZWxlbWVudC53eXNpd3lnLmFkZEV2ZW50TGlzdGVuZXIoJ3Njcm9sbCcsIGV2ZW50Lm9uU2Nyb2xsX3d5c2l3eWcsIGZhbHNlKTtcclxuICAgIGNvbnRleHQuZWxlbWVudC53eXNpd3lnLmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNldXAnLCBldmVudC5vbk1vdXNlVXBfd3lzaXd5ZywgZmFsc2UpO1xyXG4gICAgY29udGV4dC5lbGVtZW50Lnd5c2l3eWcuYWRkRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIGV2ZW50Lm9uS2V5RG93bl93eXNpd3lnLCBmYWxzZSk7XHJcbiAgICBjb250ZXh0LmVsZW1lbnQud3lzaXd5Zy5hZGRFdmVudExpc3RlbmVyKCdrZXl1cCcsIGV2ZW50Lm9uS2V5VXBfd3lzaXd5ZywgZmFsc2UpO1xyXG4gICAgY29udGV4dC5lbGVtZW50Lnd5c2l3eWcuYWRkRXZlbnRMaXN0ZW5lcignZHJvcCcsIGV2ZW50Lm9uRHJvcF93eXNpd3lnLCBmYWxzZSk7XHJcbiAgICAvKiogcmVzaXplIGJhciAqL1xyXG4gICAgY29udGV4dC5lbGVtZW50LnJlc2l6ZWJhci5hZGRFdmVudExpc3RlbmVyKCdtb3VzZWRvd24nLCBldmVudC5vbk1vdXNlRG93bl9yZXNpemVCYXIsIGZhbHNlKTtcclxuICAgIC8qKiB3aW5kb3cgcmVzaXplIGV2ZW50ICovXHJcbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigncmVzaXplJywgZXZlbnQucmVzaXplX3dpbmRvdywgZmFsc2UpO1xyXG5cclxuICAgIC8qKiBhZGQgcGx1Z2luIGFuZCBtb2R1bGUgdG8gcGx1Z2lucyBvYmplY3QgKi9cclxuICAgIC8qKiBtb2R1bGVzICovXHJcbiAgICBmb3IgKGxldCBpID0gMCwgbGVuID0gbW9kdWxlcy5sZW5ndGgsIHBsdWdpbjsgaSA8IGxlbjsgaSsrKSB7XHJcbiAgICAgICAgcGx1Z2luID0gbW9kdWxlc1tpXTtcclxuICAgICAgICBwbHVnaW4uYWRkKGVkaXRvcik7XHJcbiAgICAgICAgZWRpdG9yLnBsdWdpbnNbcGx1Z2luLm5hbWVdID0gcGx1Z2luO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKiBVc2VyIGZ1bmN0aW9uICovXHJcbiAgICByZXR1cm4ge1xyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIEBkZXNjcmlwdGlvbiBDb3B5aW5nIHRoZSBjb250ZW50cyBvZiB0aGUgZWRpdG9yIHRvIHRoZSBvcmlnaW5hbCB0ZXh0YXJlYVxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIHNhdmU6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgaWYgKGVkaXRvci5fdmFyaWFibGUud3lzaXd5Z0FjdGl2ZSkge1xyXG4gICAgICAgICAgICAgICAgY29udGV4dC5lbGVtZW50Lm9yaWdpbkVsZW1lbnQuaW5uZXJIVE1MID0gY29udGV4dC5lbGVtZW50Lnd5c2l3eWcuaW5uZXJIVE1MO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgY29udGV4dC5lbGVtZW50Lm9yaWdpbkVsZW1lbnQuaW5uZXJIVE1MID0gY29udGV4dC5lbGVtZW50LmNvZGUudmFsdWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9LFxyXG5cclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBAZGVzY3JpcHRpb24gR2V0cyB0aGUgc3VuZWRpdG9yJ3MgY29udGV4dCBvYmplY3QuIENvbnRhaW5zIHNldHRpbmdzLCBwbHVnaW5zLCBhbmQgY2FjaGVkIGVsZW1lbnQgb2JqZWN0c1xyXG4gICAgICAgICAqIEByZXR1cm5zIHtPYmplY3R9XHJcbiAgICAgICAgICovXHJcbiAgICAgICAgZ2V0Q29udGV4dDogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICByZXR1cm4gY29udGV4dDtcclxuICAgICAgICB9LFxyXG5cclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBAZGVzY3JpcHRpb24gR2V0cyB0aGUgY29udGVudHMgb2YgdGhlIHN1bmVkaXRvclxyXG4gICAgICAgICAqIEByZXR1cm5zIHtTdHJpbmd9XHJcbiAgICAgICAgICovXHJcbiAgICAgICAgZ2V0Q29udGVudDogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBsZXQgY29udGVudCA9ICcnO1xyXG5cclxuICAgICAgICAgICAgaWYgKGNvbnRleHQuZWxlbWVudC53eXNpd3lnLmlubmVyVGV4dC50cmltKCkubGVuZ3RoID09PSAwKSByZXR1cm4gY29udGVudDtcclxuXHJcbiAgICAgICAgICAgIGlmIChlZGl0b3IuX3ZhcmlhYmxlLnd5c2l3eWdBY3RpdmUpIHtcclxuICAgICAgICAgICAgICAgIGNvbnRlbnQgPSBjb250ZXh0LmVsZW1lbnQud3lzaXd5Zy5pbm5lckhUTUw7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBjb250ZW50ID0gY29udGV4dC5lbGVtZW50LmNvZGUudmFsdWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuIGNvbnRlbnQ7XHJcbiAgICAgICAgfSxcclxuXHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogQGRlc2NyaXB0aW9uIENoYW5nZSB0aGUgY29udGVudHMgb2YgdGhlIHN1bmVkaXRvclxyXG4gICAgICAgICAqIEBwYXJhbSB7c3RyaW5nfSBjb250ZW50IC0gQ29udGVudCB0byBJbnB1dFxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIHNldENvbnRlbnQ6IGZ1bmN0aW9uIChjb250ZW50KSB7XHJcbiAgICAgICAgICAgIGNvbnN0IGlubmVySFRNTCA9IF9jb252ZXJ0Q29udGVudEZvckVkaXRvcihjb250ZW50KTtcclxuXHJcbiAgICAgICAgICAgIGlmIChlZGl0b3IuX3ZhcmlhYmxlLnd5c2l3eWdBY3RpdmUpIHtcclxuICAgICAgICAgICAgICAgIGNvbnRleHQuZWxlbWVudC53eXNpd3lnLmlubmVySFRNTCA9IGlubmVySFRNTDtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGNvbnRleHQuZWxlbWVudC5jb2RlLnZhbHVlID0gaW5uZXJIVE1MO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSxcclxuXHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogQGRlc2NyaXB0aW9uIEFkZCBjb250ZW50IHRvIHRoZSBzdW5lZGl0b3JcclxuICAgICAgICAgKiBAcGFyYW0ge3N0cmluZ30gY29udGVudCAtIHRvIElucHV0XHJcbiAgICAgICAgICovXHJcbiAgICAgICAgYXBwZW5kQ29udGVudDogZnVuY3Rpb24gKGNvbnRlbnQpIHtcclxuICAgICAgICAgICAgaWYgKGVkaXRvci5fdmFyaWFibGUud3lzaXd5Z0FjdGl2ZSkge1xyXG4gICAgICAgICAgICAgICAgY29uc3Qgb1AgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdQJyk7XHJcbiAgICAgICAgICAgICAgICBvUC5pbm5lckhUTUwgPSBjb250ZW50O1xyXG4gICAgICAgICAgICAgICAgY29udGV4dC5lbGVtZW50Lnd5c2l3eWcuYXBwZW5kQ2hpbGQob1ApO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgY29udGV4dC5lbGVtZW50LmNvZGUudmFsdWUgKz0gb1Aub3V0ZXJIVE1MO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSxcclxuXHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogQGRlc2NyaXB0aW9uIERpc2FibGUgdGhlIHN1bmVkaXRvclxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIGRpc2FibGVkOiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIGNvbnRleHQudG9vbC5jb3Zlci5zdHlsZS5kaXNwbGF5ID0gJ2Jsb2NrJztcclxuICAgICAgICAgICAgY29udGV4dC5lbGVtZW50Lnd5c2l3eWcuc2V0QXR0cmlidXRlKCdjb250ZW50ZWRpdGFibGUnLCBmYWxzZSk7XHJcbiAgICAgICAgfSxcclxuXHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogQGRlc2NyaXB0aW9uIEVuYWJsZWQgdGhlIHN1bmVkaXRvclxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIGVuYWJsZWQ6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgY29udGV4dC50b29sLmNvdmVyLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XHJcbiAgICAgICAgICAgIGNvbnRleHQuZWxlbWVudC53eXNpd3lnLnNldEF0dHJpYnV0ZSgnY29udGVudGVkaXRhYmxlJywgdHJ1ZSk7XHJcbiAgICAgICAgfSxcclxuXHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogQGRlc2NyaXB0aW9uIFNob3cgdGhlIHN1bmVkaXRvclxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIHNob3c6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgY29uc3QgdG9wQXJlYVN0eWxlID0gY29udGV4dC5lbGVtZW50LnRvcEFyZWEuc3R5bGU7XHJcbiAgICAgICAgICAgIHRvcEFyZWFTdHlsZS5jc3NUZXh0ID0gZWRpdG9yLl92YXJpYWJsZS5vcmlnaW5Dc3NUZXh0O1xyXG4gICAgICAgICAgICBpZiAodG9wQXJlYVN0eWxlLmRpc3BsYXkgPT09ICdub25lJykgdG9wQXJlYVN0eWxlLmRpc3BsYXkgPSAnYmxvY2snO1xyXG4gICAgICAgIH0sXHJcblxyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIEBkZXNjcmlwdGlvbiBIaWRlIHRoZSBzdW5lZGl0b3JcclxuICAgICAgICAgKi9cclxuICAgICAgICBoaWRlOiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIGNvbnRleHQuZWxlbWVudC50b3BBcmVhLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XHJcbiAgICAgICAgfSxcclxuXHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogQGRlc2NyaXB0aW9uIERlc3Ryb3kgdGhlIHN1bmVkaXRvclxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIGRlc3Ryb3k6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgLyoqIHJlbW92ZSBldmVudCBsaXN0ZW5lcnMgKi9cclxuICAgICAgICAgICAgY29udGV4dC50b29sLmJhci5yZW1vdmVFdmVudExpc3RlbmVyKCd0b3VjaHN0YXJ0JywgZXZlbnQudG91Y2hzdGFydF90b29sYmFyKTtcclxuICAgICAgICAgICAgY29udGV4dC50b29sLmJhci5yZW1vdmVFdmVudExpc3RlbmVyKCd0b3VjaG1vdmUnLCBldmVudC50b3VjaG1vdmVfdG9vbGJhcik7XHJcbiAgICAgICAgICAgIGNvbnRleHQudG9vbC5iYXIucmVtb3ZlRXZlbnRMaXN0ZW5lcigndG91Y2hlbmQnLCBldmVudC5vbkNsaWNrX3Rvb2xiYXIpO1xyXG4gICAgICAgICAgICBjb250ZXh0LnRvb2wuYmFyLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ21vdXNlZG93bicsIGV2ZW50Lm9uTW91c2VEb3duX3Rvb2xiYXIpO1xyXG4gICAgICAgICAgICBjb250ZXh0LnRvb2wuYmFyLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZXZlbnQub25DbGlja190b29sYmFyKTtcclxuICAgICAgICAgICAgY29udGV4dC5lbGVtZW50Lnd5c2l3eWcucmVtb3ZlRXZlbnRMaXN0ZW5lcignbW91c2V1cCcsIGV2ZW50Lm9uTW91c2VVcF93eXNpd3lnKTtcclxuICAgICAgICAgICAgY29udGV4dC5lbGVtZW50Lnd5c2l3eWcucmVtb3ZlRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIGV2ZW50Lm9uS2V5RG93bl93eXNpd3lnKTtcclxuICAgICAgICAgICAgY29udGV4dC5lbGVtZW50Lnd5c2l3eWcucmVtb3ZlRXZlbnRMaXN0ZW5lcigna2V5dXAnLCBldmVudC5vbktleVVwX3d5c2l3eWcpO1xyXG4gICAgICAgICAgICBjb250ZXh0LmVsZW1lbnQud3lzaXd5Zy5yZW1vdmVFdmVudExpc3RlbmVyKCdzY3JvbGwnLCBldmVudC5vblNjcm9sbF93eXNpd3lnKTtcclxuICAgICAgICAgICAgY29udGV4dC5lbGVtZW50Lnd5c2l3eWcucmVtb3ZlRXZlbnRMaXN0ZW5lcignZHJvcCcsIGV2ZW50Lm9uRHJvcF93eXNpd3lnKTtcclxuICAgICAgICAgICAgY29udGV4dC5lbGVtZW50LnJlc2l6ZWJhci5yZW1vdmVFdmVudExpc3RlbmVyKCdtb3VzZWRvd24nLCBldmVudC5vbk1vdXNlRG93bl9yZXNpemVCYXIpO1xyXG4gICAgICAgICAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcigncmVzaXplJywgZXZlbnQucmVzaXplX3dpbmRvdyk7XHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAvKiogcmVtb3ZlIGVsZW1lbnQgKi9cclxuICAgICAgICAgICAgY29udGV4dC5lbGVtZW50LnRvcEFyZWEucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChjb250ZXh0LmVsZW1lbnQudG9wQXJlYSk7XHJcblxyXG4gICAgICAgICAgICBjb250ZXh0ID0gbnVsbDtcclxuICAgICAgICAgICAgZG9tID0gbnVsbDtcclxuICAgICAgICAgICAgdXRpbCA9IG51bGw7XHJcblxyXG4gICAgICAgICAgICB0aGlzLnNhdmUgPSBudWxsO1xyXG4gICAgICAgICAgICB0aGlzLmdldENvbnRleHQgPSBudWxsO1xyXG4gICAgICAgICAgICB0aGlzLmdldENvbnRlbnQgPSBudWxsO1xyXG4gICAgICAgICAgICB0aGlzLnNldENvbnRlbnQgPSBudWxsO1xyXG4gICAgICAgICAgICB0aGlzLmFwcGVuZENvbnRlbnQgPSBudWxsO1xyXG4gICAgICAgICAgICB0aGlzLmRpc2FibGVkID0gbnVsbDtcclxuICAgICAgICAgICAgdGhpcy5lbmFibGVkID0gbnVsbDtcclxuICAgICAgICAgICAgdGhpcy5zaG93ID0gbnVsbDtcclxuICAgICAgICAgICAgdGhpcy5oaWRlID0gbnVsbDtcclxuICAgICAgICAgICAgdGhpcy5kZXN0cm95ID0gbnVsbDtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG59O1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY29yZTsiXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFFQTs7Ozs7Ozs7OztBQVNBO0FBQ0E7Ozs7QUFJQTtBQUNBOzs7QUFHQTtBQUNBO0FBQ0E7OztBQUdBO0FBQ0E7QUFDQTs7O0FBR0E7QUFDQTtBQUNBOzs7QUFHQTtBQUNBO0FBQ0E7OztBQUdBO0FBQ0E7QUFDQTs7O0FBR0E7QUFDQTtBQUNBOzs7QUFHQTtBQUNBO0FBQ0E7OztBQUdBO0FBQ0E7QUFDQTs7O0FBR0E7QUFDQTtBQUNBOzs7Ozs7Ozs7OztBQVdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBVEE7QUFDQTtBQVdBOzs7Ozs7Ozs7Ozs7Ozs7QUFlQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFYQTtBQUNBO0FBYUE7Ozs7O0FBS0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Ozs7QUFJQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Ozs7OztBQU1BO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQUdBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7O0FBSUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7OztBQUlBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7Ozs7O0FBTUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7Ozs7QUFLQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7Ozs7O0FBS0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBREE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBWEE7QUFhQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7OztBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7Ozs7O0FBT0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBREE7QUFDQTtBQUVBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQVJBO0FBVUE7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBM0NBO0FBNkNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBREE7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQVRBO0FBV0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Ozs7Ozs7Ozs7OztBQVlBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBSkE7QUFNQTtBQUNBO0FBQ0E7Ozs7Ozs7QUFPQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7Ozs7Ozs7O0FBVUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUZBO0FBSUE7QUFDQTtBQUNBOzs7Ozs7Ozs7O0FBVUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUZBO0FBSUE7QUFDQTtBQUNBOzs7Ozs7QUFNQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQUdBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Ozs7QUFJQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFLQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQU1BO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBNWtDQTtBQStrQ0E7Ozs7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQVJBO0FBV0E7QUFFQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBREE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBREE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQURBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFEQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFEQTtBQUVBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQURBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFEQTtBQUVBO0FBQ0E7QUFBQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQURBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUE5Q0E7QUFnREE7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQURBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQURBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQURBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUExQ0E7QUE0Q0E7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBREE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBRUE7QUFDQTtBQUVBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQTlZQTtBQWlaQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFBQTtBQUVBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQURBO0FBQ0E7OztBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7OztBQUlBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Ozs7QUFJQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBOzs7O0FBSUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7OztBQUlBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFBQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFwSUE7QUFzSUE7QUFDQTtBQUNBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/lib/core.js\n");

/***/ }),

/***/ "./src/lib/util.js":
/*!*************************!*\
  !*** ./src/lib/util.js ***!
  \*************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n\n/**\r\n * @description utility function\r\n */\n\nconst util = {\n  /**\r\n   * @description Gets XMLHttpRequest object\r\n   * @returns {Object}\r\n   */\n  getXMLHttpRequest: function () {\n    /** IE */\n    if (window.ActiveXObject) {\n      try {\n        return new ActiveXObject('Msxml2.XMLHTTP');\n      } catch (e) {\n        try {\n          return new ActiveXObject('Microsoft.XMLHTTP');\n        } catch (e1) {\n          return null;\n        }\n      }\n    }\n    /** netscape */\n    else if (window.XMLHttpRequest) {\n        return new XMLHttpRequest();\n      }\n      /** fail */\n      else {\n          return null;\n        }\n  },\n\n  /**\r\n   * @description Get suneditor's default path\r\n   */\n  getBasePath: function () {\n    let path = ''; //SUNEDITOR.SUNEDITOR_BASEPATH || '';\n\n    if (!path) {\n      for (let c = document.getElementsByTagName('script'), i = 0; i < c.length; i++) {\n        let editorTag = c[i].src.match(/(^|.*[\\\\\\/])suneditor(\\..+)?\\.js(?:\\?.*|;.*)?$/i);\n\n        if (editorTag) {\n          path = editorTag[1];\n          break;\n        }\n      }\n    }\n\n    -1 === path.indexOf(':/') && '//' !== path.slice(0, 2) && (path = 0 === path.indexOf('/') ? location.href.match(/^.*?:\\/\\/[^\\/]*/)[0] + path : location.href.match(/^[^\\?]*\\/(?:)/)[0] + path);\n    if (!path) throw '[SUNEDITOR.util.getBasePath.fail] The SUNEDITOR installation path could not be automatically detected. Please set the global variable \"SUNEDITOR.SUNEDITOR_BASEPATH\" before creating editor instances.';\n    return path;\n  }(),\n\n  /**\r\n   * @description It is judged whether it is the edit region top div element.\r\n   * @returns {boolean}\r\n   */\n  isWysiwygDiv: function (element) {\n    if (element && element.nodeType === 1 && this.hasClass(element, 'sun-editor-id-wysiwyg')) return true;\n    return false;\n  },\n\n  /**\r\n   * @description It is judged whether it is the format element.\r\n   * @returns {boolean}\r\n   */\n  isFormatElement: function (element) {\n    if (element && element.nodeType === 1 && /^(?:P|DIV|H\\\\d)$/i.test(element.tagName)) return true;\n    return false;\n  },\n\n  /**\r\n   * @description Get format element of the argument value (P, DIV, Table, H1, H2, H3, H4, H5, H6...Tag whose parent is the \"BODY\")\r\n   * @param {element|null} element - Reference element if null or no value, it is relative to the current focus node.\r\n   * @returns {Element}\r\n   */\n  getFormatElement: function (element) {\n    if (!element) return null;\n\n    if (!element || this.isWysiwygDiv(element)) {\n      element = context.element.wysiwyg.firstChild;\n    } else {\n      while (!this.isWysiwygDiv(element.parentNode)) {\n        element = element.parentNode;\n      }\n    }\n\n    return element;\n  },\n\n  /**\r\n   * @description Get the index of the argument value in the element array\r\n   * @param {array} array - element array\r\n   * @param {element} element - Element to find index\r\n   * @returns {Number}\r\n   */\n  getArrayIndex: function (array, element) {\n    let idx = -1;\n\n    for (let i = 0, len = array.length; i < len; i++) {\n      if (array[i] === element) {\n        idx = i;\n        break;\n      }\n    }\n\n    return idx;\n  },\n\n  /**\r\n   * @description Get the next index of the argument value in the element array\r\n   * @param {array} array - element array\r\n   * @param {element} item - Element to find index\r\n   * @returns {Number}\r\n   */\n  nextIdx: function (array, item) {\n    let idx = this.getArrayIndex(array, item);\n    if (idx === -1) return -1;\n    return idx + 1;\n  },\n\n  /**\r\n   * @description Get the previous index of the argument value in the element array\r\n   * @param {array} array - element array\r\n   * @param {element} item - Element to find index\r\n   * @returns {Number}\r\n   */\n  prevIdx: function (array, item) {\n    let idx = this.getArrayIndex(array, item);\n    if (idx === -1) return -1;\n    return idx - 1;\n  },\n\n  /**\r\n   * @description Gets whether the cell is a table\r\n   * @param {element} node - Nodes to scan\r\n   * @returns {Boolean}\r\n   */\n  isCell: function (node) {\n    return node && /^(?:TD|TH)$/i.test(node.nodeName);\n  },\n\n  /**\r\n   * @description Get all child nodes of the argument value element (Without text node)\r\n   * @param {element} element - element to get child node\r\n   * @param {(function|null)} validation - Conditional function\r\n   * @returns {Array}\r\n   */\n  getListChildren: function (element, validation) {\n    const children = [];\n\n    validation = validation || function () {\n      return true;\n    };\n\n    (function recursionFunc(current) {\n      if (element !== current && validation(current)) {\n        children.push(current);\n      }\n\n      for (let i = 0, len = current.children.length; i < len; i++) {\n        recursionFunc(current.children[i]);\n      }\n    })(element);\n\n    return children;\n  },\n\n  /**\r\n   * @description Get all child nodes of the argument value element (Include text nodes)\r\n   * @param {element} element - element to get child node\r\n   * @param {(function|null)} validation - Conditional function\r\n   * @returns {Array}\r\n   */\n  getListChildNodes: function (element, validation) {\n    const children = [];\n\n    validation = validation || function () {\n      return true;\n    };\n\n    (function recursionFunc(current) {\n      if (validation(current)) {\n        children.push(current);\n      }\n\n      for (let i = 0, len = current.childNodes.length; i < len; i++) {\n        recursionFunc(current.childNodes[i]);\n      }\n    })(element);\n\n    return children;\n  },\n\n  /**\r\n   * @description Get the parent element of the argument value.\r\n   * A tag that satisfies the query condition is imported.\r\n   * Returns null if not found.\r\n   * @param {Node} element - Reference element\r\n   * @param {string} query - Query String (tagName, .className, #ID, :name)\r\n   * Not use it like jquery.\r\n   * Only one condition can be entered at a time.\r\n   * @returns {Element|null}\r\n   */\n  getParentElement: function (element, query) {\n    let attr;\n\n    if (/\\./.test(query)) {\n      attr = 'className';\n      query = query.split('.')[1];\n    } else if (/#/.test(query)) {\n      attr = 'id';\n      query = '^' + query.split('#')[1] + '$';\n    } else if (/:/.test(query)) {\n      attr = 'name';\n      query = '^' + query.split(':')[1] + '$';\n    } else {\n      attr = 'tagName';\n      query = '^' + query + '$';\n    }\n\n    const check = new RegExp(query, 'i');\n\n    while (element && (element.nodeType === 3 || !check.test(element[attr]))) {\n      if (this.isWysiwygDiv(element)) {\n        return null;\n      }\n\n      element = element.parentNode;\n    }\n\n    return element;\n  },\n\n  /**\r\n   * @description Set the text content value of the argument value element\r\n   * @param {element} element - Element to replace text content\r\n   * @param {String} txt - Text to be applied\r\n   */\n  changeTxt: function (element, txt) {\n    if (!element || !txt) return;\n    element.textContent = txt;\n  },\n\n  /**\r\n   * @description Determine whether any of the matched elements are assigned the given class\r\n   * @param {element} element - Elements to search class name\r\n   * @param {string} className - Class name to search for\r\n   */\n  hasClass: function (element, className) {\n    if (!element) return;\n    return element.classList.contains(className.trim());\n  },\n\n  /**\r\n   * @description Append the className value of the argument value element\r\n   * @param {element} element - Elements to add class name\r\n   * @param {string} className - Class name to be add\r\n   */\n  addClass: function (element, className) {\n    if (!element) return;\n    const check = new RegExp('(\\\\s|^)' + className + '(\\\\s|$)');\n    if (check.test(element.className)) return;\n    element.className += ' ' + className;\n  },\n\n  /**\r\n   * @description Delete the className value of the argument value element\r\n   * @param {element} element - Elements to remove class name\r\n   * @param {string} className - Class name to be remove\r\n   */\n  removeClass: function (element, className) {\n    if (!element) return;\n    const check = new RegExp('(\\\\s|^)' + className + '(\\\\s|$)');\n    element.className = element.className.replace(check, ' ').trim();\n  },\n\n  /**\r\n   * @description Argument value If there is no class name, insert it and delete the class name if it exists\r\n   * @param {element} element - Elements to replace class name\r\n   * @param {string} className - Class name to be change\r\n   */\n  toggleClass: function (element, className) {\n    if (!element) return;\n    const check = new RegExp('(\\\\s|^)' + className + '(\\\\s|$)');\n\n    if (check.test(element.className)) {\n      element.className = element.className.replace(check, ' ').trim();\n    } else {\n      element.className += ' ' + className;\n    }\n  },\n\n  /**\r\n   * @description Delete argumenu value element\r\n   * @param {element} item - Element to be remove\r\n   */\n  removeItem: function (item) {\n    try {\n      item.remove();\n    } catch (e) {\n      item.parentNode.removeChild(item);\n    }\n  }\n};\n/* harmony default export */ __webpack_exports__[\"default\"] = (util);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvbGliL3V0aWwuanMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvbGliL3V0aWwuanM/ZjFlZCJdLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIHN0cmljdCc7XHJcblxyXG4vKipcclxuICogQGRlc2NyaXB0aW9uIHV0aWxpdHkgZnVuY3Rpb25cclxuICovXHJcbmNvbnN0IHV0aWwgPSB7XHJcbiAgICAvKipcclxuICAgICAqIEBkZXNjcmlwdGlvbiBHZXRzIFhNTEh0dHBSZXF1ZXN0IG9iamVjdFxyXG4gICAgICogQHJldHVybnMge09iamVjdH1cclxuICAgICAqL1xyXG4gICAgZ2V0WE1MSHR0cFJlcXVlc3Q6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAvKiogSUUgKi9cclxuICAgICAgICBpZiAod2luZG93LkFjdGl2ZVhPYmplY3QpIHtcclxuICAgICAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBuZXcgQWN0aXZlWE9iamVjdCgnTXN4bWwyLlhNTEhUVFAnKTtcclxuICAgICAgICAgICAgfSBjYXRjaCAoZSkge1xyXG4gICAgICAgICAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gbmV3IEFjdGl2ZVhPYmplY3QoJ01pY3Jvc29mdC5YTUxIVFRQJyk7XHJcbiAgICAgICAgICAgICAgICB9IGNhdGNoIChlMSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8qKiBuZXRzY2FwZSAqL1xyXG4gICAgICAgIGVsc2UgaWYgKHdpbmRvdy5YTUxIdHRwUmVxdWVzdCkge1xyXG4gICAgICAgICAgICByZXR1cm4gbmV3IFhNTEh0dHBSZXF1ZXN0KCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8qKiBmYWlsICovXHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgICAgIH1cclxuICAgIH0sXHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBAZGVzY3JpcHRpb24gR2V0IHN1bmVkaXRvcidzIGRlZmF1bHQgcGF0aFxyXG4gICAgICovXHJcbiAgICBnZXRCYXNlUGF0aDogKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBsZXQgcGF0aCA9ICcnOy8vU1VORURJVE9SLlNVTkVESVRPUl9CQVNFUEFUSCB8fCAnJztcclxuICAgICAgICBpZiAoIXBhdGgpIHtcclxuICAgICAgICAgICAgZm9yIChsZXQgYyA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKCdzY3JpcHQnKSwgaSA9IDA7IGkgPCBjLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICBsZXQgZWRpdG9yVGFnID0gY1tpXS5zcmMubWF0Y2goLyhefC4qW1xcXFxcXC9dKXN1bmVkaXRvcihcXC4uKyk/XFwuanMoPzpcXD8uKnw7LiopPyQvaSk7XHJcbiAgICAgICAgICAgICAgICBpZiAoZWRpdG9yVGFnKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcGF0aCA9IGVkaXRvclRhZ1sxXTtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICAtMSA9PT0gcGF0aC5pbmRleE9mKCc6LycpICYmICcvLycgIT09IHBhdGguc2xpY2UoMCwgMikgJiYgKHBhdGggPSAwID09PSBwYXRoLmluZGV4T2YoJy8nKSA/IGxvY2F0aW9uLmhyZWYubWF0Y2goL14uKj86XFwvXFwvW15cXC9dKi8pWzBdICsgcGF0aCA6IGxvY2F0aW9uLmhyZWYubWF0Y2goL15bXlxcP10qXFwvKD86KS8pWzBdICsgcGF0aCk7XHJcblxyXG4gICAgICAgIGlmICghcGF0aCkgdGhyb3cgJ1tTVU5FRElUT1IudXRpbC5nZXRCYXNlUGF0aC5mYWlsXSBUaGUgU1VORURJVE9SIGluc3RhbGxhdGlvbiBwYXRoIGNvdWxkIG5vdCBiZSBhdXRvbWF0aWNhbGx5IGRldGVjdGVkLiBQbGVhc2Ugc2V0IHRoZSBnbG9iYWwgdmFyaWFibGUgXCJTVU5FRElUT1IuU1VORURJVE9SX0JBU0VQQVRIXCIgYmVmb3JlIGNyZWF0aW5nIGVkaXRvciBpbnN0YW5jZXMuJztcclxuXHJcbiAgICAgICAgcmV0dXJuIHBhdGg7XHJcbiAgICB9KSgpLFxyXG5cclxuICAgIC8qKlxyXG4gICAgICogQGRlc2NyaXB0aW9uIEl0IGlzIGp1ZGdlZCB3aGV0aGVyIGl0IGlzIHRoZSBlZGl0IHJlZ2lvbiB0b3AgZGl2IGVsZW1lbnQuXHJcbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn1cclxuICAgICAqL1xyXG4gICAgaXNXeXNpd3lnRGl2OiBmdW5jdGlvbiAoZWxlbWVudCkge1xyXG4gICAgICAgIGlmIChlbGVtZW50ICYmIGVsZW1lbnQubm9kZVR5cGUgPT09IDEgJiYgdGhpcy5oYXNDbGFzcyhlbGVtZW50LCAnc3VuLWVkaXRvci1pZC13eXNpd3lnJykpIHJldHVybiB0cnVlO1xyXG4gICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgIH0sXHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBAZGVzY3JpcHRpb24gSXQgaXMganVkZ2VkIHdoZXRoZXIgaXQgaXMgdGhlIGZvcm1hdCBlbGVtZW50LlxyXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59XHJcbiAgICAgKi9cclxuICAgIGlzRm9ybWF0RWxlbWVudDogZnVuY3Rpb24gKGVsZW1lbnQpIHtcclxuICAgICAgICBpZiAoZWxlbWVudCAmJiBlbGVtZW50Lm5vZGVUeXBlID09PSAxICYmIC9eKD86UHxESVZ8SFxcXFxkKSQvaS50ZXN0KGVsZW1lbnQudGFnTmFtZSkpIHJldHVybiB0cnVlO1xyXG4gICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgIH0sXHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBAZGVzY3JpcHRpb24gR2V0IGZvcm1hdCBlbGVtZW50IG9mIHRoZSBhcmd1bWVudCB2YWx1ZSAoUCwgRElWLCBUYWJsZSwgSDEsIEgyLCBIMywgSDQsIEg1LCBINi4uLlRhZyB3aG9zZSBwYXJlbnQgaXMgdGhlIFwiQk9EWVwiKVxyXG4gICAgICogQHBhcmFtIHtlbGVtZW50fG51bGx9IGVsZW1lbnQgLSBSZWZlcmVuY2UgZWxlbWVudCBpZiBudWxsIG9yIG5vIHZhbHVlLCBpdCBpcyByZWxhdGl2ZSB0byB0aGUgY3VycmVudCBmb2N1cyBub2RlLlxyXG4gICAgICogQHJldHVybnMge0VsZW1lbnR9XHJcbiAgICAgKi9cclxuICAgIGdldEZvcm1hdEVsZW1lbnQ6IGZ1bmN0aW9uIChlbGVtZW50KSB7XHJcbiAgICAgICAgaWYgKCFlbGVtZW50KSByZXR1cm4gbnVsbDtcclxuXHJcbiAgICAgICAgaWYgKCFlbGVtZW50IHx8IHRoaXMuaXNXeXNpd3lnRGl2KGVsZW1lbnQpKSB7XHJcbiAgICAgICAgICAgIGVsZW1lbnQgPSBjb250ZXh0LmVsZW1lbnQud3lzaXd5Zy5maXJzdENoaWxkO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHdoaWxlICghdGhpcy5pc1d5c2l3eWdEaXYoZWxlbWVudC5wYXJlbnROb2RlKSkge1xyXG4gICAgICAgICAgICAgICAgZWxlbWVudCA9IGVsZW1lbnQucGFyZW50Tm9kZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmV0dXJuIGVsZW1lbnQ7XHJcbiAgICB9LFxyXG5cclxuICAgIC8qKlxyXG4gICAgICogQGRlc2NyaXB0aW9uIEdldCB0aGUgaW5kZXggb2YgdGhlIGFyZ3VtZW50IHZhbHVlIGluIHRoZSBlbGVtZW50IGFycmF5XHJcbiAgICAgKiBAcGFyYW0ge2FycmF5fSBhcnJheSAtIGVsZW1lbnQgYXJyYXlcclxuICAgICAqIEBwYXJhbSB7ZWxlbWVudH0gZWxlbWVudCAtIEVsZW1lbnQgdG8gZmluZCBpbmRleFxyXG4gICAgICogQHJldHVybnMge051bWJlcn1cclxuICAgICAqL1xyXG4gICAgZ2V0QXJyYXlJbmRleDogZnVuY3Rpb24gKGFycmF5LCBlbGVtZW50KSB7XHJcbiAgICAgICAgbGV0IGlkeCA9IC0xO1xyXG4gICAgICAgIGZvciAobGV0IGkgPSAwLCBsZW4gPSBhcnJheS5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xyXG4gICAgICAgICAgICBpZiAoYXJyYXlbaV0gPT09IGVsZW1lbnQpIHtcclxuICAgICAgICAgICAgICAgIGlkeCA9IGk7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmV0dXJuIGlkeDtcclxuICAgIH0sXHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBAZGVzY3JpcHRpb24gR2V0IHRoZSBuZXh0IGluZGV4IG9mIHRoZSBhcmd1bWVudCB2YWx1ZSBpbiB0aGUgZWxlbWVudCBhcnJheVxyXG4gICAgICogQHBhcmFtIHthcnJheX0gYXJyYXkgLSBlbGVtZW50IGFycmF5XHJcbiAgICAgKiBAcGFyYW0ge2VsZW1lbnR9IGl0ZW0gLSBFbGVtZW50IHRvIGZpbmQgaW5kZXhcclxuICAgICAqIEByZXR1cm5zIHtOdW1iZXJ9XHJcbiAgICAgKi9cclxuICAgIG5leHRJZHg6IGZ1bmN0aW9uIChhcnJheSwgaXRlbSkge1xyXG4gICAgICAgIGxldCBpZHggPSB0aGlzLmdldEFycmF5SW5kZXgoYXJyYXksIGl0ZW0pO1xyXG4gICAgICAgIGlmIChpZHggPT09IC0xKSByZXR1cm4gLTE7XHJcbiAgICAgICAgcmV0dXJuIGlkeCArIDE7XHJcbiAgICB9LFxyXG5cclxuICAgIC8qKlxyXG4gICAgICogQGRlc2NyaXB0aW9uIEdldCB0aGUgcHJldmlvdXMgaW5kZXggb2YgdGhlIGFyZ3VtZW50IHZhbHVlIGluIHRoZSBlbGVtZW50IGFycmF5XHJcbiAgICAgKiBAcGFyYW0ge2FycmF5fSBhcnJheSAtIGVsZW1lbnQgYXJyYXlcclxuICAgICAqIEBwYXJhbSB7ZWxlbWVudH0gaXRlbSAtIEVsZW1lbnQgdG8gZmluZCBpbmRleFxyXG4gICAgICogQHJldHVybnMge051bWJlcn1cclxuICAgICAqL1xyXG4gICAgcHJldklkeDogZnVuY3Rpb24gKGFycmF5LCBpdGVtKSB7XHJcbiAgICAgICAgbGV0IGlkeCA9IHRoaXMuZ2V0QXJyYXlJbmRleChhcnJheSwgaXRlbSk7XHJcbiAgICAgICAgaWYgKGlkeCA9PT0gLTEpIHJldHVybiAtMTtcclxuICAgICAgICByZXR1cm4gaWR4IC0gMTtcclxuICAgIH0sXHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBAZGVzY3JpcHRpb24gR2V0cyB3aGV0aGVyIHRoZSBjZWxsIGlzIGEgdGFibGVcclxuICAgICAqIEBwYXJhbSB7ZWxlbWVudH0gbm9kZSAtIE5vZGVzIHRvIHNjYW5cclxuICAgICAqIEByZXR1cm5zIHtCb29sZWFufVxyXG4gICAgICovXHJcbiAgICBpc0NlbGw6IGZ1bmN0aW9uIChub2RlKSB7XHJcbiAgICAgICAgcmV0dXJuIG5vZGUgJiYgL14oPzpURHxUSCkkL2kudGVzdChub2RlLm5vZGVOYW1lKTtcclxuICAgIH0sXHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBAZGVzY3JpcHRpb24gR2V0IGFsbCBjaGlsZCBub2RlcyBvZiB0aGUgYXJndW1lbnQgdmFsdWUgZWxlbWVudCAoV2l0aG91dCB0ZXh0IG5vZGUpXHJcbiAgICAgKiBAcGFyYW0ge2VsZW1lbnR9IGVsZW1lbnQgLSBlbGVtZW50IHRvIGdldCBjaGlsZCBub2RlXHJcbiAgICAgKiBAcGFyYW0geyhmdW5jdGlvbnxudWxsKX0gdmFsaWRhdGlvbiAtIENvbmRpdGlvbmFsIGZ1bmN0aW9uXHJcbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9XHJcbiAgICAgKi9cclxuICAgIGdldExpc3RDaGlsZHJlbjogZnVuY3Rpb24gKGVsZW1lbnQsIHZhbGlkYXRpb24pIHtcclxuICAgICAgICBjb25zdCBjaGlsZHJlbiA9IFtdO1xyXG4gICAgICAgIHZhbGlkYXRpb24gPSB2YWxpZGF0aW9uIHx8IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHRydWU7IH07XHJcblxyXG4gICAgICAgIChmdW5jdGlvbiByZWN1cnNpb25GdW5jKGN1cnJlbnQpIHtcclxuICAgICAgICAgICAgaWYgKGVsZW1lbnQgIT09IGN1cnJlbnQgJiYgdmFsaWRhdGlvbihjdXJyZW50KSkge1xyXG4gICAgICAgICAgICAgICAgY2hpbGRyZW4ucHVzaChjdXJyZW50KTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDAsIGxlbiA9IGN1cnJlbnQuY2hpbGRyZW4ubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcclxuICAgICAgICAgICAgICAgIHJlY3Vyc2lvbkZ1bmMoY3VycmVudC5jaGlsZHJlbltpXSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KShlbGVtZW50KTtcclxuXHJcbiAgICAgICAgcmV0dXJuIGNoaWxkcmVuO1xyXG4gICAgfSxcclxuXHJcbiAgICAvKipcclxuICAgICAqIEBkZXNjcmlwdGlvbiBHZXQgYWxsIGNoaWxkIG5vZGVzIG9mIHRoZSBhcmd1bWVudCB2YWx1ZSBlbGVtZW50IChJbmNsdWRlIHRleHQgbm9kZXMpXHJcbiAgICAgKiBAcGFyYW0ge2VsZW1lbnR9IGVsZW1lbnQgLSBlbGVtZW50IHRvIGdldCBjaGlsZCBub2RlXHJcbiAgICAgKiBAcGFyYW0geyhmdW5jdGlvbnxudWxsKX0gdmFsaWRhdGlvbiAtIENvbmRpdGlvbmFsIGZ1bmN0aW9uXHJcbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9XHJcbiAgICAgKi9cclxuICAgIGdldExpc3RDaGlsZE5vZGVzOiBmdW5jdGlvbiAoZWxlbWVudCwgdmFsaWRhdGlvbikge1xyXG4gICAgICAgIGNvbnN0IGNoaWxkcmVuID0gW107XHJcbiAgICAgICAgdmFsaWRhdGlvbiA9IHZhbGlkYXRpb24gfHwgZnVuY3Rpb24gKCkgeyByZXR1cm4gdHJ1ZTsgfTtcclxuXHJcbiAgICAgICAgKGZ1bmN0aW9uIHJlY3Vyc2lvbkZ1bmMoY3VycmVudCkge1xyXG4gICAgICAgICAgICBpZiAodmFsaWRhdGlvbihjdXJyZW50KSkge1xyXG4gICAgICAgICAgICAgICAgY2hpbGRyZW4ucHVzaChjdXJyZW50KTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDAsIGxlbiA9IGN1cnJlbnQuY2hpbGROb2Rlcy5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xyXG4gICAgICAgICAgICAgICAgcmVjdXJzaW9uRnVuYyhjdXJyZW50LmNoaWxkTm9kZXNbaV0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSkoZWxlbWVudCk7XHJcblxyXG4gICAgICAgIHJldHVybiBjaGlsZHJlbjtcclxuICAgIH0sXHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBAZGVzY3JpcHRpb24gR2V0IHRoZSBwYXJlbnQgZWxlbWVudCBvZiB0aGUgYXJndW1lbnQgdmFsdWUuXHJcbiAgICAgKiBBIHRhZyB0aGF0IHNhdGlzZmllcyB0aGUgcXVlcnkgY29uZGl0aW9uIGlzIGltcG9ydGVkLlxyXG4gICAgICogUmV0dXJucyBudWxsIGlmIG5vdCBmb3VuZC5cclxuICAgICAqIEBwYXJhbSB7Tm9kZX0gZWxlbWVudCAtIFJlZmVyZW5jZSBlbGVtZW50XHJcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gcXVlcnkgLSBRdWVyeSBTdHJpbmcgKHRhZ05hbWUsIC5jbGFzc05hbWUsICNJRCwgOm5hbWUpXHJcbiAgICAgKiBOb3QgdXNlIGl0IGxpa2UganF1ZXJ5LlxyXG4gICAgICogT25seSBvbmUgY29uZGl0aW9uIGNhbiBiZSBlbnRlcmVkIGF0IGEgdGltZS5cclxuICAgICAqIEByZXR1cm5zIHtFbGVtZW50fG51bGx9XHJcbiAgICAgKi9cclxuICAgIGdldFBhcmVudEVsZW1lbnQ6IGZ1bmN0aW9uIChlbGVtZW50LCBxdWVyeSkge1xyXG4gICAgICAgIGxldCBhdHRyO1xyXG5cclxuICAgICAgICBpZiAoL1xcLi8udGVzdChxdWVyeSkpIHtcclxuICAgICAgICAgICAgYXR0ciA9ICdjbGFzc05hbWUnO1xyXG4gICAgICAgICAgICBxdWVyeSA9IHF1ZXJ5LnNwbGl0KCcuJylbMV07XHJcbiAgICAgICAgfSBlbHNlIGlmICgvIy8udGVzdChxdWVyeSkpIHtcclxuICAgICAgICAgICAgYXR0ciA9ICdpZCc7XHJcbiAgICAgICAgICAgIHF1ZXJ5ID0gJ14nICsgcXVlcnkuc3BsaXQoJyMnKVsxXSArICckJztcclxuICAgICAgICB9IGVsc2UgaWYgKC86Ly50ZXN0KHF1ZXJ5KSkge1xyXG4gICAgICAgICAgICBhdHRyID0gJ25hbWUnO1xyXG4gICAgICAgICAgICBxdWVyeSA9ICdeJyArIHF1ZXJ5LnNwbGl0KCc6JylbMV0gKyAnJCc7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgYXR0ciA9ICd0YWdOYW1lJztcclxuICAgICAgICAgICAgcXVlcnkgPSAnXicgKyBxdWVyeSArICckJztcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGNvbnN0IGNoZWNrID0gbmV3IFJlZ0V4cChxdWVyeSwgJ2knKTtcclxuICAgICAgICB3aGlsZSAoZWxlbWVudCAmJiAoZWxlbWVudC5ub2RlVHlwZSA9PT0gMyB8fCAhY2hlY2sudGVzdChlbGVtZW50W2F0dHJdKSkpIHtcclxuICAgICAgICAgICAgaWYgKHRoaXMuaXNXeXNpd3lnRGl2KGVsZW1lbnQpKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbGVtZW50ID0gZWxlbWVudC5wYXJlbnROb2RlO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmV0dXJuIGVsZW1lbnQ7XHJcbiAgICB9LFxyXG5cclxuICAgIC8qKlxyXG4gICAgICogQGRlc2NyaXB0aW9uIFNldCB0aGUgdGV4dCBjb250ZW50IHZhbHVlIG9mIHRoZSBhcmd1bWVudCB2YWx1ZSBlbGVtZW50XHJcbiAgICAgKiBAcGFyYW0ge2VsZW1lbnR9IGVsZW1lbnQgLSBFbGVtZW50IHRvIHJlcGxhY2UgdGV4dCBjb250ZW50XHJcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gdHh0IC0gVGV4dCB0byBiZSBhcHBsaWVkXHJcbiAgICAgKi9cclxuICAgIGNoYW5nZVR4dDogZnVuY3Rpb24gKGVsZW1lbnQsIHR4dCkge1xyXG4gICAgICAgIGlmICghZWxlbWVudCB8fCAhdHh0KSByZXR1cm47XHJcbiAgICAgICAgZWxlbWVudC50ZXh0Q29udGVudCA9IHR4dDtcclxuICAgIH0sXHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBAZGVzY3JpcHRpb24gRGV0ZXJtaW5lIHdoZXRoZXIgYW55IG9mIHRoZSBtYXRjaGVkIGVsZW1lbnRzIGFyZSBhc3NpZ25lZCB0aGUgZ2l2ZW4gY2xhc3NcclxuICAgICAqIEBwYXJhbSB7ZWxlbWVudH0gZWxlbWVudCAtIEVsZW1lbnRzIHRvIHNlYXJjaCBjbGFzcyBuYW1lXHJcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gY2xhc3NOYW1lIC0gQ2xhc3MgbmFtZSB0byBzZWFyY2ggZm9yXHJcbiAgICAgKi9cclxuICAgIGhhc0NsYXNzOiBmdW5jdGlvbiAoZWxlbWVudCwgY2xhc3NOYW1lKSB7XHJcbiAgICAgICAgaWYgKCFlbGVtZW50KSByZXR1cm47XHJcblxyXG4gICAgICAgIHJldHVybiBlbGVtZW50LmNsYXNzTGlzdC5jb250YWlucyhjbGFzc05hbWUudHJpbSgpKTtcclxuICAgIH0sXHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBAZGVzY3JpcHRpb24gQXBwZW5kIHRoZSBjbGFzc05hbWUgdmFsdWUgb2YgdGhlIGFyZ3VtZW50IHZhbHVlIGVsZW1lbnRcclxuICAgICAqIEBwYXJhbSB7ZWxlbWVudH0gZWxlbWVudCAtIEVsZW1lbnRzIHRvIGFkZCBjbGFzcyBuYW1lXHJcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gY2xhc3NOYW1lIC0gQ2xhc3MgbmFtZSB0byBiZSBhZGRcclxuICAgICAqL1xyXG4gICAgYWRkQ2xhc3M6IGZ1bmN0aW9uIChlbGVtZW50LCBjbGFzc05hbWUpIHtcclxuICAgICAgICBpZiAoIWVsZW1lbnQpIHJldHVybjtcclxuXHJcbiAgICAgICAgY29uc3QgY2hlY2sgPSBuZXcgUmVnRXhwKCcoXFxcXHN8XiknICsgY2xhc3NOYW1lICsgJyhcXFxcc3wkKScpO1xyXG4gICAgICAgIGlmIChjaGVjay50ZXN0KGVsZW1lbnQuY2xhc3NOYW1lKSkgcmV0dXJuO1xyXG5cclxuICAgICAgICBlbGVtZW50LmNsYXNzTmFtZSArPSAnICcgKyBjbGFzc05hbWU7XHJcbiAgICB9LFxyXG5cclxuICAgIC8qKlxyXG4gICAgICogQGRlc2NyaXB0aW9uIERlbGV0ZSB0aGUgY2xhc3NOYW1lIHZhbHVlIG9mIHRoZSBhcmd1bWVudCB2YWx1ZSBlbGVtZW50XHJcbiAgICAgKiBAcGFyYW0ge2VsZW1lbnR9IGVsZW1lbnQgLSBFbGVtZW50cyB0byByZW1vdmUgY2xhc3MgbmFtZVxyXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGNsYXNzTmFtZSAtIENsYXNzIG5hbWUgdG8gYmUgcmVtb3ZlXHJcbiAgICAgKi9cclxuICAgIHJlbW92ZUNsYXNzOiBmdW5jdGlvbiAoZWxlbWVudCwgY2xhc3NOYW1lKSB7XHJcbiAgICAgICAgaWYgKCFlbGVtZW50KSByZXR1cm47XHJcblxyXG4gICAgICAgIGNvbnN0IGNoZWNrID0gbmV3IFJlZ0V4cCgnKFxcXFxzfF4pJyArIGNsYXNzTmFtZSArICcoXFxcXHN8JCknKTtcclxuICAgICAgICBlbGVtZW50LmNsYXNzTmFtZSA9IGVsZW1lbnQuY2xhc3NOYW1lLnJlcGxhY2UoY2hlY2ssICcgJykudHJpbSgpO1xyXG4gICAgfSxcclxuXHJcbiAgICAvKipcclxuICAgICAqIEBkZXNjcmlwdGlvbiBBcmd1bWVudCB2YWx1ZSBJZiB0aGVyZSBpcyBubyBjbGFzcyBuYW1lLCBpbnNlcnQgaXQgYW5kIGRlbGV0ZSB0aGUgY2xhc3MgbmFtZSBpZiBpdCBleGlzdHNcclxuICAgICAqIEBwYXJhbSB7ZWxlbWVudH0gZWxlbWVudCAtIEVsZW1lbnRzIHRvIHJlcGxhY2UgY2xhc3MgbmFtZVxyXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGNsYXNzTmFtZSAtIENsYXNzIG5hbWUgdG8gYmUgY2hhbmdlXHJcbiAgICAgKi9cclxuICAgIHRvZ2dsZUNsYXNzOiBmdW5jdGlvbiAoZWxlbWVudCwgY2xhc3NOYW1lKSB7XHJcbiAgICAgICAgaWYgKCFlbGVtZW50KSByZXR1cm47XHJcblxyXG4gICAgICAgIGNvbnN0IGNoZWNrID0gbmV3IFJlZ0V4cCgnKFxcXFxzfF4pJyArIGNsYXNzTmFtZSArICcoXFxcXHN8JCknKTtcclxuICAgICAgICBpZiAoY2hlY2sudGVzdChlbGVtZW50LmNsYXNzTmFtZSkpIHtcclxuICAgICAgICAgICAgZWxlbWVudC5jbGFzc05hbWUgPSBlbGVtZW50LmNsYXNzTmFtZS5yZXBsYWNlKGNoZWNrLCAnICcpLnRyaW0oKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIGVsZW1lbnQuY2xhc3NOYW1lICs9ICcgJyArIGNsYXNzTmFtZTtcclxuICAgICAgICB9XHJcbiAgICB9LFxyXG5cclxuICAgIC8qKlxyXG4gICAgICogQGRlc2NyaXB0aW9uIERlbGV0ZSBhcmd1bWVudSB2YWx1ZSBlbGVtZW50XHJcbiAgICAgKiBAcGFyYW0ge2VsZW1lbnR9IGl0ZW0gLSBFbGVtZW50IHRvIGJlIHJlbW92ZVxyXG4gICAgICovXHJcbiAgICByZW1vdmVJdGVtOiBmdW5jdGlvbiAoaXRlbSkge1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIGl0ZW0ucmVtb3ZlKCk7XHJcbiAgICAgICAgfSBjYXRjaCAoZSkge1xyXG4gICAgICAgICAgICBpdGVtLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoaXRlbSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59O1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgdXRpbDsiXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFFQTs7OztBQUdBO0FBQ0E7Ozs7QUFJQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBWEE7QUFhQTtBQUNBO0FBQ0E7QUFIQTtBQUtBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQUdBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUVBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7Ozs7QUFJQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Ozs7QUFJQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Ozs7O0FBS0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7Ozs7QUFNQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7Ozs7QUFNQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7Ozs7O0FBTUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Ozs7O0FBS0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7Ozs7O0FBTUE7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7Ozs7QUFNQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Ozs7Ozs7Ozs7QUFVQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7Ozs7QUFLQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Ozs7O0FBS0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBOzs7OztBQUtBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7Ozs7O0FBS0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Ozs7O0FBS0E7QUFDQTtBQUVBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7O0FBSUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUF2U0E7QUEwU0EiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/lib/util.js\n");

/***/ }),

/***/ "./src/plugins/dialog/image.js":
/*!*************************************!*\
  !*** ./src/plugins/dialog/image.js ***!
  \*************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/*\r\n * wysiwyg web editor\r\n *\r\n * suneditor.js\r\n * Copyright 2017 JiHong Lee.\r\n * MIT license.\r\n */\n\n\nconst image = {\n  name: 'image',\n  add: function (_this) {\n    const context = _this.context;\n    context.image = {\n      _linkElement: null,\n      _element: null,\n      _resize_element: null,\n      _element_w: 1,\n      _element_h: 1,\n      _element_l: 0,\n      _element_t: 0,\n      _origin_w: context.user.imageSize,\n      _origin_h: 0,\n      _altText: '',\n      _imageCaption: null,\n      _linkValue: '',\n      _align: 'none',\n      _captionChecked: false,\n      _proportionChecked: true,\n      _onCaption: false\n    };\n    /** image dialog */\n\n    let image_dialog = eval(this.setDialog(_this.context.user, _this.lang));\n    context.image.modal = image_dialog;\n    context.image.imgUrlFile = image_dialog.getElementsByClassName('sun-editor-id-image-url')[0];\n    context.image.imgInputFile = context.image.focusElement = image_dialog.getElementsByClassName('sun-editor-id-image-file')[0];\n    context.image.altText = image_dialog.getElementsByClassName('sun-editor-id-image-alt')[0];\n    context.image.imgLink = image_dialog.getElementsByClassName('sun-editor-id-image-link')[0];\n    context.image.imgLinkNewWindowCheck = image_dialog.getElementsByClassName('sun-editor-id-linkCheck')[0];\n    context.image.caption = image_dialog.querySelector('#suneditor_image_check_caption');\n    context.image.proportion = image_dialog.querySelector('#suneditor_image_check_proportion');\n    context.image.imageX = image_dialog.getElementsByClassName('sun-editor-id-image-x')[0];\n    context.image.imageY = image_dialog.getElementsByClassName('sun-editor-id-image-y')[0];\n    context.image.imageX.value = _this.context.user.imageSize;\n    /** add event listeners */\n\n    context.image.modal.getElementsByClassName('sun-editor-tab-button')[0].addEventListener('click', this.openTab.bind(_this));\n    context.image.modal.getElementsByClassName('btn-primary')[0].addEventListener('click', this.submit.bind(_this));\n    context.image.imageX.addEventListener('change', this.setInputSize.bind(_this, 'x'));\n    context.image.imageY.addEventListener('change', this.setInputSize.bind(_this, 'y'));\n    image_dialog.getElementsByClassName('sun-editor-id-image-revert-button')[0].addEventListener('click', this.sizeRevert.bind(_this));\n    /** append html */\n\n    context.dialog.modal.appendChild(image_dialog);\n    /** empty memory */\n\n    image_dialog = null;\n  },\n\n  /** dialog */\n  setDialog: function (user, lang) {\n    const dialog = document.createElement('DIV');\n    dialog.className = 'modal-content sun-editor-id-dialog-image';\n    dialog.style.display = 'none';\n    let html = '' + '<div class=\"modal-header\">' + '   <button type=\"button\" data-command=\"close\" class=\"close\" aria-label=\"Close\">' + '       <div aria-hidden=\"true\" data-command=\"close\" class=\"icon-cancel\"></div>' + '   </button>' + '   <h5 class=\"modal-title\">' + lang.dialogBox.imageBox.title + '</h5>' + '</div>' + '<div class=\"sun-editor-tab-button\">' + '   <button type=\"button\" class=\"sun-editor-id-tab-link active\" data-tab-link=\"image\">' + lang.toolbar.image + '</button>' + '   <button type=\"button\" class=\"sun-editor-id-tab-link\" data-tab-link=\"url\">' + lang.toolbar.link + '</button>' + '</div>' + '<form class=\"editor_image\" method=\"post\" enctype=\"multipart/form-data\">' + '   <div class=\"sun-editor-id-tab-content sun-editor-id-tab-content-image\">' + '       <div class=\"modal-body\">';\n\n    if (user.imageFileInput) {\n      html += '' + '   <div class=\"form-group\">' + '       <label>' + lang.dialogBox.imageBox.file + '</label>' + '       <input class=\"form-control sun-editor-id-image-file\" type=\"file\" accept=\"image/*\" multiple=\"multiple\" />' + '   </div>';\n    }\n\n    if (user.imageUrlInput) {\n      html += '' + '   <div class=\"form-group\">' + '       <label>' + lang.dialogBox.imageBox.url + '</label>' + '       <input class=\"form-control sun-editor-id-image-url\" type=\"text\" />' + '   </div>';\n    }\n\n    html += '' + '           <div class=\"form-group\">' + '               <label>' + lang.dialogBox.imageBox.altText + '</label><input class=\"form-control sun-editor-id-image-alt\" type=\"text\" />' + '           </div>' + '           <div class=\"form-group\">' + '               <div class=\"size-text\"><label class=\"size-w\">' + lang.dialogBox.width + '</label><label class=\"size-x\">&nbsp;</label><label class=\"size-h\">' + lang.dialogBox.height + '</label></div>' + '               <input class=\"form-size-control sun-editor-id-image-x\" type=\"number\" min=\"1\" /><label class=\"size-x\">x</label><input class=\"form-size-control sun-editor-id-image-y\" type=\"number\" min=\"1\" disabled />' + '               <input type=\"checkbox\" id=\"suneditor_image_check_proportion\" style=\"margin-left: 20px;\" checked disabled/><label for=\"suneditor_image_check_proportion\">&nbsp;' + lang.dialogBox.proportion + '</label>' + '               <button type=\"button\" title=\"' + lang.dialogBox.revertButton + '\" class=\"btn_editor sun-editor-id-image-revert-button\" style=\"float: right;\"><div class=\"icon-revert\"></div></button>' + '           </div>' + '           <div class=\"form-group-footer\">' + '               <input type=\"checkbox\" id=\"suneditor_image_check_caption\" /><label for=\"suneditor_image_check_caption\">&nbsp;' + lang.dialogBox.imageBox.caption + '</label>' + '           </div>' + '       </div>' + '   </div>' + '   <div class=\"sun-editor-id-tab-content sun-editor-id-tab-content-url\" style=\"display: none\">' + '       <div class=\"modal-body\">' + '           <div class=\"form-group\">' + '               <label>' + lang.dialogBox.linkBox.url + '</label><input class=\"form-control sun-editor-id-image-link\" type=\"text\" />' + '           </div>' + '           <label><input type=\"checkbox\" class=\"sun-editor-id-linkCheck\" />&nbsp;' + lang.dialogBox.linkBox.newWindowCheck + '</label>' + '       </div>' + '   </div>' + '   <div class=\"modal-footer\">' + '       <div style=\"float: left;\">' + '           <input type=\"radio\" id=\"suneditor_image_radio_none\" name=\"suneditor_image_radio\" class=\"modal-radio\" value=\"none\" checked><label for=\"suneditor_image_radio_none\">' + lang.dialogBox.basic + '</label>' + '           <input type=\"radio\" id=\"suneditor_image_radio_left\" name=\"suneditor_image_radio\" class=\"modal-radio\" value=\"left\"><label for=\"suneditor_image_radio_left\">' + lang.dialogBox.left + '</label>' + '           <input type=\"radio\" id=\"suneditor_image_radio_center\" name=\"suneditor_image_radio\" class=\"modal-radio\" value=\"center\"><label for=\"suneditor_image_radio_center\">' + lang.dialogBox.center + '</label>' + '           <input type=\"radio\" id=\"suneditor_image_radio_right\" name=\"suneditor_image_radio\" class=\"modal-radio\" value=\"right\"><label for=\"suneditor_image_radio_right\">' + lang.dialogBox.right + '</label>' + '       </div>' + '       <button type=\"submit\" class=\"btn btn-primary sun-editor-id-submit-image\"><span>' + lang.dialogBox.submitButton + '</span></button>' + '   </div>' + '</form>';\n    dialog.innerHTML = html;\n    return dialog;\n  },\n  openTab: function (e) {\n    const targetElement = e === 'init' ? document.getElementsByClassName('sun-editor-id-tab-link')[0] : e.target;\n\n    if (!/^BUTTON$/i.test(targetElement.tagName)) {\n      return false;\n    } // Declare all variables\n\n\n    const tabName = targetElement.getAttribute('data-tab-link');\n    const contentClassName = 'sun-editor-id-tab-content';\n    let i, tabcontent, tablinks; // Get all elements with class=\"tabcontent\" and hide them\n\n    tabcontent = document.getElementsByClassName(contentClassName);\n\n    for (i = 0; i < tabcontent.length; i++) {\n      tabcontent[i].style.display = 'none';\n    } // Get all elements with class=\"tablinks\" and remove the class \"active\"\n\n\n    tablinks = document.getElementsByClassName('sun-editor-id-tab-link');\n\n    for (i = 0; i < tablinks.length; i++) {\n      this.util.removeClass(tablinks[i], 'active');\n    } // Show the current tab, and add an \"active\" class to the button that opened the tab\n\n\n    this.context.image.modal.getElementsByClassName(contentClassName + '-' + tabName)[0].style.display = 'block';\n    this.util.addClass(targetElement, 'active'); // focus\n\n    if (tabName === 'image') {\n      this.context.image.imgUrlFile.focus();\n    } else if (tabName === 'url') {\n      this.context.image.imgLink.focus();\n    }\n\n    return false;\n  },\n  xmlHttp: null,\n  onRender_imgInput: function () {\n    function inputAction(files) {\n      if (files.length > 0) {\n        const imageUploadUrl = this.context.user.imageUploadUrl;\n        const filesLen = this.context.dialog.updateModal ? 1 : files.length;\n\n        if (imageUploadUrl !== null && imageUploadUrl.length > 0) {\n          const formData = new FormData();\n\n          for (let i = 0; i < filesLen; i++) {\n            formData.append('file-' + i, files[i]);\n          }\n\n          this.plugins.image.xmlHttp = this.util.getXMLHttpRequest();\n          this.plugins.image.xmlHttp.onreadystatechange = this.plugins.image.callBack_imgUpload.bind(this, this.context.image._linkValue, this.context.image.imgLinkNewWindowCheck.checked, this.context.image.imageX.value + 'px', this.context.image._align, this.context.dialog.updateModal);\n          this.plugins.image.xmlHttp.open('post', imageUploadUrl, true);\n          this.plugins.image.xmlHttp.send(formData);\n        } else {\n          for (let i = 0; i < filesLen; i++) {\n            this.plugins.image.setup_reader.call(this, files[i], this.context.image._linkValue, this.context.image.imgLinkNewWindowCheck.checked, this.context.dialog.updateModal);\n          }\n        }\n      }\n    }\n\n    try {\n      inputAction.call(this, this.context.image.imgInputFile.files);\n    } catch (e) {\n      this.closeLoading();\n      throw Error('[SUNEDITOR.imageUpload.fail] cause : \"' + e.message + '\"');\n    }\n  },\n  setup_reader: function (file, imgLinkValue, newWindowCheck, update) {\n    const reader = new FileReader();\n\n    reader.onload = function (update) {\n      this.plugins.image.create_image.call(this, reader.result, imgLinkValue, newWindowCheck, this.context.image.imageX.value + 'px', this.context.image._align, update);\n    }.bind(this, update);\n\n    reader.readAsDataURL(file);\n  },\n  callBack_imgUpload: function (linkValue, linkNewWindow, width, align, update) {\n    const xmlHttp = this.plugins.image.xmlHttp;\n\n    if (xmlHttp.readyState === 4) {\n      if (xmlHttp.status === 200) {\n        const result = eval(xmlHttp.responseText);\n\n        for (let i = 0, len = update && result.length > 0 ? 1 : result.length; i < len; i++) {\n          this.plugins.image.create_image.call(this, result[i].SUNEDITOR_IMAGE_SRC, linkValue, linkNewWindow, width, align, update);\n        }\n      } else {\n        window.open('', '_blank').document.writeln(xmlHttp.responseText);\n      }\n\n      this.closeLoading();\n    }\n  },\n  onRender_imgUrl: function () {\n    if (this.context.image.imgUrlFile.value.trim().length === 0) return false;\n\n    try {\n      this.plugins.image.create_image.call(this, this.context.image.imgUrlFile.value, this.context.image._linkValue, this.context.image.imgLinkNewWindowCheck.checked, this.context.image.imageX.value + 'px', this.context.image._align);\n    } catch (e) {\n      this.closeLoading();\n      throw Error('[SUNEDITOR.inseretImageUrl.fail] cause : \"' + e.message + '\"');\n    }\n  },\n  onRender_link: function (imgTag, imgLinkValue, newWindowCheck) {\n    if (imgLinkValue.trim().length > 0) {\n      const link = document.createElement('A');\n      link.href = /^https?:\\/\\//.test(imgLinkValue) ? imgLinkValue : 'http://' + imgLinkValue;\n      link.target = newWindowCheck ? '_blank' : '';\n      link.setAttribute('data-image-link', 'image');\n      link.addEventListener('click', function (e) {\n        e.preventDefault();\n      });\n      imgTag.setAttribute('data-image-link', imgLinkValue);\n      imgTag.style.padding = '1px';\n      imgTag.style.margin = '1px';\n      imgTag.style.outline = '1px solid #f4b124';\n      link.appendChild(imgTag);\n      return link;\n    }\n\n    return imgTag;\n  },\n  setInputSize: function (xy) {\n    if (!this.context.dialog.updateModal) return;\n\n    if (this.context.image.proportion.checked) {\n      if (xy === 'x') {\n        this.context.image.imageY.value = Math.round(this.context.image._element_h / this.context.image._element_w * this.context.image.imageX.value);\n      } else {\n        this.context.image.imageX.value = Math.round(this.context.image._element_w / this.context.image._element_h * this.context.image.imageY.value);\n      }\n    }\n  },\n  submit: function (e) {\n    this.showLoading();\n    e.preventDefault();\n    e.stopPropagation();\n    this.context.image._linkValue = this.context.image.imgLink.value;\n    this.context.image._altText = this.context.image.altText.value;\n    this.context.image._align = this.context.image.modal.querySelector('input[name=\"suneditor_image_radio\"]:checked').value;\n    this.context.image._captionChecked = this.context.image.caption.checked;\n    this.context.image._proportionChecked = this.context.image.proportion.checked;\n\n    try {\n      if (this.context.dialog.updateModal) {\n        this.plugins.image.update_image.call(this);\n      } else {\n        this.plugins.image.onRender_imgInput.call(this);\n        this.plugins.image.onRender_imgUrl.call(this);\n      }\n    } finally {\n      this.plugins.dialog.closeDialog.call(this);\n      this.closeLoading();\n    }\n\n    return false;\n  },\n  create_caption: function () {\n    const caption = document.createElement('FIGCAPTION');\n    caption.innerHTML = '<p>' + this.lang.dialogBox.imageBox.caption + '</p>';\n    caption.addEventListener('click', this.plugins.image.toggle_caption_contenteditable.bind(this, true));\n    return caption;\n  },\n  set_cover: function (imageElement) {\n    const cover = document.createElement('FIGURE');\n    cover.className = 'sun-editor-image-cover';\n    cover.appendChild(imageElement);\n    return cover;\n  },\n  set_container: function (cover) {\n    const container = document.createElement('DIV');\n    container.className = 'sun-editor-id-image-container';\n    container.setAttribute('contenteditable', false);\n    container.style.textAlign = 'center';\n    container.appendChild(cover);\n    return container;\n  },\n  create_image: function (src, linkValue, linkNewWindow, width, align, update) {\n    if (update) {\n      this.context.image._element.src = src;\n      return;\n    }\n\n    let oImg = document.createElement('IMG');\n    oImg.src = src;\n    oImg.style.width = width;\n    oImg.setAttribute('data-align', align);\n    oImg.setAttribute('data-proportion', this.context.image._proportionChecked);\n    oImg.alt = this.context.image._altText;\n    oImg = this.plugins.image.onRender_link(oImg, linkValue, linkNewWindow);\n    const cover = this.plugins.image.set_cover.call(this, oImg);\n    const container = this.plugins.image.set_container.call(this, cover); // caption\n\n    if (this.context.image._captionChecked) {\n      this.context.image._imageCaption = this.plugins.image.create_caption.call(this);\n      cover.appendChild(this.context.image._imageCaption);\n    } // align\n\n\n    if ('center' !== align) {\n      container.style.display = 'inline-block';\n      container.style.float = align;\n    }\n\n    this.insertNode(container);\n    this.appendP(container);\n  },\n  update_image: function () {\n    const contextImage = this.context.image;\n    const linkValue = contextImage._linkValue;\n    let cover = this.util.getParentElement(contextImage._element, '.sun-editor-image-cover');\n    let container = this.util.getParentElement(contextImage._element, '.sun-editor-id-image-container');\n    let isNewContainer = false;\n\n    if (cover === null) {\n      isNewContainer = true;\n      cover = this.plugins.image.set_cover.call(this, contextImage._element.cloneNode(true));\n    }\n\n    if (container === null) {\n      isNewContainer = true;\n      container = this.plugins.image.set_container.call(this, cover.cloneNode(true));\n    } else if (isNewContainer) {\n      container.innerHTML = '';\n      container.appendChild(cover);\n    } // input update\n\n\n    this.plugins.image.onRender_imgInput.call(this); // src, size\n\n    contextImage._element.src = contextImage.imgUrlFile.value;\n    contextImage._element.alt = contextImage._altText;\n\n    contextImage._element.setAttribute('data-proportion', contextImage._proportionChecked);\n\n    ;\n    contextImage._element.style.width = contextImage.imageX.value + 'px';\n    contextImage._element.style.height = contextImage.imageY.value + 'px'; // caption\n\n    if (contextImage._captionChecked) {\n      if (contextImage._imageCaption === null) {\n        contextImage._imageCaption = this.plugins.image.create_caption.call(this);\n        cover.appendChild(contextImage._imageCaption);\n      }\n    } else {\n      if (contextImage._imageCaption) {\n        this.util.removeItem(contextImage._imageCaption);\n      }\n    } // align\n\n\n    if ('center' !== contextImage._align) {\n      container.style.display = 'inline-block';\n      container.style.float = contextImage._align;\n    } else {\n      container.style.display = '';\n      container.style.float = 'none';\n    }\n\n    contextImage._element.setAttribute('data-align', contextImage._align); // link\n\n\n    if (linkValue.trim().length > 0) {\n      if (contextImage._linkElement !== null) {\n        contextImage._linkElement.href = linkValue;\n        contextImage._linkElement.target = this.context.image.imgLinkNewWindowCheck.checked;\n\n        contextImage._element.setAttribute('data-image-link', linkValue);\n      } else {\n        let newEl = this.plugins.image.onRender_link(contextImage._element.cloneNode(true), linkValue, this.context.image.imgLinkNewWindowCheck.checked);\n        cover.innerHTML = '';\n        cover.appendChild(newEl);\n      }\n    } else if (contextImage._linkElement !== null) {\n      const imageElement = contextImage._element;\n      imageElement.setAttribute('data-image-link', '');\n      imageElement.style.padding = '';\n      imageElement.style.margin = '';\n      imageElement.style.outline = '';\n      let newEl = imageElement.cloneNode(true);\n      cover.innerHTML = '';\n      cover.appendChild(newEl);\n    }\n\n    if (isNewContainer) {\n      const existElement = this.util.getFormatElement(contextImage._element);\n      existElement.parentNode.insertBefore(container, existElement);\n      this.util.removeItem(existElement);\n    }\n  },\n  toggle_caption_contenteditable: function (on, e) {\n    this.context.image._onCaption = on;\n\n    this.context.image._imageCaption.setAttribute('contenteditable', on);\n\n    this.context.image._imageCaption.focus();\n  },\n  sizeRevert: function () {\n    const contextImage = this.context.image;\n\n    if (contextImage._origin_w) {\n      contextImage.imageX.value = contextImage._element_w = contextImage._origin_w;\n      contextImage.imageY.value = contextImage._element_h = contextImage._origin_h;\n    }\n  },\n  onModifyMode: function (element, size) {\n    const contextImage = this.context.image;\n    contextImage._linkElement = /^A$/i.test(element.parentNode.nodeName) ? element.parentNode : null;\n    contextImage._element = contextImage._resize_element = element;\n    contextImage._imageCaption = element.nextSibling;\n    contextImage._element_w = size.w;\n    contextImage._element_h = size.h;\n    contextImage._element_t = size.t;\n    contextImage._element_l = size.l;\n\n    let origin = contextImage._element.getAttribute('data-origin');\n\n    if (origin) {\n      origin = origin.split(',');\n      contextImage._origin_w = origin[0] * 1;\n      contextImage._origin_h = origin[1] * 1;\n    } else {\n      contextImage._origin_w = size.w;\n      contextImage._origin_h = size.h;\n\n      contextImage._element.setAttribute('data-origin', size.w + ',' + size.h);\n    }\n  },\n  openModify: function () {\n    const contextImage = this.context.image;\n    contextImage.imgUrlFile.value = contextImage._element.src;\n    contextImage.altText.value = contextImage._element.alt;\n    contextImage.imgLink.value = contextImage._linkElement === null ? '' : contextImage._linkElement.href;\n    contextImage.imgLinkNewWindowCheck.checked = !contextImage._linkElement || contextImage._linkElement.target === '_blank';\n    contextImage.modal.querySelector('#suneditor_image_radio_' + (contextImage._element.getAttribute('data-align') || 'none')).checked = true;\n    contextImage._captionChecked = contextImage.caption.checked = !!contextImage._imageCaption;\n    contextImage.proportion.checked = contextImage._proportionChecked = contextImage._element.getAttribute('data-proportion') === 'true';\n    contextImage.imageX.value = contextImage._element.offsetWidth;\n    contextImage.imageY.value = contextImage._element.offsetHeight;\n    contextImage.imageY.disabled = false;\n    contextImage.proportion.disabled = false;\n    this.plugins.dialog.openDialog.call(this, 'image', null, true);\n  },\n  setSize: function (x, y) {\n    this.context.image._resize_element.style.width = x;\n    this.context.image._resize_element.style.height = y;\n  },\n  destroy: function () {\n    const imageContainer = this.util.getParentElement(this.context.image._element, '.sun-editor-id-image-container') || this.context.image._element;\n\n    this.util.removeItem(imageContainer);\n    this.plugins.image.init.call(this);\n  },\n  init: function () {\n    this.context.image.imgInputFile.value = '';\n    this.context.image.imgUrlFile.value = '';\n    this.context.image.altText.value = '';\n    this.context.image.imgLink.value = '';\n    this.context.image.imgLinkNewWindowCheck.checked = false;\n    this.context.image.modal.querySelector('#suneditor_image_radio_none').checked = true;\n    this.context.image.caption.checked = false;\n    this.context.image.proportion.checked = false;\n    this.context.image.imageX.value = this.context.user.imageSize;\n    this.context.image.imageY.value = '';\n    this.context.image.imageY.disabled = true;\n    this.context.image.proportion.disabled = true;\n    this.context.image._element = null;\n    this.plugins.image.openTab.call(this, 'init');\n  }\n};\n/* harmony default export */ __webpack_exports__[\"default\"] = (image);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvcGx1Z2lucy9kaWFsb2cvaW1hZ2UuanMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvcGx1Z2lucy9kaWFsb2cvaW1hZ2UuanM/MjhhYiJdLCJzb3VyY2VzQ29udGVudCI6WyIvKlxyXG4gKiB3eXNpd3lnIHdlYiBlZGl0b3JcclxuICpcclxuICogc3VuZWRpdG9yLmpzXHJcbiAqIENvcHlyaWdodCAyMDE3IEppSG9uZyBMZWUuXHJcbiAqIE1JVCBsaWNlbnNlLlxyXG4gKi9cclxuJ3VzZSBzdHJpY3QnO1xyXG5jb25zdCBpbWFnZSA9IHtcclxuICAgIG5hbWU6ICdpbWFnZScsXHJcbiAgICBhZGQ6IGZ1bmN0aW9uIChfdGhpcykge1xyXG4gICAgICAgIGNvbnN0IGNvbnRleHQgPSBfdGhpcy5jb250ZXh0O1xyXG4gICAgICAgIGNvbnRleHQuaW1hZ2UgPSB7XHJcbiAgICAgICAgICAgIF9saW5rRWxlbWVudDogbnVsbCxcclxuICAgICAgICAgICAgX2VsZW1lbnQ6IG51bGwsXHJcbiAgICAgICAgICAgIF9yZXNpemVfZWxlbWVudDogbnVsbCxcclxuICAgICAgICAgICAgX2VsZW1lbnRfdzogMSxcclxuICAgICAgICAgICAgX2VsZW1lbnRfaDogMSxcclxuICAgICAgICAgICAgX2VsZW1lbnRfbDogMCxcclxuICAgICAgICAgICAgX2VsZW1lbnRfdDogMCxcclxuICAgICAgICAgICAgX29yaWdpbl93OiBjb250ZXh0LnVzZXIuaW1hZ2VTaXplLFxyXG4gICAgICAgICAgICBfb3JpZ2luX2g6IDAsXHJcbiAgICAgICAgICAgIF9hbHRUZXh0OiAnJyxcclxuICAgICAgICAgICAgX2ltYWdlQ2FwdGlvbjogbnVsbCxcclxuICAgICAgICAgICAgX2xpbmtWYWx1ZTogJycsXHJcbiAgICAgICAgICAgIF9hbGlnbjogJ25vbmUnLFxyXG4gICAgICAgICAgICBfY2FwdGlvbkNoZWNrZWQ6IGZhbHNlLFxyXG4gICAgICAgICAgICBfcHJvcG9ydGlvbkNoZWNrZWQ6IHRydWUsXHJcbiAgICAgICAgICAgIF9vbkNhcHRpb246IGZhbHNlXHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgLyoqIGltYWdlIGRpYWxvZyAqL1xyXG4gICAgICAgIGxldCBpbWFnZV9kaWFsb2cgPSBldmFsKHRoaXMuc2V0RGlhbG9nKF90aGlzLmNvbnRleHQudXNlciwgX3RoaXMubGFuZykpO1xyXG4gICAgICAgIGNvbnRleHQuaW1hZ2UubW9kYWwgPSBpbWFnZV9kaWFsb2c7XHJcbiAgICAgICAgY29udGV4dC5pbWFnZS5pbWdVcmxGaWxlID0gaW1hZ2VfZGlhbG9nLmdldEVsZW1lbnRzQnlDbGFzc05hbWUoJ3N1bi1lZGl0b3ItaWQtaW1hZ2UtdXJsJylbMF07XHJcbiAgICAgICAgY29udGV4dC5pbWFnZS5pbWdJbnB1dEZpbGUgPSBjb250ZXh0LmltYWdlLmZvY3VzRWxlbWVudCA9IGltYWdlX2RpYWxvZy5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCdzdW4tZWRpdG9yLWlkLWltYWdlLWZpbGUnKVswXTtcclxuICAgICAgICBjb250ZXh0LmltYWdlLmFsdFRleHQgPSBpbWFnZV9kaWFsb2cuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgnc3VuLWVkaXRvci1pZC1pbWFnZS1hbHQnKVswXTtcclxuICAgICAgICBjb250ZXh0LmltYWdlLmltZ0xpbmsgPSBpbWFnZV9kaWFsb2cuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgnc3VuLWVkaXRvci1pZC1pbWFnZS1saW5rJylbMF07XHJcbiAgICAgICAgY29udGV4dC5pbWFnZS5pbWdMaW5rTmV3V2luZG93Q2hlY2sgPSBpbWFnZV9kaWFsb2cuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgnc3VuLWVkaXRvci1pZC1saW5rQ2hlY2snKVswXTtcclxuICAgICAgICBjb250ZXh0LmltYWdlLmNhcHRpb24gPSBpbWFnZV9kaWFsb2cucXVlcnlTZWxlY3RvcignI3N1bmVkaXRvcl9pbWFnZV9jaGVja19jYXB0aW9uJyk7XHJcbiAgICAgICAgY29udGV4dC5pbWFnZS5wcm9wb3J0aW9uID0gaW1hZ2VfZGlhbG9nLnF1ZXJ5U2VsZWN0b3IoJyNzdW5lZGl0b3JfaW1hZ2VfY2hlY2tfcHJvcG9ydGlvbicpO1xyXG4gICAgICAgIGNvbnRleHQuaW1hZ2UuaW1hZ2VYID0gaW1hZ2VfZGlhbG9nLmdldEVsZW1lbnRzQnlDbGFzc05hbWUoJ3N1bi1lZGl0b3ItaWQtaW1hZ2UteCcpWzBdO1xyXG4gICAgICAgIGNvbnRleHQuaW1hZ2UuaW1hZ2VZID0gaW1hZ2VfZGlhbG9nLmdldEVsZW1lbnRzQnlDbGFzc05hbWUoJ3N1bi1lZGl0b3ItaWQtaW1hZ2UteScpWzBdO1xyXG5cclxuICAgICAgICBjb250ZXh0LmltYWdlLmltYWdlWC52YWx1ZSA9IF90aGlzLmNvbnRleHQudXNlci5pbWFnZVNpemU7XHJcblxyXG4gICAgICAgIC8qKiBhZGQgZXZlbnQgbGlzdGVuZXJzICovXHJcbiAgICAgICAgY29udGV4dC5pbWFnZS5tb2RhbC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCdzdW4tZWRpdG9yLXRhYi1idXR0b24nKVswXS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMub3BlblRhYi5iaW5kKF90aGlzKSk7XHJcbiAgICAgICAgY29udGV4dC5pbWFnZS5tb2RhbC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCdidG4tcHJpbWFyeScpWzBdLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5zdWJtaXQuYmluZChfdGhpcykpO1xyXG4gICAgICAgIGNvbnRleHQuaW1hZ2UuaW1hZ2VYLmFkZEV2ZW50TGlzdGVuZXIoJ2NoYW5nZScsIHRoaXMuc2V0SW5wdXRTaXplLmJpbmQoX3RoaXMsICd4JykpO1xyXG4gICAgICAgIGNvbnRleHQuaW1hZ2UuaW1hZ2VZLmFkZEV2ZW50TGlzdGVuZXIoJ2NoYW5nZScsIHRoaXMuc2V0SW5wdXRTaXplLmJpbmQoX3RoaXMsICd5JykpO1xyXG4gICAgICAgIGltYWdlX2RpYWxvZy5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCdzdW4tZWRpdG9yLWlkLWltYWdlLXJldmVydC1idXR0b24nKVswXS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMuc2l6ZVJldmVydC5iaW5kKF90aGlzKSk7XHJcblxyXG4gICAgICAgIC8qKiBhcHBlbmQgaHRtbCAqL1xyXG4gICAgICAgIGNvbnRleHQuZGlhbG9nLm1vZGFsLmFwcGVuZENoaWxkKGltYWdlX2RpYWxvZyk7XHJcblxyXG4gICAgICAgIC8qKiBlbXB0eSBtZW1vcnkgKi9cclxuICAgICAgICBpbWFnZV9kaWFsb2cgPSBudWxsO1xyXG4gICAgfSxcclxuXHJcbiAgICAvKiogZGlhbG9nICovXHJcbiAgICBzZXREaWFsb2c6IGZ1bmN0aW9uICh1c2VyLCBsYW5nKSB7XHJcbiAgICAgICAgY29uc3QgZGlhbG9nID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnRElWJyk7XHJcbiAgICAgICAgZGlhbG9nLmNsYXNzTmFtZSA9ICdtb2RhbC1jb250ZW50IHN1bi1lZGl0b3ItaWQtZGlhbG9nLWltYWdlJztcclxuICAgICAgICBkaWFsb2cuc3R5bGUuZGlzcGxheSA9ICdub25lJztcclxuXHJcbiAgICAgICAgbGV0IGh0bWwgPSAnJyArXHJcbiAgICAgICAgICAgICc8ZGl2IGNsYXNzPVwibW9kYWwtaGVhZGVyXCI+JyArXHJcbiAgICAgICAgICAgICcgICA8YnV0dG9uIHR5cGU9XCJidXR0b25cIiBkYXRhLWNvbW1hbmQ9XCJjbG9zZVwiIGNsYXNzPVwiY2xvc2VcIiBhcmlhLWxhYmVsPVwiQ2xvc2VcIj4nICtcclxuICAgICAgICAgICAgJyAgICAgICA8ZGl2IGFyaWEtaGlkZGVuPVwidHJ1ZVwiIGRhdGEtY29tbWFuZD1cImNsb3NlXCIgY2xhc3M9XCJpY29uLWNhbmNlbFwiPjwvZGl2PicgK1xyXG4gICAgICAgICAgICAnICAgPC9idXR0b24+JyArXHJcbiAgICAgICAgICAgICcgICA8aDUgY2xhc3M9XCJtb2RhbC10aXRsZVwiPicgKyBsYW5nLmRpYWxvZ0JveC5pbWFnZUJveC50aXRsZSArICc8L2g1PicgK1xyXG4gICAgICAgICAgICAnPC9kaXY+JyArXHJcbiAgICAgICAgICAgICc8ZGl2IGNsYXNzPVwic3VuLWVkaXRvci10YWItYnV0dG9uXCI+JyArXHJcbiAgICAgICAgICAgICcgICA8YnV0dG9uIHR5cGU9XCJidXR0b25cIiBjbGFzcz1cInN1bi1lZGl0b3ItaWQtdGFiLWxpbmsgYWN0aXZlXCIgZGF0YS10YWItbGluaz1cImltYWdlXCI+JyArIGxhbmcudG9vbGJhci5pbWFnZSArICc8L2J1dHRvbj4nICtcclxuICAgICAgICAgICAgJyAgIDxidXR0b24gdHlwZT1cImJ1dHRvblwiIGNsYXNzPVwic3VuLWVkaXRvci1pZC10YWItbGlua1wiIGRhdGEtdGFiLWxpbms9XCJ1cmxcIj4nICsgbGFuZy50b29sYmFyLmxpbmsgKyAnPC9idXR0b24+JyArXHJcbiAgICAgICAgICAgICc8L2Rpdj4nICtcclxuICAgICAgICAgICAgJzxmb3JtIGNsYXNzPVwiZWRpdG9yX2ltYWdlXCIgbWV0aG9kPVwicG9zdFwiIGVuY3R5cGU9XCJtdWx0aXBhcnQvZm9ybS1kYXRhXCI+JyArXHJcbiAgICAgICAgICAgICcgICA8ZGl2IGNsYXNzPVwic3VuLWVkaXRvci1pZC10YWItY29udGVudCBzdW4tZWRpdG9yLWlkLXRhYi1jb250ZW50LWltYWdlXCI+JyArXHJcbiAgICAgICAgICAgICcgICAgICAgPGRpdiBjbGFzcz1cIm1vZGFsLWJvZHlcIj4nO1xyXG5cclxuICAgICAgICAgICAgaWYgKHVzZXIuaW1hZ2VGaWxlSW5wdXQpIHtcclxuICAgICAgICAgICAgICAgIGh0bWwgKz0gJycgK1xyXG4gICAgICAgICAgICAgICAgICAgICcgICA8ZGl2IGNsYXNzPVwiZm9ybS1ncm91cFwiPicgK1xyXG4gICAgICAgICAgICAgICAgICAgICcgICAgICAgPGxhYmVsPicgKyBsYW5nLmRpYWxvZ0JveC5pbWFnZUJveC5maWxlICsgJzwvbGFiZWw+JyArXHJcbiAgICAgICAgICAgICAgICAgICAgJyAgICAgICA8aW5wdXQgY2xhc3M9XCJmb3JtLWNvbnRyb2wgc3VuLWVkaXRvci1pZC1pbWFnZS1maWxlXCIgdHlwZT1cImZpbGVcIiBhY2NlcHQ9XCJpbWFnZS8qXCIgbXVsdGlwbGU9XCJtdWx0aXBsZVwiIC8+JyArXHJcbiAgICAgICAgICAgICAgICAgICAgJyAgIDwvZGl2PicgO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBpZiAodXNlci5pbWFnZVVybElucHV0KSB7XHJcbiAgICAgICAgICAgICAgICBodG1sICs9ICcnICtcclxuICAgICAgICAgICAgICAgICAgICAnICAgPGRpdiBjbGFzcz1cImZvcm0tZ3JvdXBcIj4nICtcclxuICAgICAgICAgICAgICAgICAgICAnICAgICAgIDxsYWJlbD4nICsgbGFuZy5kaWFsb2dCb3guaW1hZ2VCb3gudXJsICsgJzwvbGFiZWw+JyArXHJcbiAgICAgICAgICAgICAgICAgICAgJyAgICAgICA8aW5wdXQgY2xhc3M9XCJmb3JtLWNvbnRyb2wgc3VuLWVkaXRvci1pZC1pbWFnZS11cmxcIiB0eXBlPVwidGV4dFwiIC8+JyArXHJcbiAgICAgICAgICAgICAgICAgICAgJyAgIDwvZGl2Pic7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGh0bWwgKz0gJycgK1xyXG4gICAgICAgICAgICAnICAgICAgICAgICA8ZGl2IGNsYXNzPVwiZm9ybS1ncm91cFwiPicgK1xyXG4gICAgICAgICAgICAnICAgICAgICAgICAgICAgPGxhYmVsPicgKyBsYW5nLmRpYWxvZ0JveC5pbWFnZUJveC5hbHRUZXh0ICsgJzwvbGFiZWw+PGlucHV0IGNsYXNzPVwiZm9ybS1jb250cm9sIHN1bi1lZGl0b3ItaWQtaW1hZ2UtYWx0XCIgdHlwZT1cInRleHRcIiAvPicgK1xyXG4gICAgICAgICAgICAnICAgICAgICAgICA8L2Rpdj4nICtcclxuICAgICAgICAgICAgJyAgICAgICAgICAgPGRpdiBjbGFzcz1cImZvcm0tZ3JvdXBcIj4nICtcclxuICAgICAgICAgICAgJyAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJzaXplLXRleHRcIj48bGFiZWwgY2xhc3M9XCJzaXplLXdcIj4nICsgbGFuZy5kaWFsb2dCb3gud2lkdGggKyAnPC9sYWJlbD48bGFiZWwgY2xhc3M9XCJzaXplLXhcIj4mbmJzcDs8L2xhYmVsPjxsYWJlbCBjbGFzcz1cInNpemUtaFwiPicgKyBsYW5nLmRpYWxvZ0JveC5oZWlnaHQgKyAnPC9sYWJlbD48L2Rpdj4nICtcclxuICAgICAgICAgICAgJyAgICAgICAgICAgICAgIDxpbnB1dCBjbGFzcz1cImZvcm0tc2l6ZS1jb250cm9sIHN1bi1lZGl0b3ItaWQtaW1hZ2UteFwiIHR5cGU9XCJudW1iZXJcIiBtaW49XCIxXCIgLz48bGFiZWwgY2xhc3M9XCJzaXplLXhcIj54PC9sYWJlbD48aW5wdXQgY2xhc3M9XCJmb3JtLXNpemUtY29udHJvbCBzdW4tZWRpdG9yLWlkLWltYWdlLXlcIiB0eXBlPVwibnVtYmVyXCIgbWluPVwiMVwiIGRpc2FibGVkIC8+JyArXHJcbiAgICAgICAgICAgICcgICAgICAgICAgICAgICA8aW5wdXQgdHlwZT1cImNoZWNrYm94XCIgaWQ9XCJzdW5lZGl0b3JfaW1hZ2VfY2hlY2tfcHJvcG9ydGlvblwiIHN0eWxlPVwibWFyZ2luLWxlZnQ6IDIwcHg7XCIgY2hlY2tlZCBkaXNhYmxlZC8+PGxhYmVsIGZvcj1cInN1bmVkaXRvcl9pbWFnZV9jaGVja19wcm9wb3J0aW9uXCI+Jm5ic3A7JyArIGxhbmcuZGlhbG9nQm94LnByb3BvcnRpb24gKyAnPC9sYWJlbD4nICtcclxuICAgICAgICAgICAgJyAgICAgICAgICAgICAgIDxidXR0b24gdHlwZT1cImJ1dHRvblwiIHRpdGxlPVwiJyArIGxhbmcuZGlhbG9nQm94LnJldmVydEJ1dHRvbiArICdcIiBjbGFzcz1cImJ0bl9lZGl0b3Igc3VuLWVkaXRvci1pZC1pbWFnZS1yZXZlcnQtYnV0dG9uXCIgc3R5bGU9XCJmbG9hdDogcmlnaHQ7XCI+PGRpdiBjbGFzcz1cImljb24tcmV2ZXJ0XCI+PC9kaXY+PC9idXR0b24+JyArXHJcbiAgICAgICAgICAgICcgICAgICAgICAgIDwvZGl2PicgK1xyXG4gICAgICAgICAgICAnICAgICAgICAgICA8ZGl2IGNsYXNzPVwiZm9ybS1ncm91cC1mb290ZXJcIj4nICtcclxuICAgICAgICAgICAgJyAgICAgICAgICAgICAgIDxpbnB1dCB0eXBlPVwiY2hlY2tib3hcIiBpZD1cInN1bmVkaXRvcl9pbWFnZV9jaGVja19jYXB0aW9uXCIgLz48bGFiZWwgZm9yPVwic3VuZWRpdG9yX2ltYWdlX2NoZWNrX2NhcHRpb25cIj4mbmJzcDsnICsgbGFuZy5kaWFsb2dCb3guaW1hZ2VCb3guY2FwdGlvbiArICc8L2xhYmVsPicgK1xyXG4gICAgICAgICAgICAnICAgICAgICAgICA8L2Rpdj4nICtcclxuICAgICAgICAgICAgJyAgICAgICA8L2Rpdj4nICtcclxuICAgICAgICAgICAgJyAgIDwvZGl2PicgK1xyXG4gICAgICAgICAgICAnICAgPGRpdiBjbGFzcz1cInN1bi1lZGl0b3ItaWQtdGFiLWNvbnRlbnQgc3VuLWVkaXRvci1pZC10YWItY29udGVudC11cmxcIiBzdHlsZT1cImRpc3BsYXk6IG5vbmVcIj4nICtcclxuICAgICAgICAgICAgJyAgICAgICA8ZGl2IGNsYXNzPVwibW9kYWwtYm9keVwiPicgK1xyXG4gICAgICAgICAgICAnICAgICAgICAgICA8ZGl2IGNsYXNzPVwiZm9ybS1ncm91cFwiPicgK1xyXG4gICAgICAgICAgICAnICAgICAgICAgICAgICAgPGxhYmVsPicgKyBsYW5nLmRpYWxvZ0JveC5saW5rQm94LnVybCArICc8L2xhYmVsPjxpbnB1dCBjbGFzcz1cImZvcm0tY29udHJvbCBzdW4tZWRpdG9yLWlkLWltYWdlLWxpbmtcIiB0eXBlPVwidGV4dFwiIC8+JyArXHJcbiAgICAgICAgICAgICcgICAgICAgICAgIDwvZGl2PicgK1xyXG4gICAgICAgICAgICAnICAgICAgICAgICA8bGFiZWw+PGlucHV0IHR5cGU9XCJjaGVja2JveFwiIGNsYXNzPVwic3VuLWVkaXRvci1pZC1saW5rQ2hlY2tcIiAvPiZuYnNwOycgKyBsYW5nLmRpYWxvZ0JveC5saW5rQm94Lm5ld1dpbmRvd0NoZWNrICsgJzwvbGFiZWw+JyArXHJcbiAgICAgICAgICAgICcgICAgICAgPC9kaXY+JyArXHJcbiAgICAgICAgICAgICcgICA8L2Rpdj4nICtcclxuICAgICAgICAgICAgJyAgIDxkaXYgY2xhc3M9XCJtb2RhbC1mb290ZXJcIj4nICtcclxuICAgICAgICAgICAgJyAgICAgICA8ZGl2IHN0eWxlPVwiZmxvYXQ6IGxlZnQ7XCI+JyArXHJcbiAgICAgICAgICAgICcgICAgICAgICAgIDxpbnB1dCB0eXBlPVwicmFkaW9cIiBpZD1cInN1bmVkaXRvcl9pbWFnZV9yYWRpb19ub25lXCIgbmFtZT1cInN1bmVkaXRvcl9pbWFnZV9yYWRpb1wiIGNsYXNzPVwibW9kYWwtcmFkaW9cIiB2YWx1ZT1cIm5vbmVcIiBjaGVja2VkPjxsYWJlbCBmb3I9XCJzdW5lZGl0b3JfaW1hZ2VfcmFkaW9fbm9uZVwiPicgKyBsYW5nLmRpYWxvZ0JveC5iYXNpYyArICc8L2xhYmVsPicgK1xyXG4gICAgICAgICAgICAnICAgICAgICAgICA8aW5wdXQgdHlwZT1cInJhZGlvXCIgaWQ9XCJzdW5lZGl0b3JfaW1hZ2VfcmFkaW9fbGVmdFwiIG5hbWU9XCJzdW5lZGl0b3JfaW1hZ2VfcmFkaW9cIiBjbGFzcz1cIm1vZGFsLXJhZGlvXCIgdmFsdWU9XCJsZWZ0XCI+PGxhYmVsIGZvcj1cInN1bmVkaXRvcl9pbWFnZV9yYWRpb19sZWZ0XCI+JyArIGxhbmcuZGlhbG9nQm94LmxlZnQgKyAnPC9sYWJlbD4nICtcclxuICAgICAgICAgICAgJyAgICAgICAgICAgPGlucHV0IHR5cGU9XCJyYWRpb1wiIGlkPVwic3VuZWRpdG9yX2ltYWdlX3JhZGlvX2NlbnRlclwiIG5hbWU9XCJzdW5lZGl0b3JfaW1hZ2VfcmFkaW9cIiBjbGFzcz1cIm1vZGFsLXJhZGlvXCIgdmFsdWU9XCJjZW50ZXJcIj48bGFiZWwgZm9yPVwic3VuZWRpdG9yX2ltYWdlX3JhZGlvX2NlbnRlclwiPicgKyBsYW5nLmRpYWxvZ0JveC5jZW50ZXIgKyAnPC9sYWJlbD4nICtcclxuICAgICAgICAgICAgJyAgICAgICAgICAgPGlucHV0IHR5cGU9XCJyYWRpb1wiIGlkPVwic3VuZWRpdG9yX2ltYWdlX3JhZGlvX3JpZ2h0XCIgbmFtZT1cInN1bmVkaXRvcl9pbWFnZV9yYWRpb1wiIGNsYXNzPVwibW9kYWwtcmFkaW9cIiB2YWx1ZT1cInJpZ2h0XCI+PGxhYmVsIGZvcj1cInN1bmVkaXRvcl9pbWFnZV9yYWRpb19yaWdodFwiPicgKyBsYW5nLmRpYWxvZ0JveC5yaWdodCArICc8L2xhYmVsPicgK1xyXG4gICAgICAgICAgICAnICAgICAgIDwvZGl2PicgK1xyXG4gICAgICAgICAgICAnICAgICAgIDxidXR0b24gdHlwZT1cInN1Ym1pdFwiIGNsYXNzPVwiYnRuIGJ0bi1wcmltYXJ5IHN1bi1lZGl0b3ItaWQtc3VibWl0LWltYWdlXCI+PHNwYW4+JyArIGxhbmcuZGlhbG9nQm94LnN1Ym1pdEJ1dHRvbiArICc8L3NwYW4+PC9idXR0b24+JyArXHJcbiAgICAgICAgICAgICcgICA8L2Rpdj4nICtcclxuICAgICAgICAgICAgJzwvZm9ybT4nO1xyXG5cclxuICAgICAgICBkaWFsb2cuaW5uZXJIVE1MID0gaHRtbDtcclxuXHJcbiAgICAgICAgcmV0dXJuIGRpYWxvZztcclxuICAgIH0sXHJcblxyXG4gICAgb3BlblRhYjogZnVuY3Rpb24gKGUpIHtcclxuICAgICAgICBjb25zdCB0YXJnZXRFbGVtZW50ID0gKGUgPT09ICdpbml0JyA/IGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoJ3N1bi1lZGl0b3ItaWQtdGFiLWxpbmsnKVswXSA6IGUudGFyZ2V0KTtcclxuXHJcbiAgICAgICAgaWYgKCEvXkJVVFRPTiQvaS50ZXN0KHRhcmdldEVsZW1lbnQudGFnTmFtZSkpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gRGVjbGFyZSBhbGwgdmFyaWFibGVzXHJcbiAgICAgICAgY29uc3QgdGFiTmFtZSA9IHRhcmdldEVsZW1lbnQuZ2V0QXR0cmlidXRlKCdkYXRhLXRhYi1saW5rJyk7XHJcbiAgICAgICAgY29uc3QgY29udGVudENsYXNzTmFtZSA9ICdzdW4tZWRpdG9yLWlkLXRhYi1jb250ZW50JztcclxuICAgICAgICBsZXQgaSwgdGFiY29udGVudCwgdGFibGlua3M7XHJcblxyXG4gICAgICAgIC8vIEdldCBhbGwgZWxlbWVudHMgd2l0aCBjbGFzcz1cInRhYmNvbnRlbnRcIiBhbmQgaGlkZSB0aGVtXHJcbiAgICAgICAgdGFiY29udGVudCA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoY29udGVudENsYXNzTmFtZSk7XHJcbiAgICAgICAgZm9yIChpID0gMDsgaSA8IHRhYmNvbnRlbnQubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgdGFiY29udGVudFtpXS5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gR2V0IGFsbCBlbGVtZW50cyB3aXRoIGNsYXNzPVwidGFibGlua3NcIiBhbmQgcmVtb3ZlIHRoZSBjbGFzcyBcImFjdGl2ZVwiXHJcbiAgICAgICAgdGFibGlua3MgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCdzdW4tZWRpdG9yLWlkLXRhYi1saW5rJyk7XHJcbiAgICAgICAgZm9yIChpID0gMDsgaSA8IHRhYmxpbmtzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIHRoaXMudXRpbC5yZW1vdmVDbGFzcyh0YWJsaW5rc1tpXSwgJ2FjdGl2ZScpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gU2hvdyB0aGUgY3VycmVudCB0YWIsIGFuZCBhZGQgYW4gXCJhY3RpdmVcIiBjbGFzcyB0byB0aGUgYnV0dG9uIHRoYXQgb3BlbmVkIHRoZSB0YWJcclxuICAgICAgICB0aGlzLmNvbnRleHQuaW1hZ2UubW9kYWwuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZShjb250ZW50Q2xhc3NOYW1lICsgJy0nICsgdGFiTmFtZSlbMF0uc3R5bGUuZGlzcGxheSA9ICdibG9jayc7XHJcbiAgICAgICAgdGhpcy51dGlsLmFkZENsYXNzKHRhcmdldEVsZW1lbnQsICdhY3RpdmUnKTtcclxuXHJcbiAgICAgICAgLy8gZm9jdXNcclxuICAgICAgICBpZiAodGFiTmFtZSA9PT0gJ2ltYWdlJykge1xyXG4gICAgICAgICAgICB0aGlzLmNvbnRleHQuaW1hZ2UuaW1nVXJsRmlsZS5mb2N1cygpO1xyXG4gICAgICAgIH0gZWxzZSBpZiAodGFiTmFtZSA9PT0gJ3VybCcpIHtcclxuICAgICAgICAgICAgdGhpcy5jb250ZXh0LmltYWdlLmltZ0xpbmsuZm9jdXMoKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgIH0sXHJcblxyXG4gICAgeG1sSHR0cDogbnVsbCxcclxuXHJcbiAgICBvblJlbmRlcl9pbWdJbnB1dDogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIGZ1bmN0aW9uIGlucHV0QWN0aW9uKGZpbGVzKSB7XHJcbiAgICAgICAgICAgIGlmIChmaWxlcy5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBpbWFnZVVwbG9hZFVybCA9IHRoaXMuY29udGV4dC51c2VyLmltYWdlVXBsb2FkVXJsO1xyXG4gICAgICAgICAgICAgICAgY29uc3QgZmlsZXNMZW4gPSB0aGlzLmNvbnRleHQuZGlhbG9nLnVwZGF0ZU1vZGFsID8gMSA6IGZpbGVzLmxlbmd0aDtcclxuXHJcbiAgICAgICAgICAgICAgICBpZiAoaW1hZ2VVcGxvYWRVcmwgIT09IG51bGwgJiYgaW1hZ2VVcGxvYWRVcmwubGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGZvcm1EYXRhID0gbmV3IEZvcm1EYXRhKCk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgZmlsZXNMZW47IGkrKykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBmb3JtRGF0YS5hcHBlbmQoJ2ZpbGUtJyArIGksIGZpbGVzW2ldKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMucGx1Z2lucy5pbWFnZS54bWxIdHRwID0gdGhpcy51dGlsLmdldFhNTEh0dHBSZXF1ZXN0KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5wbHVnaW5zLmltYWdlLnhtbEh0dHAub25yZWFkeXN0YXRlY2hhbmdlID0gdGhpcy5wbHVnaW5zLmltYWdlLmNhbGxCYWNrX2ltZ1VwbG9hZC5iaW5kKHRoaXMsIHRoaXMuY29udGV4dC5pbWFnZS5fbGlua1ZhbHVlLCB0aGlzLmNvbnRleHQuaW1hZ2UuaW1nTGlua05ld1dpbmRvd0NoZWNrLmNoZWNrZWQsIHRoaXMuY29udGV4dC5pbWFnZS5pbWFnZVgudmFsdWUgKyAncHgnLCB0aGlzLmNvbnRleHQuaW1hZ2UuX2FsaWduLCB0aGlzLmNvbnRleHQuZGlhbG9nLnVwZGF0ZU1vZGFsKTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnBsdWdpbnMuaW1hZ2UueG1sSHR0cC5vcGVuKCdwb3N0JywgaW1hZ2VVcGxvYWRVcmwsIHRydWUpO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMucGx1Z2lucy5pbWFnZS54bWxIdHRwLnNlbmQoZm9ybURhdGEpO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGZpbGVzTGVuOyBpKyspIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5wbHVnaW5zLmltYWdlLnNldHVwX3JlYWRlci5jYWxsKHRoaXMsIGZpbGVzW2ldLCB0aGlzLmNvbnRleHQuaW1hZ2UuX2xpbmtWYWx1ZSwgdGhpcy5jb250ZXh0LmltYWdlLmltZ0xpbmtOZXdXaW5kb3dDaGVjay5jaGVja2VkLCB0aGlzLmNvbnRleHQuZGlhbG9nLnVwZGF0ZU1vZGFsKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIGlucHV0QWN0aW9uLmNhbGwodGhpcywgdGhpcy5jb250ZXh0LmltYWdlLmltZ0lucHV0RmlsZS5maWxlcyk7XHJcbiAgICAgICAgfSBjYXRjaCAoZSkge1xyXG4gICAgICAgICAgICB0aGlzLmNsb3NlTG9hZGluZygpO1xyXG4gICAgICAgICAgICB0aHJvdyBFcnJvcignW1NVTkVESVRPUi5pbWFnZVVwbG9hZC5mYWlsXSBjYXVzZSA6IFwiJyArIGUubWVzc2FnZSArICdcIicpO1xyXG4gICAgICAgIH1cclxuICAgIH0sXHJcblxyXG4gICAgc2V0dXBfcmVhZGVyOiBmdW5jdGlvbiAoZmlsZSwgaW1nTGlua1ZhbHVlLCBuZXdXaW5kb3dDaGVjaywgdXBkYXRlKSB7XHJcbiAgICAgICAgY29uc3QgcmVhZGVyID0gbmV3IEZpbGVSZWFkZXIoKTtcclxuXHJcbiAgICAgICAgcmVhZGVyLm9ubG9hZCA9IGZ1bmN0aW9uICh1cGRhdGUpIHtcclxuICAgICAgICAgICAgdGhpcy5wbHVnaW5zLmltYWdlLmNyZWF0ZV9pbWFnZS5jYWxsKHRoaXMsIHJlYWRlci5yZXN1bHQsIGltZ0xpbmtWYWx1ZSwgbmV3V2luZG93Q2hlY2ssIHRoaXMuY29udGV4dC5pbWFnZS5pbWFnZVgudmFsdWUgKyAncHgnLCB0aGlzLmNvbnRleHQuaW1hZ2UuX2FsaWduLCB1cGRhdGUpO1xyXG4gICAgICAgIH0uYmluZCh0aGlzLCB1cGRhdGUpO1xyXG5cclxuICAgICAgICByZWFkZXIucmVhZEFzRGF0YVVSTChmaWxlKTtcclxuICAgIH0sXHJcblxyXG4gICAgY2FsbEJhY2tfaW1nVXBsb2FkOiBmdW5jdGlvbiAobGlua1ZhbHVlLCBsaW5rTmV3V2luZG93LCB3aWR0aCwgYWxpZ24sIHVwZGF0ZSkge1xyXG4gICAgICAgIGNvbnN0IHhtbEh0dHAgPSB0aGlzLnBsdWdpbnMuaW1hZ2UueG1sSHR0cDtcclxuICAgICAgICBpZiAoeG1sSHR0cC5yZWFkeVN0YXRlID09PSA0KSB7XHJcbiAgICAgICAgICAgIGlmICh4bWxIdHRwLnN0YXR1cyA9PT0gMjAwKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCByZXN1bHQgPSBldmFsKHhtbEh0dHAucmVzcG9uc2VUZXh0KTtcclxuXHJcbiAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gMCwgbGVuID0gKHVwZGF0ZSAmJiByZXN1bHQubGVuZ3RoID4gMCA/IDEgOiByZXN1bHQubGVuZ3RoKTsgaSA8IGxlbjsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5wbHVnaW5zLmltYWdlLmNyZWF0ZV9pbWFnZS5jYWxsKHRoaXMsIHJlc3VsdFtpXS5TVU5FRElUT1JfSU1BR0VfU1JDLCBsaW5rVmFsdWUsIGxpbmtOZXdXaW5kb3csIHdpZHRoLCBhbGlnbiwgdXBkYXRlKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHdpbmRvdy5vcGVuKCcnLCAnX2JsYW5rJykuZG9jdW1lbnQud3JpdGVsbih4bWxIdHRwLnJlc3BvbnNlVGV4dCk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHRoaXMuY2xvc2VMb2FkaW5nKCk7XHJcbiAgICAgICAgfVxyXG4gICAgfSxcclxuXHJcbiAgICBvblJlbmRlcl9pbWdVcmw6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBpZiAodGhpcy5jb250ZXh0LmltYWdlLmltZ1VybEZpbGUudmFsdWUudHJpbSgpLmxlbmd0aCA9PT0gMCkgcmV0dXJuIGZhbHNlO1xyXG5cclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICB0aGlzLnBsdWdpbnMuaW1hZ2UuY3JlYXRlX2ltYWdlLmNhbGwodGhpcywgdGhpcy5jb250ZXh0LmltYWdlLmltZ1VybEZpbGUudmFsdWUsIHRoaXMuY29udGV4dC5pbWFnZS5fbGlua1ZhbHVlLCB0aGlzLmNvbnRleHQuaW1hZ2UuaW1nTGlua05ld1dpbmRvd0NoZWNrLmNoZWNrZWQsIHRoaXMuY29udGV4dC5pbWFnZS5pbWFnZVgudmFsdWUgKyAncHgnLCB0aGlzLmNvbnRleHQuaW1hZ2UuX2FsaWduKTtcclxuICAgICAgICB9IGNhdGNoIChlKSB7XHJcbiAgICAgICAgICAgIHRoaXMuY2xvc2VMb2FkaW5nKCk7XHJcbiAgICAgICAgICAgIHRocm93IEVycm9yKCdbU1VORURJVE9SLmluc2VyZXRJbWFnZVVybC5mYWlsXSBjYXVzZSA6IFwiJyArIGUubWVzc2FnZSArICdcIicpO1xyXG4gICAgICAgIH1cclxuICAgIH0sXHJcblxyXG4gICAgb25SZW5kZXJfbGluazogZnVuY3Rpb24gKGltZ1RhZywgaW1nTGlua1ZhbHVlLCBuZXdXaW5kb3dDaGVjaykge1xyXG4gICAgICAgIGlmIChpbWdMaW5rVmFsdWUudHJpbSgpLmxlbmd0aCA+IDApIHtcclxuICAgICAgICAgICAgY29uc3QgbGluayA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ0EnKTtcclxuICAgICAgICAgICAgbGluay5ocmVmID0gL15odHRwcz86XFwvXFwvLy50ZXN0KGltZ0xpbmtWYWx1ZSkgPyBpbWdMaW5rVmFsdWUgOiAnaHR0cDovLycgKyBpbWdMaW5rVmFsdWU7XHJcbiAgICAgICAgICAgIGxpbmsudGFyZ2V0ID0gKG5ld1dpbmRvd0NoZWNrID8gJ19ibGFuaycgOiAnJyk7XHJcbiAgICAgICAgICAgIGxpbmsuc2V0QXR0cmlidXRlKCdkYXRhLWltYWdlLWxpbmsnLCAnaW1hZ2UnKTtcclxuICAgICAgICAgICAgbGluay5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZ1bmN0aW9uIChlKSB7IGUucHJldmVudERlZmF1bHQoKTsgfSk7XHJcblxyXG4gICAgICAgICAgICBpbWdUYWcuc2V0QXR0cmlidXRlKCdkYXRhLWltYWdlLWxpbmsnLCBpbWdMaW5rVmFsdWUpO1xyXG4gICAgICAgICAgICBpbWdUYWcuc3R5bGUucGFkZGluZyA9ICcxcHgnO1xyXG4gICAgICAgICAgICBpbWdUYWcuc3R5bGUubWFyZ2luID0gJzFweCc7XHJcbiAgICAgICAgICAgIGltZ1RhZy5zdHlsZS5vdXRsaW5lID0gJzFweCBzb2xpZCAjZjRiMTI0JztcclxuXHJcbiAgICAgICAgICAgIGxpbmsuYXBwZW5kQ2hpbGQoaW1nVGFnKTtcclxuICAgICAgICAgICAgcmV0dXJuIGxpbms7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4gaW1nVGFnO1xyXG4gICAgfSxcclxuXHJcbiAgICBzZXRJbnB1dFNpemU6IGZ1bmN0aW9uICh4eSkge1xyXG4gICAgICAgIGlmICghdGhpcy5jb250ZXh0LmRpYWxvZy51cGRhdGVNb2RhbCkgcmV0dXJuO1xyXG5cclxuICAgICAgICBpZiAodGhpcy5jb250ZXh0LmltYWdlLnByb3BvcnRpb24uY2hlY2tlZCkge1xyXG4gICAgICAgICAgICBpZiAoeHkgPT09ICd4Jykge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5jb250ZXh0LmltYWdlLmltYWdlWS52YWx1ZSA9IE1hdGgucm91bmQoKHRoaXMuY29udGV4dC5pbWFnZS5fZWxlbWVudF9oIC8gdGhpcy5jb250ZXh0LmltYWdlLl9lbGVtZW50X3cpICogdGhpcy5jb250ZXh0LmltYWdlLmltYWdlWC52YWx1ZSk7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmNvbnRleHQuaW1hZ2UuaW1hZ2VYLnZhbHVlID0gTWF0aC5yb3VuZCgodGhpcy5jb250ZXh0LmltYWdlLl9lbGVtZW50X3cgLyB0aGlzLmNvbnRleHQuaW1hZ2UuX2VsZW1lbnRfaCkgKiB0aGlzLmNvbnRleHQuaW1hZ2UuaW1hZ2VZLnZhbHVlKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH0sXHJcblxyXG4gICAgc3VibWl0OiBmdW5jdGlvbiAoZSkge1xyXG4gICAgICAgIHRoaXMuc2hvd0xvYWRpbmcoKTtcclxuXHJcbiAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XHJcblxyXG4gICAgICAgIHRoaXMuY29udGV4dC5pbWFnZS5fbGlua1ZhbHVlID0gdGhpcy5jb250ZXh0LmltYWdlLmltZ0xpbmsudmFsdWU7XHJcbiAgICAgICAgdGhpcy5jb250ZXh0LmltYWdlLl9hbHRUZXh0ID0gdGhpcy5jb250ZXh0LmltYWdlLmFsdFRleHQudmFsdWU7XHJcbiAgICAgICAgdGhpcy5jb250ZXh0LmltYWdlLl9hbGlnbiA9IHRoaXMuY29udGV4dC5pbWFnZS5tb2RhbC5xdWVyeVNlbGVjdG9yKCdpbnB1dFtuYW1lPVwic3VuZWRpdG9yX2ltYWdlX3JhZGlvXCJdOmNoZWNrZWQnKS52YWx1ZTtcclxuICAgICAgICB0aGlzLmNvbnRleHQuaW1hZ2UuX2NhcHRpb25DaGVja2VkID0gdGhpcy5jb250ZXh0LmltYWdlLmNhcHRpb24uY2hlY2tlZDtcclxuICAgICAgICB0aGlzLmNvbnRleHQuaW1hZ2UuX3Byb3BvcnRpb25DaGVja2VkID0gdGhpcy5jb250ZXh0LmltYWdlLnByb3BvcnRpb24uY2hlY2tlZDtcclxuXHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgaWYgKHRoaXMuY29udGV4dC5kaWFsb2cudXBkYXRlTW9kYWwpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMucGx1Z2lucy5pbWFnZS51cGRhdGVfaW1hZ2UuY2FsbCh0aGlzKTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHRoaXMucGx1Z2lucy5pbWFnZS5vblJlbmRlcl9pbWdJbnB1dC5jYWxsKHRoaXMpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5wbHVnaW5zLmltYWdlLm9uUmVuZGVyX2ltZ1VybC5jYWxsKHRoaXMpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSBmaW5hbGx5IHtcclxuICAgICAgICAgICAgdGhpcy5wbHVnaW5zLmRpYWxvZy5jbG9zZURpYWxvZy5jYWxsKHRoaXMpO1xyXG4gICAgICAgICAgICB0aGlzLmNsb3NlTG9hZGluZygpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgfSxcclxuXHJcbiAgICBjcmVhdGVfY2FwdGlvbjogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIGNvbnN0IGNhcHRpb24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdGSUdDQVBUSU9OJyk7XHJcblxyXG4gICAgICAgIGNhcHRpb24uaW5uZXJIVE1MID0gJzxwPicgKyB0aGlzLmxhbmcuZGlhbG9nQm94LmltYWdlQm94LmNhcHRpb24gKyAnPC9wPic7XHJcbiAgICAgICAgY2FwdGlvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMucGx1Z2lucy5pbWFnZS50b2dnbGVfY2FwdGlvbl9jb250ZW50ZWRpdGFibGUuYmluZCh0aGlzLCB0cnVlKSk7XHJcblxyXG4gICAgICAgIHJldHVybiBjYXB0aW9uO1xyXG4gICAgfSxcclxuXHJcbiAgICBzZXRfY292ZXI6IGZ1bmN0aW9uIChpbWFnZUVsZW1lbnQpIHtcclxuICAgICAgICBjb25zdCBjb3ZlciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ0ZJR1VSRScpO1xyXG4gICAgICAgIGNvdmVyLmNsYXNzTmFtZSA9ICdzdW4tZWRpdG9yLWltYWdlLWNvdmVyJztcclxuICAgICAgICBjb3Zlci5hcHBlbmRDaGlsZChpbWFnZUVsZW1lbnQpO1xyXG5cclxuICAgICAgICByZXR1cm4gY292ZXI7XHJcbiAgICB9LFxyXG5cclxuICAgIHNldF9jb250YWluZXI6IGZ1bmN0aW9uIChjb3Zlcikge1xyXG4gICAgICAgIGNvbnN0IGNvbnRhaW5lciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ0RJVicpO1xyXG4gICAgICAgIGNvbnRhaW5lci5jbGFzc05hbWUgPSAnc3VuLWVkaXRvci1pZC1pbWFnZS1jb250YWluZXInO1xyXG4gICAgICAgIGNvbnRhaW5lci5zZXRBdHRyaWJ1dGUoJ2NvbnRlbnRlZGl0YWJsZScsIGZhbHNlKTtcclxuICAgICAgICBjb250YWluZXIuc3R5bGUudGV4dEFsaWduID0gJ2NlbnRlcic7XHJcbiAgICAgICAgY29udGFpbmVyLmFwcGVuZENoaWxkKGNvdmVyKTtcclxuXHJcbiAgICAgICAgcmV0dXJuIGNvbnRhaW5lcjtcclxuICAgIH0sXHJcblxyXG4gICAgY3JlYXRlX2ltYWdlOiBmdW5jdGlvbiAoc3JjLCBsaW5rVmFsdWUsIGxpbmtOZXdXaW5kb3csIHdpZHRoLCBhbGlnbiwgdXBkYXRlKSB7XHJcbiAgICAgICAgaWYgKHVwZGF0ZSkge1xyXG4gICAgICAgICAgICB0aGlzLmNvbnRleHQuaW1hZ2UuX2VsZW1lbnQuc3JjID0gc3JjO1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBsZXQgb0ltZyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ0lNRycpO1xyXG4gICAgICAgIG9JbWcuc3JjID0gc3JjO1xyXG4gICAgICAgIG9JbWcuc3R5bGUud2lkdGggPSB3aWR0aDtcclxuICAgICAgICBvSW1nLnNldEF0dHJpYnV0ZSgnZGF0YS1hbGlnbicsIGFsaWduKTtcclxuICAgICAgICBvSW1nLnNldEF0dHJpYnV0ZSgnZGF0YS1wcm9wb3J0aW9uJywgdGhpcy5jb250ZXh0LmltYWdlLl9wcm9wb3J0aW9uQ2hlY2tlZCk7XHJcbiAgICAgICAgb0ltZy5hbHQgPSB0aGlzLmNvbnRleHQuaW1hZ2UuX2FsdFRleHQ7XHJcbiAgICAgICAgb0ltZyA9IHRoaXMucGx1Z2lucy5pbWFnZS5vblJlbmRlcl9saW5rKG9JbWcsIGxpbmtWYWx1ZSwgbGlua05ld1dpbmRvdyk7XHJcblxyXG4gICAgICAgIGNvbnN0IGNvdmVyID0gdGhpcy5wbHVnaW5zLmltYWdlLnNldF9jb3Zlci5jYWxsKHRoaXMsIG9JbWcpO1xyXG4gICAgICAgIGNvbnN0IGNvbnRhaW5lciA9IHRoaXMucGx1Z2lucy5pbWFnZS5zZXRfY29udGFpbmVyLmNhbGwodGhpcywgY292ZXIpO1xyXG5cclxuICAgICAgICAvLyBjYXB0aW9uXHJcbiAgICAgICAgaWYgKHRoaXMuY29udGV4dC5pbWFnZS5fY2FwdGlvbkNoZWNrZWQpIHtcclxuICAgICAgICAgICAgdGhpcy5jb250ZXh0LmltYWdlLl9pbWFnZUNhcHRpb24gPSB0aGlzLnBsdWdpbnMuaW1hZ2UuY3JlYXRlX2NhcHRpb24uY2FsbCh0aGlzKTtcclxuICAgICAgICAgICAgY292ZXIuYXBwZW5kQ2hpbGQodGhpcy5jb250ZXh0LmltYWdlLl9pbWFnZUNhcHRpb24pO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gYWxpZ25cclxuICAgICAgICBpZiAoJ2NlbnRlcicgIT09IGFsaWduKSB7XHJcbiAgICAgICAgICAgIGNvbnRhaW5lci5zdHlsZS5kaXNwbGF5ID0gJ2lubGluZS1ibG9jayc7XHJcbiAgICAgICAgICAgIGNvbnRhaW5lci5zdHlsZS5mbG9hdCA9IGFsaWduO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGhpcy5pbnNlcnROb2RlKGNvbnRhaW5lcik7XHJcbiAgICAgICAgdGhpcy5hcHBlbmRQKGNvbnRhaW5lcik7XHJcbiAgICB9LFxyXG5cclxuICAgIHVwZGF0ZV9pbWFnZTogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIGNvbnN0IGNvbnRleHRJbWFnZSA9IHRoaXMuY29udGV4dC5pbWFnZTtcclxuICAgICAgICBjb25zdCBsaW5rVmFsdWUgPSBjb250ZXh0SW1hZ2UuX2xpbmtWYWx1ZTtcclxuICAgICAgICBsZXQgY292ZXIgPSB0aGlzLnV0aWwuZ2V0UGFyZW50RWxlbWVudChjb250ZXh0SW1hZ2UuX2VsZW1lbnQsICcuc3VuLWVkaXRvci1pbWFnZS1jb3ZlcicpO1xyXG4gICAgICAgIGxldCBjb250YWluZXIgPSB0aGlzLnV0aWwuZ2V0UGFyZW50RWxlbWVudChjb250ZXh0SW1hZ2UuX2VsZW1lbnQsICcuc3VuLWVkaXRvci1pZC1pbWFnZS1jb250YWluZXInKTtcclxuICAgICAgICBsZXQgaXNOZXdDb250YWluZXIgPSBmYWxzZTtcclxuXHJcbiAgICAgICAgaWYgKGNvdmVyID09PSBudWxsKSB7XHJcbiAgICAgICAgICAgIGlzTmV3Q29udGFpbmVyID0gdHJ1ZTtcclxuICAgICAgICAgICAgY292ZXIgPSB0aGlzLnBsdWdpbnMuaW1hZ2Uuc2V0X2NvdmVyLmNhbGwodGhpcywgY29udGV4dEltYWdlLl9lbGVtZW50LmNsb25lTm9kZSh0cnVlKSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAoY29udGFpbmVyID09PSBudWxsKSB7XHJcbiAgICAgICAgICAgIGlzTmV3Q29udGFpbmVyID0gdHJ1ZTtcclxuICAgICAgICAgICAgY29udGFpbmVyID0gdGhpcy5wbHVnaW5zLmltYWdlLnNldF9jb250YWluZXIuY2FsbCh0aGlzLCBjb3Zlci5jbG9uZU5vZGUodHJ1ZSkpO1xyXG4gICAgICAgIH0gZWxzZSBpZiAoaXNOZXdDb250YWluZXIpIHtcclxuICAgICAgICAgICAgY29udGFpbmVyLmlubmVySFRNTCA9ICcnO1xyXG4gICAgICAgICAgICBjb250YWluZXIuYXBwZW5kQ2hpbGQoY292ZXIpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gaW5wdXQgdXBkYXRlXHJcbiAgICAgICAgdGhpcy5wbHVnaW5zLmltYWdlLm9uUmVuZGVyX2ltZ0lucHV0LmNhbGwodGhpcyk7XHJcblxyXG4gICAgICAgIC8vIHNyYywgc2l6ZVxyXG4gICAgICAgIGNvbnRleHRJbWFnZS5fZWxlbWVudC5zcmMgPSBjb250ZXh0SW1hZ2UuaW1nVXJsRmlsZS52YWx1ZTtcclxuICAgICAgICBjb250ZXh0SW1hZ2UuX2VsZW1lbnQuYWx0ID0gY29udGV4dEltYWdlLl9hbHRUZXh0O1xyXG4gICAgICAgIGNvbnRleHRJbWFnZS5fZWxlbWVudC5zZXRBdHRyaWJ1dGUoJ2RhdGEtcHJvcG9ydGlvbicsIGNvbnRleHRJbWFnZS5fcHJvcG9ydGlvbkNoZWNrZWQpOztcclxuICAgICAgICBjb250ZXh0SW1hZ2UuX2VsZW1lbnQuc3R5bGUud2lkdGggPSBjb250ZXh0SW1hZ2UuaW1hZ2VYLnZhbHVlICsgJ3B4JztcclxuICAgICAgICBjb250ZXh0SW1hZ2UuX2VsZW1lbnQuc3R5bGUuaGVpZ2h0ID0gY29udGV4dEltYWdlLmltYWdlWS52YWx1ZSArICdweCc7XHJcblxyXG4gICAgICAgIC8vIGNhcHRpb25cclxuICAgICAgICBpZiAoY29udGV4dEltYWdlLl9jYXB0aW9uQ2hlY2tlZCkge1xyXG4gICAgICAgICAgICBpZiAoY29udGV4dEltYWdlLl9pbWFnZUNhcHRpb24gPT09IG51bGwpIHtcclxuICAgICAgICAgICAgICAgIGNvbnRleHRJbWFnZS5faW1hZ2VDYXB0aW9uID0gdGhpcy5wbHVnaW5zLmltYWdlLmNyZWF0ZV9jYXB0aW9uLmNhbGwodGhpcyk7XHJcbiAgICAgICAgICAgICAgICBjb3Zlci5hcHBlbmRDaGlsZChjb250ZXh0SW1hZ2UuX2ltYWdlQ2FwdGlvbik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBpZiAoY29udGV4dEltYWdlLl9pbWFnZUNhcHRpb24pIHtcclxuICAgICAgICAgICAgICAgIHRoaXMudXRpbC5yZW1vdmVJdGVtKGNvbnRleHRJbWFnZS5faW1hZ2VDYXB0aW9uKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gYWxpZ25cclxuICAgICAgICBpZiAoJ2NlbnRlcicgIT09IGNvbnRleHRJbWFnZS5fYWxpZ24pIHtcclxuICAgICAgICAgICAgY29udGFpbmVyLnN0eWxlLmRpc3BsYXkgPSAnaW5saW5lLWJsb2NrJztcclxuICAgICAgICAgICAgY29udGFpbmVyLnN0eWxlLmZsb2F0ID0gY29udGV4dEltYWdlLl9hbGlnbjtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBjb250YWluZXIuc3R5bGUuZGlzcGxheSA9ICcnO1xyXG4gICAgICAgICAgICBjb250YWluZXIuc3R5bGUuZmxvYXQgPSAnbm9uZSc7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBjb250ZXh0SW1hZ2UuX2VsZW1lbnQuc2V0QXR0cmlidXRlKCdkYXRhLWFsaWduJywgY29udGV4dEltYWdlLl9hbGlnbik7XHJcblxyXG4gICAgICAgIC8vIGxpbmtcclxuICAgICAgICBpZiAobGlua1ZhbHVlLnRyaW0oKS5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICAgIGlmIChjb250ZXh0SW1hZ2UuX2xpbmtFbGVtZW50ICE9PSBudWxsKSB7XHJcbiAgICAgICAgICAgICAgICBjb250ZXh0SW1hZ2UuX2xpbmtFbGVtZW50LmhyZWYgPSBsaW5rVmFsdWU7XHJcbiAgICAgICAgICAgICAgICBjb250ZXh0SW1hZ2UuX2xpbmtFbGVtZW50LnRhcmdldCA9IHRoaXMuY29udGV4dC5pbWFnZS5pbWdMaW5rTmV3V2luZG93Q2hlY2suY2hlY2tlZDtcclxuICAgICAgICAgICAgICAgIGNvbnRleHRJbWFnZS5fZWxlbWVudC5zZXRBdHRyaWJ1dGUoJ2RhdGEtaW1hZ2UtbGluaycsIGxpbmtWYWx1ZSk7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBsZXQgbmV3RWwgPSB0aGlzLnBsdWdpbnMuaW1hZ2Uub25SZW5kZXJfbGluayhjb250ZXh0SW1hZ2UuX2VsZW1lbnQuY2xvbmVOb2RlKHRydWUpLCBsaW5rVmFsdWUsIHRoaXMuY29udGV4dC5pbWFnZS5pbWdMaW5rTmV3V2luZG93Q2hlY2suY2hlY2tlZCk7XHJcbiAgICAgICAgICAgICAgICBjb3Zlci5pbm5lckhUTUwgPSAnJztcclxuICAgICAgICAgICAgICAgIGNvdmVyLmFwcGVuZENoaWxkKG5ld0VsKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIGlmIChjb250ZXh0SW1hZ2UuX2xpbmtFbGVtZW50ICE9PSBudWxsKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IGltYWdlRWxlbWVudCA9IGNvbnRleHRJbWFnZS5fZWxlbWVudDtcclxuXHJcbiAgICAgICAgICAgIGltYWdlRWxlbWVudC5zZXRBdHRyaWJ1dGUoJ2RhdGEtaW1hZ2UtbGluaycsICcnKTtcclxuICAgICAgICAgICAgaW1hZ2VFbGVtZW50LnN0eWxlLnBhZGRpbmcgPSAnJztcclxuICAgICAgICAgICAgaW1hZ2VFbGVtZW50LnN0eWxlLm1hcmdpbiA9ICcnO1xyXG4gICAgICAgICAgICBpbWFnZUVsZW1lbnQuc3R5bGUub3V0bGluZSA9ICcnO1xyXG5cclxuICAgICAgICAgICAgbGV0IG5ld0VsID0gaW1hZ2VFbGVtZW50LmNsb25lTm9kZSh0cnVlKTtcclxuICAgICAgICAgICAgY292ZXIuaW5uZXJIVE1MID0gJyc7XHJcbiAgICAgICAgICAgIGNvdmVyLmFwcGVuZENoaWxkKG5ld0VsKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmIChpc05ld0NvbnRhaW5lcikge1xyXG4gICAgICAgICAgICBjb25zdCBleGlzdEVsZW1lbnQgPSB0aGlzLnV0aWwuZ2V0Rm9ybWF0RWxlbWVudChjb250ZXh0SW1hZ2UuX2VsZW1lbnQpO1xyXG4gICAgICAgICAgICBleGlzdEVsZW1lbnQucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUoY29udGFpbmVyLCBleGlzdEVsZW1lbnQpO1xyXG4gICAgICAgICAgICB0aGlzLnV0aWwucmVtb3ZlSXRlbShleGlzdEVsZW1lbnQpO1xyXG4gICAgICAgIH1cclxuICAgIH0sXHJcblxyXG4gICAgdG9nZ2xlX2NhcHRpb25fY29udGVudGVkaXRhYmxlOiBmdW5jdGlvbiAob24sIGUpIHtcclxuICAgICAgICB0aGlzLmNvbnRleHQuaW1hZ2UuX29uQ2FwdGlvbiA9IG9uO1xyXG4gICAgICAgIHRoaXMuY29udGV4dC5pbWFnZS5faW1hZ2VDYXB0aW9uLnNldEF0dHJpYnV0ZSgnY29udGVudGVkaXRhYmxlJywgb24pO1xyXG4gICAgICAgIHRoaXMuY29udGV4dC5pbWFnZS5faW1hZ2VDYXB0aW9uLmZvY3VzKCk7XHJcbiAgICB9LFxyXG5cclxuICAgIHNpemVSZXZlcnQ6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBjb25zdCBjb250ZXh0SW1hZ2UgPSB0aGlzLmNvbnRleHQuaW1hZ2U7XHJcbiAgICAgICAgaWYgKGNvbnRleHRJbWFnZS5fb3JpZ2luX3cpIHtcclxuICAgICAgICAgICAgY29udGV4dEltYWdlLmltYWdlWC52YWx1ZSA9IGNvbnRleHRJbWFnZS5fZWxlbWVudF93ID0gY29udGV4dEltYWdlLl9vcmlnaW5fdztcclxuICAgICAgICAgICAgY29udGV4dEltYWdlLmltYWdlWS52YWx1ZSA9IGNvbnRleHRJbWFnZS5fZWxlbWVudF9oID0gY29udGV4dEltYWdlLl9vcmlnaW5faDtcclxuICAgICAgICB9XHJcbiAgICB9LFxyXG5cclxuICAgIG9uTW9kaWZ5TW9kZTogZnVuY3Rpb24gKGVsZW1lbnQsIHNpemUpIHtcclxuICAgICAgICBjb25zdCBjb250ZXh0SW1hZ2UgPSB0aGlzLmNvbnRleHQuaW1hZ2U7XHJcbiAgICAgICAgY29udGV4dEltYWdlLl9saW5rRWxlbWVudCA9IC9eQSQvaS50ZXN0KGVsZW1lbnQucGFyZW50Tm9kZS5ub2RlTmFtZSkgPyBlbGVtZW50LnBhcmVudE5vZGUgOiBudWxsO1xyXG4gICAgICAgIGNvbnRleHRJbWFnZS5fZWxlbWVudCA9IGNvbnRleHRJbWFnZS5fcmVzaXplX2VsZW1lbnQgPSBlbGVtZW50O1xyXG4gICAgICAgIGNvbnRleHRJbWFnZS5faW1hZ2VDYXB0aW9uID0gZWxlbWVudC5uZXh0U2libGluZztcclxuXHJcbiAgICAgICAgY29udGV4dEltYWdlLl9lbGVtZW50X3cgPSBzaXplLnc7XHJcbiAgICAgICAgY29udGV4dEltYWdlLl9lbGVtZW50X2ggPSBzaXplLmg7XHJcbiAgICAgICAgY29udGV4dEltYWdlLl9lbGVtZW50X3QgPSBzaXplLnQ7XHJcbiAgICAgICAgY29udGV4dEltYWdlLl9lbGVtZW50X2wgPSBzaXplLmw7XHJcblxyXG4gICAgICAgIGxldCBvcmlnaW4gPSBjb250ZXh0SW1hZ2UuX2VsZW1lbnQuZ2V0QXR0cmlidXRlKCdkYXRhLW9yaWdpbicpO1xyXG4gICAgICAgIGlmIChvcmlnaW4pIHtcclxuICAgICAgICAgICAgb3JpZ2luID0gb3JpZ2luLnNwbGl0KCcsJyk7XHJcbiAgICAgICAgICAgIGNvbnRleHRJbWFnZS5fb3JpZ2luX3cgPSBvcmlnaW5bMF0gKiAxO1xyXG4gICAgICAgICAgICBjb250ZXh0SW1hZ2UuX29yaWdpbl9oID0gb3JpZ2luWzFdICogMTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBjb250ZXh0SW1hZ2UuX29yaWdpbl93ID0gc2l6ZS53O1xyXG4gICAgICAgICAgICBjb250ZXh0SW1hZ2UuX29yaWdpbl9oID0gc2l6ZS5oO1xyXG4gICAgICAgICAgICBjb250ZXh0SW1hZ2UuX2VsZW1lbnQuc2V0QXR0cmlidXRlKCdkYXRhLW9yaWdpbicsIHNpemUudyArICcsJyArIHNpemUuaCk7XHJcbiAgICAgICAgfVxyXG4gICAgfSxcclxuXHJcbiAgICBvcGVuTW9kaWZ5OiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgY29uc3QgY29udGV4dEltYWdlID0gdGhpcy5jb250ZXh0LmltYWdlO1xyXG4gICAgICAgIGNvbnRleHRJbWFnZS5pbWdVcmxGaWxlLnZhbHVlID0gY29udGV4dEltYWdlLl9lbGVtZW50LnNyYztcclxuICAgICAgICBjb250ZXh0SW1hZ2UuYWx0VGV4dC52YWx1ZSA9IGNvbnRleHRJbWFnZS5fZWxlbWVudC5hbHQ7XHJcbiAgICAgICAgY29udGV4dEltYWdlLmltZ0xpbmsudmFsdWUgPSBjb250ZXh0SW1hZ2UuX2xpbmtFbGVtZW50ID09PSBudWxsID8gJycgOiBjb250ZXh0SW1hZ2UuX2xpbmtFbGVtZW50LmhyZWY7XHJcbiAgICAgICAgY29udGV4dEltYWdlLmltZ0xpbmtOZXdXaW5kb3dDaGVjay5jaGVja2VkID0gIWNvbnRleHRJbWFnZS5fbGlua0VsZW1lbnQgfHwgY29udGV4dEltYWdlLl9saW5rRWxlbWVudC50YXJnZXQgPT09ICdfYmxhbmsnO1xyXG4gICAgICAgIGNvbnRleHRJbWFnZS5tb2RhbC5xdWVyeVNlbGVjdG9yKCcjc3VuZWRpdG9yX2ltYWdlX3JhZGlvXycgKyAoY29udGV4dEltYWdlLl9lbGVtZW50LmdldEF0dHJpYnV0ZSgnZGF0YS1hbGlnbicpIHx8ICdub25lJykpLmNoZWNrZWQgPSB0cnVlO1xyXG4gICAgICAgIGNvbnRleHRJbWFnZS5fY2FwdGlvbkNoZWNrZWQgPSBjb250ZXh0SW1hZ2UuY2FwdGlvbi5jaGVja2VkID0gISFjb250ZXh0SW1hZ2UuX2ltYWdlQ2FwdGlvbjtcclxuICAgICAgICBjb250ZXh0SW1hZ2UucHJvcG9ydGlvbi5jaGVja2VkID0gY29udGV4dEltYWdlLl9wcm9wb3J0aW9uQ2hlY2tlZCA9IGNvbnRleHRJbWFnZS5fZWxlbWVudC5nZXRBdHRyaWJ1dGUoJ2RhdGEtcHJvcG9ydGlvbicpID09PSAndHJ1ZSc7XHJcbiAgICAgICAgY29udGV4dEltYWdlLmltYWdlWC52YWx1ZSA9IGNvbnRleHRJbWFnZS5fZWxlbWVudC5vZmZzZXRXaWR0aDtcclxuICAgICAgICBjb250ZXh0SW1hZ2UuaW1hZ2VZLnZhbHVlID0gY29udGV4dEltYWdlLl9lbGVtZW50Lm9mZnNldEhlaWdodDtcclxuICAgICAgICBjb250ZXh0SW1hZ2UuaW1hZ2VZLmRpc2FibGVkID0gZmFsc2U7XHJcbiAgICAgICAgY29udGV4dEltYWdlLnByb3BvcnRpb24uZGlzYWJsZWQgPSBmYWxzZTtcclxuXHJcbiAgICAgICAgdGhpcy5wbHVnaW5zLmRpYWxvZy5vcGVuRGlhbG9nLmNhbGwodGhpcywgJ2ltYWdlJywgbnVsbCwgdHJ1ZSk7XHJcbiAgICB9LFxyXG5cclxuICAgIHNldFNpemU6IGZ1bmN0aW9uICh4LCB5KSB7XHJcbiAgICAgICAgdGhpcy5jb250ZXh0LmltYWdlLl9yZXNpemVfZWxlbWVudC5zdHlsZS53aWR0aCA9IHg7XHJcbiAgICAgICAgdGhpcy5jb250ZXh0LmltYWdlLl9yZXNpemVfZWxlbWVudC5zdHlsZS5oZWlnaHQgPSB5O1xyXG4gICAgfSxcclxuXHJcbiAgICBkZXN0cm95OiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgY29uc3QgaW1hZ2VDb250YWluZXIgPSB0aGlzLnV0aWwuZ2V0UGFyZW50RWxlbWVudCh0aGlzLmNvbnRleHQuaW1hZ2UuX2VsZW1lbnQsICcuc3VuLWVkaXRvci1pZC1pbWFnZS1jb250YWluZXInKSB8fCB0aGlzLmNvbnRleHQuaW1hZ2UuX2VsZW1lbnQ7XHJcbiAgICAgICAgdGhpcy51dGlsLnJlbW92ZUl0ZW0oaW1hZ2VDb250YWluZXIpO1xyXG4gICAgICAgIHRoaXMucGx1Z2lucy5pbWFnZS5pbml0LmNhbGwodGhpcyk7XHJcbiAgICB9LFxyXG5cclxuICAgIGluaXQ6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICB0aGlzLmNvbnRleHQuaW1hZ2UuaW1nSW5wdXRGaWxlLnZhbHVlID0gJyc7XHJcbiAgICAgICAgdGhpcy5jb250ZXh0LmltYWdlLmltZ1VybEZpbGUudmFsdWUgPSAnJztcclxuICAgICAgICB0aGlzLmNvbnRleHQuaW1hZ2UuYWx0VGV4dC52YWx1ZSA9ICcnO1xyXG4gICAgICAgIHRoaXMuY29udGV4dC5pbWFnZS5pbWdMaW5rLnZhbHVlID0gJyc7XHJcbiAgICAgICAgdGhpcy5jb250ZXh0LmltYWdlLmltZ0xpbmtOZXdXaW5kb3dDaGVjay5jaGVja2VkID0gZmFsc2U7XHJcbiAgICAgICAgdGhpcy5jb250ZXh0LmltYWdlLm1vZGFsLnF1ZXJ5U2VsZWN0b3IoJyNzdW5lZGl0b3JfaW1hZ2VfcmFkaW9fbm9uZScpLmNoZWNrZWQgPSB0cnVlO1xyXG4gICAgICAgIHRoaXMuY29udGV4dC5pbWFnZS5jYXB0aW9uLmNoZWNrZWQgPSBmYWxzZTtcclxuICAgICAgICB0aGlzLmNvbnRleHQuaW1hZ2UucHJvcG9ydGlvbi5jaGVja2VkID0gZmFsc2U7XHJcbiAgICAgICAgdGhpcy5jb250ZXh0LmltYWdlLmltYWdlWC52YWx1ZSA9IHRoaXMuY29udGV4dC51c2VyLmltYWdlU2l6ZTtcclxuICAgICAgICB0aGlzLmNvbnRleHQuaW1hZ2UuaW1hZ2VZLnZhbHVlID0gJyc7XHJcbiAgICAgICAgdGhpcy5jb250ZXh0LmltYWdlLmltYWdlWS5kaXNhYmxlZCA9IHRydWU7XHJcbiAgICAgICAgdGhpcy5jb250ZXh0LmltYWdlLnByb3BvcnRpb24uZGlzYWJsZWQgPSB0cnVlO1xyXG4gICAgICAgIHRoaXMuY29udGV4dC5pbWFnZS5fZWxlbWVudCA9IG51bGw7XHJcbiAgICAgICAgdGhpcy5wbHVnaW5zLmltYWdlLm9wZW5UYWIuY2FsbCh0aGlzLCAnaW5pdCcpO1xyXG4gICAgfVxyXG59O1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgaW1hZ2U7Il0sIm1hcHBpbmdzIjoiQUFBQTtBQUFBOzs7Ozs7O0FBT0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQWhCQTtBQW1CQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBRUE7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQUE7QUFFQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFjQTtBQUNBO0FBS0E7QUFDQTtBQUNBO0FBQ0E7QUFLQTtBQUNBO0FBQ0E7QUFrQ0E7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFEQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBM2dCQTtBQThnQkEiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/plugins/dialog/image.js\n");

/***/ }),

/***/ "./src/plugins/dialog/link.js":
/*!************************************!*\
  !*** ./src/plugins/dialog/link.js ***!
  \************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/*\r\n * wysiwyg web editor\r\n *\r\n * suneditor.js\r\n * Copyright 2017 JiHong Lee.\r\n * MIT license.\r\n */\n\n\nconst link = {\n  name: 'link',\n  add: function (_this) {\n    const context = _this.context;\n    context.link = {};\n    /** link dialog */\n\n    let link_dialog = eval(this.setDialog(_this.lang));\n    context.link.modal = link_dialog;\n    context.link.focusElement = link_dialog.getElementsByClassName('sun-editor-id-link-url')[0];\n    context.link.linkAnchorText = link_dialog.getElementsByClassName('sun-editor-id-link-text')[0];\n    context.link.linkNewWindowCheck = link_dialog.getElementsByClassName('sun-editor-id-link-check')[0];\n    /** link button */\n\n    let link_button = eval(this.setController_LinkBtn(_this.lang));\n    context.link.linkBtn = link_button;\n    context.link._linkAnchor = null;\n    /** add event listeners */\n\n    link_dialog.getElementsByClassName('btn-primary')[0].addEventListener('click', this.submit.bind(_this));\n    link_button.addEventListener('click', this.onClick_linkBtn.bind(_this));\n    /** append html */\n\n    context.dialog.modal.appendChild(link_dialog);\n    context.element.relative.appendChild(link_button);\n    /** empty memory */\n\n    link_dialog = null, link_button = null;\n  },\n\n  /** dialog */\n  setDialog: function (lang) {\n    const dialog = document.createElement('DIV');\n    dialog.className = 'modal-content sun-editor-id-dialog-link';\n    dialog.style.display = 'none';\n    dialog.innerHTML = '' + '<form class=\"editor_link\">' + '   <div class=\"modal-header\">' + '       <button type=\"button\" data-command=\"close\" class=\"close\" aria-label=\"Close\">' + '           <div aria-hidden=\"true\" data-command=\"close\" class=\"icon-cancel\"></div>' + '       </button>' + '       <h5 class=\"modal-title\">' + lang.dialogBox.linkBox.title + '</h5>' + '   </div>' + '   <div class=\"modal-body\">' + '       <div class=\"form-group\">' + '           <label>' + lang.dialogBox.linkBox.url + '</label>' + '           <input class=\"form-control sun-editor-id-link-url\" type=\"text\" />' + '       </div>' + '       <div class=\"form-group\">' + '           <label>' + lang.dialogBox.linkBox.text + '</label><input class=\"form-control sun-editor-id-link-text\" type=\"text\" />' + '       </div>' + '       <label class=\"label-check\"><input type=\"checkbox\" class=\"sun-editor-id-link-check\" />&nbsp;' + lang.dialogBox.linkBox.newWindowCheck + '</label>' + '   </div>' + '   <div class=\"modal-footer\">' + '       <button type=\"submit\" class=\"btn btn-primary sun-editor-id-submit-link\"><span>' + lang.dialogBox.submitButton + '</span></button>' + '   </div>' + '</form>';\n    return dialog;\n  },\n\n  /** modify controller button */\n  setController_LinkBtn: function (lang) {\n    const link_btn = document.createElement('DIV');\n    link_btn.className = 'sun-editor-id-link-btn';\n    link_btn.style.display = 'none';\n    link_btn.innerHTML = '' + '<div class=\"arrow\"></div>' + '<div class=\"link-content\"><span><a target=\"_blank\" href=\"\"></a>&nbsp;</span>' + '   <div class=\"btn-group\">' + '     <button type=\"button\" data-command=\"update\" tabindex=\"-1\" title=\"' + lang.editLink.edit + '\"><div class=\"icon-link\"></div></button>' + '     <button type=\"button\" data-command=\"delete\" tabindex=\"-1\" title=\"' + lang.editLink.remove + '\"><div class=\"icon-cancel\"></div></button>' + '   </div>' + '</div>';\n    return link_btn;\n  },\n  submit: function (e) {\n    this.showLoading();\n    e.preventDefault();\n    e.stopPropagation();\n\n    function submitAction() {\n      if (this.context.link.focusElement.value.trim().length === 0) return false;\n      const url = /^https?:\\/\\//.test(this.context.link.focusElement.value) ? this.context.link.focusElement.value : \"http://\" + this.context.link.focusElement.value;\n      const anchor = this.context.link.linkAnchorText || this.context.dialog.document.getElementById(\"linkAnchorText\");\n      const anchorText = anchor.value.length === 0 ? url : anchor.value;\n\n      if (!this.context.dialog.updateModal) {\n        const oA = document.createElement('A');\n        oA.href = url;\n        oA.textContent = anchorText;\n        oA.target = this.context.link.linkNewWindowCheck.checked ? '_blank' : '';\n        this.insertNode(oA);\n        this.setRange(oA.childNodes[0], 0, oA.childNodes[0], oA.textContent.length);\n      } else {\n        this.context.link._linkAnchor.href = url;\n        this.context.link._linkAnchor.textContent = anchorText;\n        this.context.link._linkAnchor.target = this.context.link.linkNewWindowCheck.checked ? '_blank' : '';\n        this.setRange(this.context.link._linkAnchor.childNodes[0], 0, this.context.link._linkAnchor.childNodes[0], this.context.link._linkAnchor.textContent.length);\n      }\n\n      this.context.link.focusElement.value = '';\n      this.context.link.linkAnchorText.value = '';\n    }\n\n    try {\n      submitAction.call(this);\n    } finally {\n      this.plugins.dialog.closeDialog.call(this);\n      this.closeLoading();\n      this.focus();\n    }\n\n    return false;\n  },\n  call_controller_linkButton: function (selectionATag) {\n    this.editLink = this.context.link._linkAnchor = selectionATag;\n    const linkBtn = this.context.link.linkBtn;\n    linkBtn.getElementsByTagName('A')[0].href = selectionATag.href;\n    linkBtn.getElementsByTagName('A')[0].textContent = selectionATag.textContent;\n    linkBtn.style.left = selectionATag.offsetLeft + 'px';\n    linkBtn.style.top = selectionATag.offsetTop + selectionATag.offsetHeight - this.context.element.wysiwyg.scrollTop + 10 + 'px';\n    linkBtn.style.display = 'block';\n    this.controllerArray = [linkBtn];\n  },\n  onClick_linkBtn: function (e) {\n    e.stopPropagation();\n    const command = e.target.getAttribute('data-command') || e.target.parentNode.getAttribute('data-command');\n    if (!command) return;\n    e.preventDefault();\n\n    if (/update/.test(command)) {\n      this.context.link.focusElement.value = this.context.link._linkAnchor.href;\n      this.context.link.linkAnchorText.value = this.context.link._linkAnchor.textContent;\n      this.context.link.linkNewWindowCheck.checked = /_blank/i.test(this.context.link._linkAnchor.target) ? true : false;\n      this.plugins.dialog.openDialog.call(this, 'link', null, true);\n    } else {\n      /** delete */\n      this.util.removeItem(this.context.link._linkAnchor);\n      this.context.link._linkAnchor = null;\n      this.focus();\n    }\n\n    this.context.link.linkBtn.style.display = 'none';\n  },\n  init: function () {\n    this.context.link.linkBtn.style.display = 'none';\n    this.context.link._linkAnchor = null;\n    this.context.link.focusElement.value = '';\n    this.context.link.linkAnchorText.value = '';\n    this.context.link.linkNewWindowCheck.checked = false;\n  }\n};\n/* harmony default export */ __webpack_exports__[\"default\"] = (link);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvcGx1Z2lucy9kaWFsb2cvbGluay5qcy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL3NyYy9wbHVnaW5zL2RpYWxvZy9saW5rLmpzPzQ2OWUiXSwic291cmNlc0NvbnRlbnQiOlsiLypcclxuICogd3lzaXd5ZyB3ZWIgZWRpdG9yXHJcbiAqXHJcbiAqIHN1bmVkaXRvci5qc1xyXG4gKiBDb3B5cmlnaHQgMjAxNyBKaUhvbmcgTGVlLlxyXG4gKiBNSVQgbGljZW5zZS5cclxuICovXHJcbid1c2Ugc3RyaWN0JztcclxuY29uc3QgbGluayA9IHtcclxuICAgIG5hbWU6ICdsaW5rJyxcclxuICAgIGFkZDogZnVuY3Rpb24gKF90aGlzKSB7XHJcbiAgICAgICAgY29uc3QgY29udGV4dCA9IF90aGlzLmNvbnRleHQ7XHJcbiAgICAgICAgY29udGV4dC5saW5rID0ge307XHJcblxyXG4gICAgICAgIC8qKiBsaW5rIGRpYWxvZyAqL1xyXG4gICAgICAgIGxldCBsaW5rX2RpYWxvZyA9IGV2YWwodGhpcy5zZXREaWFsb2coX3RoaXMubGFuZykpO1xyXG4gICAgICAgIGNvbnRleHQubGluay5tb2RhbCA9IGxpbmtfZGlhbG9nO1xyXG4gICAgICAgIGNvbnRleHQubGluay5mb2N1c0VsZW1lbnQgPSBsaW5rX2RpYWxvZy5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCdzdW4tZWRpdG9yLWlkLWxpbmstdXJsJylbMF07XHJcbiAgICAgICAgY29udGV4dC5saW5rLmxpbmtBbmNob3JUZXh0ID0gbGlua19kaWFsb2cuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgnc3VuLWVkaXRvci1pZC1saW5rLXRleHQnKVswXTtcclxuICAgICAgICBjb250ZXh0LmxpbmsubGlua05ld1dpbmRvd0NoZWNrID0gbGlua19kaWFsb2cuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgnc3VuLWVkaXRvci1pZC1saW5rLWNoZWNrJylbMF07XHJcblxyXG4gICAgICAgIC8qKiBsaW5rIGJ1dHRvbiAqL1xyXG4gICAgICAgIGxldCBsaW5rX2J1dHRvbiA9IGV2YWwodGhpcy5zZXRDb250cm9sbGVyX0xpbmtCdG4oX3RoaXMubGFuZykpO1xyXG4gICAgICAgIGNvbnRleHQubGluay5saW5rQnRuID0gbGlua19idXR0b247XHJcbiAgICAgICAgY29udGV4dC5saW5rLl9saW5rQW5jaG9yID0gbnVsbDtcclxuXHJcbiAgICAgICAgLyoqIGFkZCBldmVudCBsaXN0ZW5lcnMgKi9cclxuICAgICAgICBsaW5rX2RpYWxvZy5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCdidG4tcHJpbWFyeScpWzBdLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5zdWJtaXQuYmluZChfdGhpcykpO1xyXG4gICAgICAgIGxpbmtfYnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5vbkNsaWNrX2xpbmtCdG4uYmluZChfdGhpcykpO1xyXG5cclxuICAgICAgICAvKiogYXBwZW5kIGh0bWwgKi9cclxuICAgICAgICBjb250ZXh0LmRpYWxvZy5tb2RhbC5hcHBlbmRDaGlsZChsaW5rX2RpYWxvZyk7XHJcbiAgICAgICAgY29udGV4dC5lbGVtZW50LnJlbGF0aXZlLmFwcGVuZENoaWxkKGxpbmtfYnV0dG9uKTtcclxuXHJcbiAgICAgICAgLyoqIGVtcHR5IG1lbW9yeSAqL1xyXG4gICAgICAgIGxpbmtfZGlhbG9nID0gbnVsbCwgbGlua19idXR0b24gPSBudWxsO1xyXG4gICAgfSxcclxuXHJcbiAgICAvKiogZGlhbG9nICovXHJcbiAgICBzZXREaWFsb2c6IGZ1bmN0aW9uIChsYW5nKSB7XHJcbiAgICAgICAgY29uc3QgZGlhbG9nID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnRElWJyk7XHJcblxyXG4gICAgICAgIGRpYWxvZy5jbGFzc05hbWUgPSAnbW9kYWwtY29udGVudCBzdW4tZWRpdG9yLWlkLWRpYWxvZy1saW5rJztcclxuICAgICAgICBkaWFsb2cuc3R5bGUuZGlzcGxheSA9ICdub25lJztcclxuICAgICAgICBkaWFsb2cuaW5uZXJIVE1MID0gJycgK1xyXG4gICAgICAgICAgICAnPGZvcm0gY2xhc3M9XCJlZGl0b3JfbGlua1wiPicgK1xyXG4gICAgICAgICAgICAnICAgPGRpdiBjbGFzcz1cIm1vZGFsLWhlYWRlclwiPicgK1xyXG4gICAgICAgICAgICAnICAgICAgIDxidXR0b24gdHlwZT1cImJ1dHRvblwiIGRhdGEtY29tbWFuZD1cImNsb3NlXCIgY2xhc3M9XCJjbG9zZVwiIGFyaWEtbGFiZWw9XCJDbG9zZVwiPicgK1xyXG4gICAgICAgICAgICAnICAgICAgICAgICA8ZGl2IGFyaWEtaGlkZGVuPVwidHJ1ZVwiIGRhdGEtY29tbWFuZD1cImNsb3NlXCIgY2xhc3M9XCJpY29uLWNhbmNlbFwiPjwvZGl2PicgK1xyXG4gICAgICAgICAgICAnICAgICAgIDwvYnV0dG9uPicgK1xyXG4gICAgICAgICAgICAnICAgICAgIDxoNSBjbGFzcz1cIm1vZGFsLXRpdGxlXCI+JyArIGxhbmcuZGlhbG9nQm94LmxpbmtCb3gudGl0bGUgKyAnPC9oNT4nICtcclxuICAgICAgICAgICAgJyAgIDwvZGl2PicgK1xyXG4gICAgICAgICAgICAnICAgPGRpdiBjbGFzcz1cIm1vZGFsLWJvZHlcIj4nICtcclxuICAgICAgICAgICAgJyAgICAgICA8ZGl2IGNsYXNzPVwiZm9ybS1ncm91cFwiPicgK1xyXG4gICAgICAgICAgICAnICAgICAgICAgICA8bGFiZWw+JyArIGxhbmcuZGlhbG9nQm94LmxpbmtCb3gudXJsICsgJzwvbGFiZWw+JyArXHJcbiAgICAgICAgICAgICcgICAgICAgICAgIDxpbnB1dCBjbGFzcz1cImZvcm0tY29udHJvbCBzdW4tZWRpdG9yLWlkLWxpbmstdXJsXCIgdHlwZT1cInRleHRcIiAvPicgK1xyXG4gICAgICAgICAgICAnICAgICAgIDwvZGl2PicgK1xyXG4gICAgICAgICAgICAnICAgICAgIDxkaXYgY2xhc3M9XCJmb3JtLWdyb3VwXCI+JyArXHJcbiAgICAgICAgICAgICcgICAgICAgICAgIDxsYWJlbD4nICsgbGFuZy5kaWFsb2dCb3gubGlua0JveC50ZXh0ICsgJzwvbGFiZWw+PGlucHV0IGNsYXNzPVwiZm9ybS1jb250cm9sIHN1bi1lZGl0b3ItaWQtbGluay10ZXh0XCIgdHlwZT1cInRleHRcIiAvPicgK1xyXG4gICAgICAgICAgICAnICAgICAgIDwvZGl2PicgK1xyXG4gICAgICAgICAgICAnICAgICAgIDxsYWJlbCBjbGFzcz1cImxhYmVsLWNoZWNrXCI+PGlucHV0IHR5cGU9XCJjaGVja2JveFwiIGNsYXNzPVwic3VuLWVkaXRvci1pZC1saW5rLWNoZWNrXCIgLz4mbmJzcDsnICsgbGFuZy5kaWFsb2dCb3gubGlua0JveC5uZXdXaW5kb3dDaGVjayArICc8L2xhYmVsPicgK1xyXG4gICAgICAgICAgICAnICAgPC9kaXY+JyArXHJcbiAgICAgICAgICAgICcgICA8ZGl2IGNsYXNzPVwibW9kYWwtZm9vdGVyXCI+JyArXHJcbiAgICAgICAgICAgICcgICAgICAgPGJ1dHRvbiB0eXBlPVwic3VibWl0XCIgY2xhc3M9XCJidG4gYnRuLXByaW1hcnkgc3VuLWVkaXRvci1pZC1zdWJtaXQtbGlua1wiPjxzcGFuPicgKyBsYW5nLmRpYWxvZ0JveC5zdWJtaXRCdXR0b24gKyAnPC9zcGFuPjwvYnV0dG9uPicgK1xyXG4gICAgICAgICAgICAnICAgPC9kaXY+JyArXHJcbiAgICAgICAgICAgICc8L2Zvcm0+JztcclxuXHJcbiAgICAgICAgcmV0dXJuIGRpYWxvZztcclxuICAgIH0sXHJcblxyXG4gICAgLyoqIG1vZGlmeSBjb250cm9sbGVyIGJ1dHRvbiAqL1xyXG4gICAgc2V0Q29udHJvbGxlcl9MaW5rQnRuOiBmdW5jdGlvbiAobGFuZykge1xyXG4gICAgICAgIGNvbnN0IGxpbmtfYnRuID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnRElWJyk7XHJcblxyXG4gICAgICAgIGxpbmtfYnRuLmNsYXNzTmFtZSA9ICdzdW4tZWRpdG9yLWlkLWxpbmstYnRuJztcclxuICAgICAgICBsaW5rX2J0bi5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xyXG4gICAgICAgIGxpbmtfYnRuLmlubmVySFRNTCA9ICcnICtcclxuICAgICAgICAgICAgJzxkaXYgY2xhc3M9XCJhcnJvd1wiPjwvZGl2PicgK1xyXG4gICAgICAgICAgICAnPGRpdiBjbGFzcz1cImxpbmstY29udGVudFwiPjxzcGFuPjxhIHRhcmdldD1cIl9ibGFua1wiIGhyZWY9XCJcIj48L2E+Jm5ic3A7PC9zcGFuPicgK1xyXG4gICAgICAgICAgICAnICAgPGRpdiBjbGFzcz1cImJ0bi1ncm91cFwiPicgK1xyXG4gICAgICAgICAgICAnICAgICA8YnV0dG9uIHR5cGU9XCJidXR0b25cIiBkYXRhLWNvbW1hbmQ9XCJ1cGRhdGVcIiB0YWJpbmRleD1cIi0xXCIgdGl0bGU9XCInICsgbGFuZy5lZGl0TGluay5lZGl0ICsgJ1wiPjxkaXYgY2xhc3M9XCJpY29uLWxpbmtcIj48L2Rpdj48L2J1dHRvbj4nICtcclxuICAgICAgICAgICAgJyAgICAgPGJ1dHRvbiB0eXBlPVwiYnV0dG9uXCIgZGF0YS1jb21tYW5kPVwiZGVsZXRlXCIgdGFiaW5kZXg9XCItMVwiIHRpdGxlPVwiJyArIGxhbmcuZWRpdExpbmsucmVtb3ZlICsgJ1wiPjxkaXYgY2xhc3M9XCJpY29uLWNhbmNlbFwiPjwvZGl2PjwvYnV0dG9uPicgK1xyXG4gICAgICAgICAgICAnICAgPC9kaXY+JyArXHJcbiAgICAgICAgICAgICc8L2Rpdj4nO1xyXG5cclxuICAgICAgICByZXR1cm4gbGlua19idG47XHJcbiAgICB9LFxyXG5cclxuICAgIHN1Ym1pdDogZnVuY3Rpb24gKGUpIHtcclxuICAgICAgICB0aGlzLnNob3dMb2FkaW5nKCk7XHJcblxyXG4gICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xyXG5cclxuICAgICAgICBmdW5jdGlvbiBzdWJtaXRBY3Rpb24oKSB7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLmNvbnRleHQubGluay5mb2N1c0VsZW1lbnQudmFsdWUudHJpbSgpLmxlbmd0aCA9PT0gMCkgcmV0dXJuIGZhbHNlO1xyXG5cclxuICAgICAgICAgICAgY29uc3QgdXJsID0gL15odHRwcz86XFwvXFwvLy50ZXN0KHRoaXMuY29udGV4dC5saW5rLmZvY3VzRWxlbWVudC52YWx1ZSkgPyB0aGlzLmNvbnRleHQubGluay5mb2N1c0VsZW1lbnQudmFsdWUgOiBcImh0dHA6Ly9cIiArIHRoaXMuY29udGV4dC5saW5rLmZvY3VzRWxlbWVudC52YWx1ZTtcclxuICAgICAgICAgICAgY29uc3QgYW5jaG9yID0gdGhpcy5jb250ZXh0LmxpbmsubGlua0FuY2hvclRleHQgfHwgdGhpcy5jb250ZXh0LmRpYWxvZy5kb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImxpbmtBbmNob3JUZXh0XCIpO1xyXG4gICAgICAgICAgICBjb25zdCBhbmNob3JUZXh0ID0gYW5jaG9yLnZhbHVlLmxlbmd0aCA9PT0gMCA/IHVybCA6IGFuY2hvci52YWx1ZTtcclxuXHJcbiAgICAgICAgICAgIGlmICghdGhpcy5jb250ZXh0LmRpYWxvZy51cGRhdGVNb2RhbCkge1xyXG4gICAgICAgICAgICAgICAgY29uc3Qgb0EgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdBJyk7XHJcbiAgICAgICAgICAgICAgICBvQS5ocmVmID0gdXJsO1xyXG4gICAgICAgICAgICAgICAgb0EudGV4dENvbnRlbnQgPSBhbmNob3JUZXh0O1xyXG4gICAgICAgICAgICAgICAgb0EudGFyZ2V0ID0gKHRoaXMuY29udGV4dC5saW5rLmxpbmtOZXdXaW5kb3dDaGVjay5jaGVja2VkID8gJ19ibGFuaycgOiAnJyk7XHJcblxyXG4gICAgICAgICAgICAgICAgdGhpcy5pbnNlcnROb2RlKG9BKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuc2V0UmFuZ2Uob0EuY2hpbGROb2Rlc1swXSwgMCwgb0EuY2hpbGROb2Rlc1swXSwgb0EudGV4dENvbnRlbnQubGVuZ3RoKTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuY29udGV4dC5saW5rLl9saW5rQW5jaG9yLmhyZWYgPSB1cmw7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmNvbnRleHQubGluay5fbGlua0FuY2hvci50ZXh0Q29udGVudCA9IGFuY2hvclRleHQ7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmNvbnRleHQubGluay5fbGlua0FuY2hvci50YXJnZXQgPSAodGhpcy5jb250ZXh0LmxpbmsubGlua05ld1dpbmRvd0NoZWNrLmNoZWNrZWQgPyAnX2JsYW5rJyA6ICcnKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuc2V0UmFuZ2UodGhpcy5jb250ZXh0LmxpbmsuX2xpbmtBbmNob3IuY2hpbGROb2Rlc1swXSwgMCwgdGhpcy5jb250ZXh0LmxpbmsuX2xpbmtBbmNob3IuY2hpbGROb2Rlc1swXSwgdGhpcy5jb250ZXh0LmxpbmsuX2xpbmtBbmNob3IudGV4dENvbnRlbnQubGVuZ3RoKTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgdGhpcy5jb250ZXh0LmxpbmsuZm9jdXNFbGVtZW50LnZhbHVlID0gJyc7XHJcbiAgICAgICAgICAgIHRoaXMuY29udGV4dC5saW5rLmxpbmtBbmNob3JUZXh0LnZhbHVlID0gJyc7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICBzdWJtaXRBY3Rpb24uY2FsbCh0aGlzKTtcclxuICAgICAgICB9IGZpbmFsbHkge1xyXG4gICAgICAgICAgICB0aGlzLnBsdWdpbnMuZGlhbG9nLmNsb3NlRGlhbG9nLmNhbGwodGhpcyk7XHJcbiAgICAgICAgICAgIHRoaXMuY2xvc2VMb2FkaW5nKCk7XHJcbiAgICAgICAgICAgIHRoaXMuZm9jdXMoKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgIH0sXHJcblxyXG4gICAgY2FsbF9jb250cm9sbGVyX2xpbmtCdXR0b246IGZ1bmN0aW9uIChzZWxlY3Rpb25BVGFnKSB7XHJcbiAgICAgICAgdGhpcy5lZGl0TGluayA9IHRoaXMuY29udGV4dC5saW5rLl9saW5rQW5jaG9yID0gc2VsZWN0aW9uQVRhZztcclxuICAgICAgICBjb25zdCBsaW5rQnRuID0gdGhpcy5jb250ZXh0LmxpbmsubGlua0J0bjtcclxuXHJcbiAgICAgICAgbGlua0J0bi5nZXRFbGVtZW50c0J5VGFnTmFtZSgnQScpWzBdLmhyZWYgPSBzZWxlY3Rpb25BVGFnLmhyZWY7XHJcbiAgICAgICAgbGlua0J0bi5nZXRFbGVtZW50c0J5VGFnTmFtZSgnQScpWzBdLnRleHRDb250ZW50ID0gc2VsZWN0aW9uQVRhZy50ZXh0Q29udGVudDtcclxuXHJcbiAgICAgICAgbGlua0J0bi5zdHlsZS5sZWZ0ID0gc2VsZWN0aW9uQVRhZy5vZmZzZXRMZWZ0ICsgJ3B4JztcclxuICAgICAgICBsaW5rQnRuLnN0eWxlLnRvcCA9IChzZWxlY3Rpb25BVGFnLm9mZnNldFRvcCArIHNlbGVjdGlvbkFUYWcub2Zmc2V0SGVpZ2h0IC0gdGhpcy5jb250ZXh0LmVsZW1lbnQud3lzaXd5Zy5zY3JvbGxUb3AgKyAxMCkgKyAncHgnO1xyXG4gICAgICAgIGxpbmtCdG4uc3R5bGUuZGlzcGxheSA9ICdibG9jayc7XHJcblxyXG4gICAgICAgIHRoaXMuY29udHJvbGxlckFycmF5ID0gW2xpbmtCdG5dO1xyXG4gICAgfSxcclxuXHJcbiAgICBvbkNsaWNrX2xpbmtCdG46IGZ1bmN0aW9uIChlKSB7XHJcbiAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcclxuXHJcbiAgICAgICAgY29uc3QgY29tbWFuZCA9IGUudGFyZ2V0LmdldEF0dHJpYnV0ZSgnZGF0YS1jb21tYW5kJykgfHwgZS50YXJnZXQucGFyZW50Tm9kZS5nZXRBdHRyaWJ1dGUoJ2RhdGEtY29tbWFuZCcpO1xyXG4gICAgICAgIGlmICghY29tbWFuZCkgcmV0dXJuO1xyXG5cclxuICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XHJcblxyXG4gICAgICAgIGlmICgvdXBkYXRlLy50ZXN0KGNvbW1hbmQpKSB7XHJcbiAgICAgICAgICAgIHRoaXMuY29udGV4dC5saW5rLmZvY3VzRWxlbWVudC52YWx1ZSA9IHRoaXMuY29udGV4dC5saW5rLl9saW5rQW5jaG9yLmhyZWY7XHJcbiAgICAgICAgICAgIHRoaXMuY29udGV4dC5saW5rLmxpbmtBbmNob3JUZXh0LnZhbHVlID0gdGhpcy5jb250ZXh0LmxpbmsuX2xpbmtBbmNob3IudGV4dENvbnRlbnQ7XHJcbiAgICAgICAgICAgIHRoaXMuY29udGV4dC5saW5rLmxpbmtOZXdXaW5kb3dDaGVjay5jaGVja2VkID0gKC9fYmxhbmsvaS50ZXN0KHRoaXMuY29udGV4dC5saW5rLl9saW5rQW5jaG9yLnRhcmdldCkgPyB0cnVlIDogZmFsc2UpO1xyXG4gICAgICAgICAgICB0aGlzLnBsdWdpbnMuZGlhbG9nLm9wZW5EaWFsb2cuY2FsbCh0aGlzLCAnbGluaycsIG51bGwsIHRydWUpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgLyoqIGRlbGV0ZSAqL1xyXG4gICAgICAgICAgICB0aGlzLnV0aWwucmVtb3ZlSXRlbSh0aGlzLmNvbnRleHQubGluay5fbGlua0FuY2hvcik7XHJcbiAgICAgICAgICAgIHRoaXMuY29udGV4dC5saW5rLl9saW5rQW5jaG9yID0gbnVsbDtcclxuICAgICAgICAgICAgdGhpcy5mb2N1cygpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGhpcy5jb250ZXh0LmxpbmsubGlua0J0bi5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xyXG4gICAgfSxcclxuXHJcbiAgICBpbml0OiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgdGhpcy5jb250ZXh0LmxpbmsubGlua0J0bi5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xyXG4gICAgICAgIHRoaXMuY29udGV4dC5saW5rLl9saW5rQW5jaG9yID0gbnVsbDtcclxuICAgICAgICB0aGlzLmNvbnRleHQubGluay5mb2N1c0VsZW1lbnQudmFsdWUgPSAnJztcclxuICAgICAgICB0aGlzLmNvbnRleHQubGluay5saW5rQW5jaG9yVGV4dC52YWx1ZSA9ICcnO1xyXG4gICAgICAgIHRoaXMuY29udGV4dC5saW5rLmxpbmtOZXdXaW5kb3dDaGVjay5jaGVja2VkID0gZmFsc2U7XHJcbiAgICB9XHJcbn07XHJcblxyXG5leHBvcnQgZGVmYXVsdCBsaW5rOyJdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTs7Ozs7OztBQU9BO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUFBO0FBQ0E7QUFFQTtBQUNBO0FBQUE7QUFDQTtBQUVBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUF1QkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBU0E7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBdktBO0FBMEtBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/plugins/dialog/link.js\n");

/***/ }),

/***/ "./src/plugins/dialog/video.js":
/*!*************************************!*\
  !*** ./src/plugins/dialog/video.js ***!
  \*************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/*\r\n * wysiwyg web editor\r\n *\r\n * suneditor.js\r\n * Copyright 2017 JiHong Lee.\r\n * MIT license.\r\n */\n\n\nconst video = {\n  name: 'video',\n  add: function (_this) {\n    const context = _this.context;\n    context.video = {\n      _coverElement: null,\n      _coverElementInner: document.createElement('SPAN'),\n      _element: null,\n      _resize_element: null,\n      _element_w: 1,\n      _element_h: 1,\n      _element_l: 0,\n      _element_t: 0,\n      _origin_w: context.user.videoX,\n      _origin_h: context.user.videoY,\n      _proportionChecked: false\n    };\n    /** Inner node needed to edit video iframe event */\n\n    context.video._coverElementInner.className = 'sun-editor-iframe-inner-cover';\n\n    context.video._coverElementInner.addEventListener('click', function (e) {\n      const pNode = e.target.parentNode;\n\n      const size = _this.plugins.dialog.call_controller_resize.call(_this, pNode, 'video');\n\n      _this.plugins.video.onModifyMode.call(_this, pNode.children[0], size);\n    });\n    /** video dialog */\n\n\n    let video_dialog = eval(this.setDialog(_this.lang));\n    context.video.modal = video_dialog;\n    context.video.focusElement = video_dialog.getElementsByClassName('sun-editor-id-video-url')[0];\n    context.video.videoX = video_dialog.getElementsByClassName('sun-editor-id-video-x')[0];\n    context.video.videoY = video_dialog.getElementsByClassName('sun-editor-id-video-y')[0];\n    context.video.proportion = video_dialog.querySelector('#suneditor_video_check_proportion');\n    /** set user option value */\n\n    video_dialog.getElementsByClassName('sun-editor-id-video-x')[0].value = context.user.videoX;\n    video_dialog.getElementsByClassName('sun-editor-id-video-y')[0].value = context.user.videoY;\n    /** add event listeners */\n\n    video_dialog.getElementsByClassName('btn-primary')[0].addEventListener('click', this.submit.bind(_this));\n    context.video.videoX.addEventListener('change', this.setInputSize.bind(_this, 'x'));\n    context.video.videoY.addEventListener('change', this.setInputSize.bind(_this, 'y'));\n    video_dialog.getElementsByClassName('sun-editor-id-video-revert-button')[0].addEventListener('click', this.sizeRevert.bind(_this));\n    /** append html */\n\n    context.dialog.modal.appendChild(video_dialog);\n    /** empty memory */\n\n    video_dialog = null;\n  },\n\n  /** dialog */\n  setDialog: function (lang) {\n    const dialog = document.createElement('DIV');\n    dialog.className = 'modal-content sun-editor-id-dialog-video';\n    dialog.style.display = 'none';\n    dialog.innerHTML = '' + '<form class=\"editor_video\">' + '   <div class=\"modal-header\">' + '       <button type=\"button\" data-command=\"close\" class=\"close\" aria-label=\"Close\">' + '           <div aria-hidden=\"true\" data-command=\"close\" class=\"icon-cancel\"></div>' + '       </button>' + '       <h5 class=\"modal-title\">' + lang.dialogBox.videoBox.title + '</h5>' + '   </div>' + '   <div class=\"modal-body\">' + '       <div class=\"form-group\">' + '           <label>' + lang.dialogBox.videoBox.url + '</label>' + '           <input class=\"form-control sun-editor-id-video-url\" type=\"text\" />' + '       </div>' + '       <div class=\"form-group\">' + '           <div class=\"size-text\"><label class=\"size-w\">' + lang.dialogBox.width + '</label><label class=\"size-x\">&nbsp;</label><label class=\"size-h\">' + lang.dialogBox.height + '</label></div>' + '           <input type=\"number\" class=\"form-size-control sun-editor-id-video-x\" /><label class=\"size-x\">x</label><input type=\"number\" class=\"form-size-control sun-editor-id-video-y\" />' + '           <input type=\"checkbox\" id=\"suneditor_video_check_proportion\" style=\"margin-left: 20px;\" disabled/><label for=\"suneditor_video_check_proportion\">&nbsp;' + lang.dialogBox.proportion + '</label>' + '           <button type=\"button\" title=\"' + lang.dialogBox.revertButton + '\" class=\"btn_editor sun-editor-id-video-revert-button\" style=\"float: right;\"><div class=\"icon-revert\"></div></button>' + '       </div>' + '   </div>' + '   <div class=\"modal-footer\">' + '       <button type=\"submit\" class=\"btn btn-primary sun-editor-id-submit-video\"><span>' + lang.dialogBox.submitButton + '</span></button>' + '   </div>' + '</form>';\n    return dialog;\n  },\n  setInputSize: function (xy) {\n    if (this.context.video.proportion.checked) {\n      if (xy === 'x') {\n        this.context.video.videoY.value = Math.round(this.context.video._element_h / this.context.video._element_w * this.context.video.videoX.value);\n      } else {\n        this.context.video.videoX.value = Math.round(this.context.video._element_w / this.context.video._element_h * this.context.video.videoY.value);\n      }\n    }\n  },\n  submit: function (e) {\n    this.showLoading();\n    e.preventDefault();\n    e.stopPropagation();\n\n    function submitAction() {\n      if (this.context.video.focusElement.value.trim().length === 0) return false;\n      const w = /^\\d+$/.test(this.context.video.videoX.value) ? this.context.video.videoX.value : this.context.user.videoX;\n      const h = /^\\d+$/.test(this.context.video.videoY.value) ? this.context.video.videoY.value : this.context.user.videoY;\n      let oIframe = null;\n      let url = this.context.video.focusElement.value.trim();\n      /** iframe source */\n\n      if (/^\\<iframe.*iframe\\>$/.test(url)) {\n        oIframe = new DOMParser().parseFromString(url, 'text/html').getElementsByTagName('iframe')[0];\n      }\n      /** url */\n      else {\n          oIframe = document.createElement('IFRAME');\n          /** youtube */\n\n          if (/youtu\\.?be/.test(url)) {\n            url = url.replace('watch?v=', '');\n\n            if (!/^\\/\\/.+\\/embed\\//.test(url)) {\n              url = url.replace(url.match(/\\/\\/.+\\//)[0], '//www.youtube.com/embed/');\n            }\n          }\n\n          oIframe.src = url;\n        }\n      /** update */\n\n\n      if (this.context.dialog.updateModal) {\n        this.context.video._element.src = oIframe.src;\n\n        this.context.video._element.setAttribute('data-proportion', this.context.video._proportionChecked);\n\n        this.context.video._coverElement.style.width = w + 'px';\n        this.context.video._coverElement.style.height = h + 'px';\n        return;\n      }\n      /** create */\n\n\n      const coverSpan = document.createElement('SPAN');\n      coverSpan.className = 'sun-editor-iframe-cover';\n      coverSpan.style.width = w + 'px';\n      coverSpan.style.height = h + 'px';\n      coverSpan.setAttribute('contentEditable', false);\n      /** cover event */\n\n      coverSpan.addEventListener('mouseenter', this.plugins.video.onMouseEnter_cover.bind(this));\n      coverSpan.addEventListener('mouseleave', this.plugins.video.onMouseLeave_cover.bind(this).bind(this));\n      oIframe.width = '100%';\n      oIframe.height = '100%';\n      oIframe.frameBorder = '0';\n      oIframe.allowFullscreen = true;\n      oIframe.setAttribute('data-proportion', this.context.video._proportionChecked);\n      oIframe.contentDocument;\n      this.context.video._coverElement = coverSpan;\n      coverSpan.appendChild(oIframe);\n      this.insertNode(coverSpan);\n      this.appendP(coverSpan);\n    }\n\n    try {\n      this.context.video._proportionChecked = this.context.video.proportion.checked;\n      submitAction.call(this);\n    } finally {\n      this.plugins.dialog.closeDialog.call(this);\n      this.closeLoading();\n    }\n\n    return false;\n  },\n  onMouseEnter_cover: function (e) {\n    const target = e.target;\n    if (target === this.context.video._coverElementInner.parentNode) return;\n    target.appendChild(this.context.video._coverElementInner);\n  },\n  onMouseLeave_cover: function (e) {\n    const target = e.target;\n    if (target === this.context.video._coverElementInner.parentNode) target.removeChild(this.context.video._coverElementInner);\n  },\n  sizeRevert: function () {\n    const contextVideo = this.context.video;\n\n    if (contextVideo._origin_w) {\n      contextVideo.videoX.value = contextVideo._element_w = contextVideo._origin_w;\n      contextVideo.videoY.value = contextVideo._element_h = contextVideo._origin_h;\n    }\n  },\n  onModifyMode: function (element, size) {\n    const videoContext = this.context.video;\n    const pSpan = videoContext._resize_element = videoContext._coverElement;\n    videoContext._element = element;\n    if (pSpan === videoContext._coverElementInner.parentNode) pSpan.removeChild(videoContext._coverElementInner);\n    videoContext._element_w = size.w;\n    videoContext._element_h = size.h;\n    videoContext._element_t = size.t;\n    videoContext._element_l = size.l;\n\n    let origin = videoContext._element.getAttribute('data-origin');\n\n    if (origin) {\n      origin = origin.split(',');\n      videoContext._origin_w = origin[0] * 1;\n      videoContext._origin_h = origin[1] * 1;\n    } else {\n      videoContext._origin_w = size.w;\n      videoContext._origin_h = size.h;\n\n      videoContext._element.setAttribute('data-origin', size.w + ',' + size.h);\n    }\n  },\n  openModify: function () {\n    const contextVideo = this.context.video;\n    const pSpan = contextVideo._coverElement;\n    const frame = pSpan.children[0];\n    contextVideo.focusElement.value = frame.src;\n    contextVideo.videoX.value = pSpan.style.width.match(/\\d+/)[0];\n    contextVideo.videoY.value = pSpan.style.height.match(/\\d+/)[0];\n    contextVideo.proportion.checked = contextVideo._proportionChecked = contextVideo._element.getAttribute('data-proportion') === 'true';\n    contextVideo.proportion.disabled = false;\n    this.plugins.dialog.openDialog.call(this, 'video', null, true);\n  },\n  setSize: function (x, y) {\n    this.context.video._resize_element.style.width = x;\n    this.context.video._resize_element.style.height = y;\n  },\n  destroy: function () {\n    this.util.removeItem(this.context.video._coverElement);\n    this.plugins.video.init.call(this);\n  },\n  init: function () {\n    this.context.video.focusElement.value = '';\n    this.context.video.videoX.value = this.context.user.videoX;\n    this.context.video.videoY.value = this.context.user.videoY;\n    this.context.video.proportion.checked = false;\n    this.context.video.proportion.disabled = true;\n  }\n};\n/* harmony default export */ __webpack_exports__[\"default\"] = (video);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvcGx1Z2lucy9kaWFsb2cvdmlkZW8uanMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvcGx1Z2lucy9kaWFsb2cvdmlkZW8uanM/ODY1OCJdLCJzb3VyY2VzQ29udGVudCI6WyIvKlxyXG4gKiB3eXNpd3lnIHdlYiBlZGl0b3JcclxuICpcclxuICogc3VuZWRpdG9yLmpzXHJcbiAqIENvcHlyaWdodCAyMDE3IEppSG9uZyBMZWUuXHJcbiAqIE1JVCBsaWNlbnNlLlxyXG4gKi9cclxuJ3VzZSBzdHJpY3QnO1xyXG5jb25zdCB2aWRlbyA9IHtcclxuICAgIG5hbWU6ICd2aWRlbycsXHJcbiAgICBhZGQ6IGZ1bmN0aW9uIChfdGhpcykge1xyXG4gICAgICAgIGNvbnN0IGNvbnRleHQgPSBfdGhpcy5jb250ZXh0O1xyXG4gICAgICAgIGNvbnRleHQudmlkZW8gPSB7XHJcbiAgICAgICAgICAgIF9jb3ZlckVsZW1lbnQ6IG51bGwsXHJcbiAgICAgICAgICAgIF9jb3ZlckVsZW1lbnRJbm5lcjogZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnU1BBTicpLFxyXG4gICAgICAgICAgICBfZWxlbWVudDogbnVsbCxcclxuICAgICAgICAgICAgX3Jlc2l6ZV9lbGVtZW50OiBudWxsLFxyXG4gICAgICAgICAgICBfZWxlbWVudF93OiAxLFxyXG4gICAgICAgICAgICBfZWxlbWVudF9oOiAxLFxyXG4gICAgICAgICAgICBfZWxlbWVudF9sOiAwLFxyXG4gICAgICAgICAgICBfZWxlbWVudF90OiAwLFxyXG4gICAgICAgICAgICBfb3JpZ2luX3c6IGNvbnRleHQudXNlci52aWRlb1gsXHJcbiAgICAgICAgICAgIF9vcmlnaW5faDogY29udGV4dC51c2VyLnZpZGVvWSxcclxuICAgICAgICAgICAgX3Byb3BvcnRpb25DaGVja2VkOiBmYWxzZVxyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIC8qKiBJbm5lciBub2RlIG5lZWRlZCB0byBlZGl0IHZpZGVvIGlmcmFtZSBldmVudCAqL1xyXG4gICAgICAgIGNvbnRleHQudmlkZW8uX2NvdmVyRWxlbWVudElubmVyLmNsYXNzTmFtZSA9ICdzdW4tZWRpdG9yLWlmcmFtZS1pbm5lci1jb3Zlcic7XHJcbiAgICAgICAgY29udGV4dC52aWRlby5fY292ZXJFbGVtZW50SW5uZXIuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbiAoZSkge1xyXG4gICAgICAgICAgICBjb25zdCBwTm9kZSA9IGUudGFyZ2V0LnBhcmVudE5vZGU7XHJcbiAgICAgICAgICAgIGNvbnN0IHNpemUgPSBfdGhpcy5wbHVnaW5zLmRpYWxvZy5jYWxsX2NvbnRyb2xsZXJfcmVzaXplLmNhbGwoX3RoaXMsIHBOb2RlLCAndmlkZW8nKTtcclxuICAgICAgICAgICAgX3RoaXMucGx1Z2lucy52aWRlby5vbk1vZGlmeU1vZGUuY2FsbChfdGhpcywgcE5vZGUuY2hpbGRyZW5bMF0sIHNpemUpO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICAvKiogdmlkZW8gZGlhbG9nICovXHJcbiAgICAgICAgbGV0IHZpZGVvX2RpYWxvZyA9IGV2YWwodGhpcy5zZXREaWFsb2coX3RoaXMubGFuZykpO1xyXG4gICAgICAgIGNvbnRleHQudmlkZW8ubW9kYWwgPSB2aWRlb19kaWFsb2c7XHJcbiAgICAgICAgY29udGV4dC52aWRlby5mb2N1c0VsZW1lbnQgPSB2aWRlb19kaWFsb2cuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgnc3VuLWVkaXRvci1pZC12aWRlby11cmwnKVswXTtcclxuICAgICAgICBjb250ZXh0LnZpZGVvLnZpZGVvWCA9IHZpZGVvX2RpYWxvZy5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCdzdW4tZWRpdG9yLWlkLXZpZGVvLXgnKVswXTtcclxuICAgICAgICBjb250ZXh0LnZpZGVvLnZpZGVvWSA9IHZpZGVvX2RpYWxvZy5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCdzdW4tZWRpdG9yLWlkLXZpZGVvLXknKVswXTtcclxuICAgICAgICBjb250ZXh0LnZpZGVvLnByb3BvcnRpb24gPSB2aWRlb19kaWFsb2cucXVlcnlTZWxlY3RvcignI3N1bmVkaXRvcl92aWRlb19jaGVja19wcm9wb3J0aW9uJyk7XHJcblxyXG4gICAgICAgIC8qKiBzZXQgdXNlciBvcHRpb24gdmFsdWUgKi9cclxuICAgICAgICB2aWRlb19kaWFsb2cuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgnc3VuLWVkaXRvci1pZC12aWRlby14JylbMF0udmFsdWUgPSBjb250ZXh0LnVzZXIudmlkZW9YO1xyXG4gICAgICAgIHZpZGVvX2RpYWxvZy5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCdzdW4tZWRpdG9yLWlkLXZpZGVvLXknKVswXS52YWx1ZSA9IGNvbnRleHQudXNlci52aWRlb1k7XHJcblxyXG4gICAgICAgIC8qKiBhZGQgZXZlbnQgbGlzdGVuZXJzICovXHJcbiAgICAgICAgdmlkZW9fZGlhbG9nLmdldEVsZW1lbnRzQnlDbGFzc05hbWUoJ2J0bi1wcmltYXJ5JylbMF0uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLnN1Ym1pdC5iaW5kKF90aGlzKSk7XHJcbiAgICAgICAgY29udGV4dC52aWRlby52aWRlb1guYWRkRXZlbnRMaXN0ZW5lcignY2hhbmdlJywgdGhpcy5zZXRJbnB1dFNpemUuYmluZChfdGhpcywgJ3gnKSk7XHJcbiAgICAgICAgY29udGV4dC52aWRlby52aWRlb1kuYWRkRXZlbnRMaXN0ZW5lcignY2hhbmdlJywgdGhpcy5zZXRJbnB1dFNpemUuYmluZChfdGhpcywgJ3knKSk7XHJcbiAgICAgICAgdmlkZW9fZGlhbG9nLmdldEVsZW1lbnRzQnlDbGFzc05hbWUoJ3N1bi1lZGl0b3ItaWQtdmlkZW8tcmV2ZXJ0LWJ1dHRvbicpWzBdLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5zaXplUmV2ZXJ0LmJpbmQoX3RoaXMpKTtcclxuXHJcbiAgICAgICAgLyoqIGFwcGVuZCBodG1sICovXHJcbiAgICAgICAgY29udGV4dC5kaWFsb2cubW9kYWwuYXBwZW5kQ2hpbGQodmlkZW9fZGlhbG9nKTtcclxuXHJcbiAgICAgICAgLyoqIGVtcHR5IG1lbW9yeSAqL1xyXG4gICAgICAgIHZpZGVvX2RpYWxvZyA9IG51bGw7XHJcbiAgICB9LFxyXG5cclxuICAgIC8qKiBkaWFsb2cgKi9cclxuICAgIHNldERpYWxvZzogZnVuY3Rpb24gKGxhbmcpIHtcclxuICAgICAgICBjb25zdCBkaWFsb2cgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdESVYnKTtcclxuXHJcbiAgICAgICAgZGlhbG9nLmNsYXNzTmFtZSA9ICdtb2RhbC1jb250ZW50IHN1bi1lZGl0b3ItaWQtZGlhbG9nLXZpZGVvJztcclxuICAgICAgICBkaWFsb2cuc3R5bGUuZGlzcGxheSA9ICdub25lJztcclxuICAgICAgICBkaWFsb2cuaW5uZXJIVE1MID0gJycgK1xyXG4gICAgICAgICAgICAnPGZvcm0gY2xhc3M9XCJlZGl0b3JfdmlkZW9cIj4nICtcclxuICAgICAgICAgICAgJyAgIDxkaXYgY2xhc3M9XCJtb2RhbC1oZWFkZXJcIj4nICtcclxuICAgICAgICAgICAgJyAgICAgICA8YnV0dG9uIHR5cGU9XCJidXR0b25cIiBkYXRhLWNvbW1hbmQ9XCJjbG9zZVwiIGNsYXNzPVwiY2xvc2VcIiBhcmlhLWxhYmVsPVwiQ2xvc2VcIj4nICtcclxuICAgICAgICAgICAgJyAgICAgICAgICAgPGRpdiBhcmlhLWhpZGRlbj1cInRydWVcIiBkYXRhLWNvbW1hbmQ9XCJjbG9zZVwiIGNsYXNzPVwiaWNvbi1jYW5jZWxcIj48L2Rpdj4nICtcclxuICAgICAgICAgICAgJyAgICAgICA8L2J1dHRvbj4nICtcclxuICAgICAgICAgICAgJyAgICAgICA8aDUgY2xhc3M9XCJtb2RhbC10aXRsZVwiPicgKyBsYW5nLmRpYWxvZ0JveC52aWRlb0JveC50aXRsZSArICc8L2g1PicgK1xyXG4gICAgICAgICAgICAnICAgPC9kaXY+JyArXHJcbiAgICAgICAgICAgICcgICA8ZGl2IGNsYXNzPVwibW9kYWwtYm9keVwiPicgK1xyXG4gICAgICAgICAgICAnICAgICAgIDxkaXYgY2xhc3M9XCJmb3JtLWdyb3VwXCI+JyArXHJcbiAgICAgICAgICAgICcgICAgICAgICAgIDxsYWJlbD4nICsgbGFuZy5kaWFsb2dCb3gudmlkZW9Cb3gudXJsICsgJzwvbGFiZWw+JyArXHJcbiAgICAgICAgICAgICcgICAgICAgICAgIDxpbnB1dCBjbGFzcz1cImZvcm0tY29udHJvbCBzdW4tZWRpdG9yLWlkLXZpZGVvLXVybFwiIHR5cGU9XCJ0ZXh0XCIgLz4nICtcclxuICAgICAgICAgICAgJyAgICAgICA8L2Rpdj4nICtcclxuICAgICAgICAgICAgJyAgICAgICA8ZGl2IGNsYXNzPVwiZm9ybS1ncm91cFwiPicgK1xyXG4gICAgICAgICAgICAnICAgICAgICAgICA8ZGl2IGNsYXNzPVwic2l6ZS10ZXh0XCI+PGxhYmVsIGNsYXNzPVwic2l6ZS13XCI+JyArIGxhbmcuZGlhbG9nQm94LndpZHRoICsgJzwvbGFiZWw+PGxhYmVsIGNsYXNzPVwic2l6ZS14XCI+Jm5ic3A7PC9sYWJlbD48bGFiZWwgY2xhc3M9XCJzaXplLWhcIj4nICsgbGFuZy5kaWFsb2dCb3guaGVpZ2h0ICsgJzwvbGFiZWw+PC9kaXY+JyArXHJcbiAgICAgICAgICAgICcgICAgICAgICAgIDxpbnB1dCB0eXBlPVwibnVtYmVyXCIgY2xhc3M9XCJmb3JtLXNpemUtY29udHJvbCBzdW4tZWRpdG9yLWlkLXZpZGVvLXhcIiAvPjxsYWJlbCBjbGFzcz1cInNpemUteFwiPng8L2xhYmVsPjxpbnB1dCB0eXBlPVwibnVtYmVyXCIgY2xhc3M9XCJmb3JtLXNpemUtY29udHJvbCBzdW4tZWRpdG9yLWlkLXZpZGVvLXlcIiAvPicgK1xyXG4gICAgICAgICAgICAnICAgICAgICAgICA8aW5wdXQgdHlwZT1cImNoZWNrYm94XCIgaWQ9XCJzdW5lZGl0b3JfdmlkZW9fY2hlY2tfcHJvcG9ydGlvblwiIHN0eWxlPVwibWFyZ2luLWxlZnQ6IDIwcHg7XCIgZGlzYWJsZWQvPjxsYWJlbCBmb3I9XCJzdW5lZGl0b3JfdmlkZW9fY2hlY2tfcHJvcG9ydGlvblwiPiZuYnNwOycgKyBsYW5nLmRpYWxvZ0JveC5wcm9wb3J0aW9uICsgJzwvbGFiZWw+JyArXHJcbiAgICAgICAgICAgICcgICAgICAgICAgIDxidXR0b24gdHlwZT1cImJ1dHRvblwiIHRpdGxlPVwiJyArIGxhbmcuZGlhbG9nQm94LnJldmVydEJ1dHRvbiArICdcIiBjbGFzcz1cImJ0bl9lZGl0b3Igc3VuLWVkaXRvci1pZC12aWRlby1yZXZlcnQtYnV0dG9uXCIgc3R5bGU9XCJmbG9hdDogcmlnaHQ7XCI+PGRpdiBjbGFzcz1cImljb24tcmV2ZXJ0XCI+PC9kaXY+PC9idXR0b24+JyArXHJcbiAgICAgICAgICAgICcgICAgICAgPC9kaXY+JyArXHJcbiAgICAgICAgICAgICcgICA8L2Rpdj4nICtcclxuICAgICAgICAgICAgJyAgIDxkaXYgY2xhc3M9XCJtb2RhbC1mb290ZXJcIj4nICtcclxuICAgICAgICAgICAgJyAgICAgICA8YnV0dG9uIHR5cGU9XCJzdWJtaXRcIiBjbGFzcz1cImJ0biBidG4tcHJpbWFyeSBzdW4tZWRpdG9yLWlkLXN1Ym1pdC12aWRlb1wiPjxzcGFuPicgKyBsYW5nLmRpYWxvZ0JveC5zdWJtaXRCdXR0b24gKyAnPC9zcGFuPjwvYnV0dG9uPicgK1xyXG4gICAgICAgICAgICAnICAgPC9kaXY+JyArXHJcbiAgICAgICAgICAgICc8L2Zvcm0+JztcclxuXHJcbiAgICAgICAgcmV0dXJuIGRpYWxvZztcclxuICAgIH0sXHJcblxyXG4gICAgc2V0SW5wdXRTaXplOiBmdW5jdGlvbiAoeHkpIHtcclxuICAgICAgICBpZiAodGhpcy5jb250ZXh0LnZpZGVvLnByb3BvcnRpb24uY2hlY2tlZCkge1xyXG4gICAgICAgICAgICBpZiAoeHkgPT09ICd4Jykge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5jb250ZXh0LnZpZGVvLnZpZGVvWS52YWx1ZSA9IE1hdGgucm91bmQoKHRoaXMuY29udGV4dC52aWRlby5fZWxlbWVudF9oIC8gdGhpcy5jb250ZXh0LnZpZGVvLl9lbGVtZW50X3cpICogdGhpcy5jb250ZXh0LnZpZGVvLnZpZGVvWC52YWx1ZSk7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmNvbnRleHQudmlkZW8udmlkZW9YLnZhbHVlID0gTWF0aC5yb3VuZCgodGhpcy5jb250ZXh0LnZpZGVvLl9lbGVtZW50X3cgLyB0aGlzLmNvbnRleHQudmlkZW8uX2VsZW1lbnRfaCkgKiB0aGlzLmNvbnRleHQudmlkZW8udmlkZW9ZLnZhbHVlKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH0sXHJcblxyXG4gICAgc3VibWl0OiBmdW5jdGlvbiAoZSkge1xyXG4gICAgICAgIHRoaXMuc2hvd0xvYWRpbmcoKTtcclxuXHJcbiAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XHJcblxyXG4gICAgICAgIGZ1bmN0aW9uIHN1Ym1pdEFjdGlvbigpIHtcclxuICAgICAgICAgICAgaWYgKHRoaXMuY29udGV4dC52aWRlby5mb2N1c0VsZW1lbnQudmFsdWUudHJpbSgpLmxlbmd0aCA9PT0gMCkgcmV0dXJuIGZhbHNlO1xyXG5cclxuICAgICAgICAgICAgY29uc3QgdyA9ICgvXlxcZCskLy50ZXN0KHRoaXMuY29udGV4dC52aWRlby52aWRlb1gudmFsdWUpID8gdGhpcy5jb250ZXh0LnZpZGVvLnZpZGVvWC52YWx1ZSA6IHRoaXMuY29udGV4dC51c2VyLnZpZGVvWCk7XHJcbiAgICAgICAgICAgIGNvbnN0IGggPSAoL15cXGQrJC8udGVzdCh0aGlzLmNvbnRleHQudmlkZW8udmlkZW9ZLnZhbHVlKSA/IHRoaXMuY29udGV4dC52aWRlby52aWRlb1kudmFsdWUgOiB0aGlzLmNvbnRleHQudXNlci52aWRlb1kpO1xyXG4gICAgICAgICAgICBsZXQgb0lmcmFtZSA9IG51bGw7XHJcbiAgICAgICAgICAgIGxldCB1cmwgPSB0aGlzLmNvbnRleHQudmlkZW8uZm9jdXNFbGVtZW50LnZhbHVlLnRyaW0oKTtcclxuXHJcbiAgICAgICAgICAgIC8qKiBpZnJhbWUgc291cmNlICovXHJcbiAgICAgICAgICAgIGlmICgvXlxcPGlmcmFtZS4qaWZyYW1lXFw+JC8udGVzdCh1cmwpKSB7XHJcbiAgICAgICAgICAgICAgICBvSWZyYW1lID0gKG5ldyBET01QYXJzZXIoKSkucGFyc2VGcm9tU3RyaW5nKHVybCwgJ3RleHQvaHRtbCcpLmdldEVsZW1lbnRzQnlUYWdOYW1lKCdpZnJhbWUnKVswXVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIC8qKiB1cmwgKi9cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBvSWZyYW1lID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnSUZSQU1FJyk7XHJcbiAgICAgICAgICAgICAgICAvKiogeW91dHViZSAqL1xyXG4gICAgICAgICAgICAgICAgaWYgKC95b3V0dVxcLj9iZS8udGVzdCh1cmwpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdXJsID0gdXJsLnJlcGxhY2UoJ3dhdGNoP3Y9JywgJycpO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICghL15cXC9cXC8uK1xcL2VtYmVkXFwvLy50ZXN0KHVybCkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdXJsID0gdXJsLnJlcGxhY2UodXJsLm1hdGNoKC9cXC9cXC8uK1xcLy8pWzBdLCAnLy93d3cueW91dHViZS5jb20vZW1iZWQvJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgb0lmcmFtZS5zcmMgPSB1cmw7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIC8qKiB1cGRhdGUgKi9cclxuICAgICAgICAgICAgaWYgKHRoaXMuY29udGV4dC5kaWFsb2cudXBkYXRlTW9kYWwpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuY29udGV4dC52aWRlby5fZWxlbWVudC5zcmMgPSBvSWZyYW1lLnNyYztcclxuICAgICAgICAgICAgICAgIHRoaXMuY29udGV4dC52aWRlby5fZWxlbWVudC5zZXRBdHRyaWJ1dGUoJ2RhdGEtcHJvcG9ydGlvbicsIHRoaXMuY29udGV4dC52aWRlby5fcHJvcG9ydGlvbkNoZWNrZWQpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5jb250ZXh0LnZpZGVvLl9jb3ZlckVsZW1lbnQuc3R5bGUud2lkdGggPSB3ICsgJ3B4JztcclxuICAgICAgICAgICAgICAgIHRoaXMuY29udGV4dC52aWRlby5fY292ZXJFbGVtZW50LnN0eWxlLmhlaWdodCA9IGggKyAncHgnO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAvKiogY3JlYXRlICovXHJcbiAgICAgICAgICAgIGNvbnN0IGNvdmVyU3BhbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ1NQQU4nKTtcclxuICAgICAgICAgICAgY292ZXJTcGFuLmNsYXNzTmFtZSA9ICdzdW4tZWRpdG9yLWlmcmFtZS1jb3Zlcic7XHJcbiAgICAgICAgICAgIGNvdmVyU3Bhbi5zdHlsZS53aWR0aCA9IHcgKyAncHgnO1xyXG4gICAgICAgICAgICBjb3ZlclNwYW4uc3R5bGUuaGVpZ2h0ID0gaCArICdweCc7XHJcbiAgICAgICAgICAgIGNvdmVyU3Bhbi5zZXRBdHRyaWJ1dGUoJ2NvbnRlbnRFZGl0YWJsZScsIGZhbHNlKTtcclxuXHJcbiAgICAgICAgICAgIC8qKiBjb3ZlciBldmVudCAqL1xyXG4gICAgICAgICAgICBjb3ZlclNwYW4uYWRkRXZlbnRMaXN0ZW5lcignbW91c2VlbnRlcicsIHRoaXMucGx1Z2lucy52aWRlby5vbk1vdXNlRW50ZXJfY292ZXIuYmluZCh0aGlzKSk7XHJcbiAgICAgICAgICAgIGNvdmVyU3Bhbi5hZGRFdmVudExpc3RlbmVyKCdtb3VzZWxlYXZlJywgdGhpcy5wbHVnaW5zLnZpZGVvLm9uTW91c2VMZWF2ZV9jb3Zlci5iaW5kKHRoaXMpLmJpbmQodGhpcykpO1xyXG5cclxuICAgICAgICAgICAgb0lmcmFtZS53aWR0aCA9ICcxMDAlJztcclxuICAgICAgICAgICAgb0lmcmFtZS5oZWlnaHQgPSAnMTAwJSc7XHJcbiAgICAgICAgICAgIG9JZnJhbWUuZnJhbWVCb3JkZXIgPSAnMCc7XHJcbiAgICAgICAgICAgIG9JZnJhbWUuYWxsb3dGdWxsc2NyZWVuID0gdHJ1ZTtcclxuICAgICAgICAgICAgb0lmcmFtZS5zZXRBdHRyaWJ1dGUoJ2RhdGEtcHJvcG9ydGlvbicsIHRoaXMuY29udGV4dC52aWRlby5fcHJvcG9ydGlvbkNoZWNrZWQpO1xyXG4gICAgICAgICAgICBvSWZyYW1lLmNvbnRlbnREb2N1bWVudDtcclxuXHJcbiAgICAgICAgICAgIHRoaXMuY29udGV4dC52aWRlby5fY292ZXJFbGVtZW50ID0gY292ZXJTcGFuO1xyXG4gICAgICAgICAgICBjb3ZlclNwYW4uYXBwZW5kQ2hpbGQob0lmcmFtZSk7XHJcblxyXG4gICAgICAgICAgICB0aGlzLmluc2VydE5vZGUoY292ZXJTcGFuKTtcclxuICAgICAgICAgICAgdGhpcy5hcHBlbmRQKGNvdmVyU3Bhbik7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICB0aGlzLmNvbnRleHQudmlkZW8uX3Byb3BvcnRpb25DaGVja2VkID0gdGhpcy5jb250ZXh0LnZpZGVvLnByb3BvcnRpb24uY2hlY2tlZDtcclxuICAgICAgICAgICAgc3VibWl0QWN0aW9uLmNhbGwodGhpcyk7XHJcbiAgICAgICAgfSBmaW5hbGx5IHtcclxuICAgICAgICAgICAgdGhpcy5wbHVnaW5zLmRpYWxvZy5jbG9zZURpYWxvZy5jYWxsKHRoaXMpO1xyXG4gICAgICAgICAgICB0aGlzLmNsb3NlTG9hZGluZygpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgfSxcclxuXHJcbiAgICBvbk1vdXNlRW50ZXJfY292ZXI6IGZ1bmN0aW9uIChlKSB7XHJcbiAgICAgICAgY29uc3QgdGFyZ2V0ID0gZS50YXJnZXQ7XHJcbiAgICAgICAgaWYgKHRhcmdldCA9PT0gdGhpcy5jb250ZXh0LnZpZGVvLl9jb3ZlckVsZW1lbnRJbm5lci5wYXJlbnROb2RlKSByZXR1cm47XHJcblxyXG4gICAgICAgIHRhcmdldC5hcHBlbmRDaGlsZCh0aGlzLmNvbnRleHQudmlkZW8uX2NvdmVyRWxlbWVudElubmVyKTtcclxuICAgIH0sXHJcblxyXG4gICAgb25Nb3VzZUxlYXZlX2NvdmVyOiBmdW5jdGlvbiAoZSkge1xyXG4gICAgICAgIGNvbnN0IHRhcmdldCA9IGUudGFyZ2V0O1xyXG4gICAgICAgIGlmICh0YXJnZXQgPT09IHRoaXMuY29udGV4dC52aWRlby5fY292ZXJFbGVtZW50SW5uZXIucGFyZW50Tm9kZSkgdGFyZ2V0LnJlbW92ZUNoaWxkKHRoaXMuY29udGV4dC52aWRlby5fY292ZXJFbGVtZW50SW5uZXIpO1xyXG4gICAgfSxcclxuXHJcbiAgICBzaXplUmV2ZXJ0OiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgY29uc3QgY29udGV4dFZpZGVvID0gdGhpcy5jb250ZXh0LnZpZGVvO1xyXG4gICAgICAgIGlmIChjb250ZXh0VmlkZW8uX29yaWdpbl93KSB7XHJcbiAgICAgICAgICAgIGNvbnRleHRWaWRlby52aWRlb1gudmFsdWUgPSBjb250ZXh0VmlkZW8uX2VsZW1lbnRfdyA9IGNvbnRleHRWaWRlby5fb3JpZ2luX3c7XHJcbiAgICAgICAgICAgIGNvbnRleHRWaWRlby52aWRlb1kudmFsdWUgPSBjb250ZXh0VmlkZW8uX2VsZW1lbnRfaCA9IGNvbnRleHRWaWRlby5fb3JpZ2luX2g7XHJcbiAgICAgICAgfVxyXG4gICAgfSxcclxuXHJcbiAgICBvbk1vZGlmeU1vZGU6IGZ1bmN0aW9uIChlbGVtZW50LCBzaXplKSB7XHJcbiAgICAgICAgY29uc3QgdmlkZW9Db250ZXh0ID0gdGhpcy5jb250ZXh0LnZpZGVvO1xyXG4gICAgICAgIGNvbnN0IHBTcGFuID0gdmlkZW9Db250ZXh0Ll9yZXNpemVfZWxlbWVudCA9IHZpZGVvQ29udGV4dC5fY292ZXJFbGVtZW50O1xyXG4gICAgICAgIHZpZGVvQ29udGV4dC5fZWxlbWVudCA9IGVsZW1lbnQ7XHJcblxyXG4gICAgICAgIGlmIChwU3BhbiA9PT0gdmlkZW9Db250ZXh0Ll9jb3ZlckVsZW1lbnRJbm5lci5wYXJlbnROb2RlKSBwU3Bhbi5yZW1vdmVDaGlsZCh2aWRlb0NvbnRleHQuX2NvdmVyRWxlbWVudElubmVyKTtcclxuXHJcbiAgICAgICAgdmlkZW9Db250ZXh0Ll9lbGVtZW50X3cgPSBzaXplLnc7XHJcbiAgICAgICAgdmlkZW9Db250ZXh0Ll9lbGVtZW50X2ggPSBzaXplLmg7XHJcbiAgICAgICAgdmlkZW9Db250ZXh0Ll9lbGVtZW50X3QgPSBzaXplLnQ7XHJcbiAgICAgICAgdmlkZW9Db250ZXh0Ll9lbGVtZW50X2wgPSBzaXplLmw7XHJcblxyXG4gICAgICAgIGxldCBvcmlnaW4gPSB2aWRlb0NvbnRleHQuX2VsZW1lbnQuZ2V0QXR0cmlidXRlKCdkYXRhLW9yaWdpbicpO1xyXG4gICAgICAgIGlmIChvcmlnaW4pIHtcclxuICAgICAgICAgICAgb3JpZ2luID0gb3JpZ2luLnNwbGl0KCcsJyk7XHJcbiAgICAgICAgICAgIHZpZGVvQ29udGV4dC5fb3JpZ2luX3cgPSBvcmlnaW5bMF0gKiAxO1xyXG4gICAgICAgICAgICB2aWRlb0NvbnRleHQuX29yaWdpbl9oID0gb3JpZ2luWzFdICogMTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICB2aWRlb0NvbnRleHQuX29yaWdpbl93ID0gc2l6ZS53O1xyXG4gICAgICAgICAgICB2aWRlb0NvbnRleHQuX29yaWdpbl9oID0gc2l6ZS5oO1xyXG4gICAgICAgICAgICB2aWRlb0NvbnRleHQuX2VsZW1lbnQuc2V0QXR0cmlidXRlKCdkYXRhLW9yaWdpbicsIHNpemUudyArICcsJyArIHNpemUuaCk7XHJcbiAgICAgICAgfVxyXG4gICAgfSxcclxuXHJcbiAgICBvcGVuTW9kaWZ5OiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgY29uc3QgY29udGV4dFZpZGVvID0gdGhpcy5jb250ZXh0LnZpZGVvO1xyXG4gICAgICAgIGNvbnN0IHBTcGFuID0gY29udGV4dFZpZGVvLl9jb3ZlckVsZW1lbnQ7XHJcbiAgICAgICAgY29uc3QgZnJhbWUgPSBwU3Bhbi5jaGlsZHJlblswXTtcclxuXHJcbiAgICAgICAgY29udGV4dFZpZGVvLmZvY3VzRWxlbWVudC52YWx1ZSA9IGZyYW1lLnNyYztcclxuICAgICAgICBjb250ZXh0VmlkZW8udmlkZW9YLnZhbHVlID0gcFNwYW4uc3R5bGUud2lkdGgubWF0Y2goL1xcZCsvKVswXTtcclxuICAgICAgICBjb250ZXh0VmlkZW8udmlkZW9ZLnZhbHVlID0gcFNwYW4uc3R5bGUuaGVpZ2h0Lm1hdGNoKC9cXGQrLylbMF07XHJcbiAgICAgICAgY29udGV4dFZpZGVvLnByb3BvcnRpb24uY2hlY2tlZCA9IGNvbnRleHRWaWRlby5fcHJvcG9ydGlvbkNoZWNrZWQgPSBjb250ZXh0VmlkZW8uX2VsZW1lbnQuZ2V0QXR0cmlidXRlKCdkYXRhLXByb3BvcnRpb24nKSA9PT0gJ3RydWUnO1xyXG4gICAgICAgIGNvbnRleHRWaWRlby5wcm9wb3J0aW9uLmRpc2FibGVkID0gZmFsc2U7XHJcblxyXG4gICAgICAgIHRoaXMucGx1Z2lucy5kaWFsb2cub3BlbkRpYWxvZy5jYWxsKHRoaXMsICd2aWRlbycsIG51bGwsIHRydWUpO1xyXG4gICAgfSxcclxuXHJcbiAgICBzZXRTaXplOiBmdW5jdGlvbiAoeCwgeSkge1xyXG4gICAgICAgIHRoaXMuY29udGV4dC52aWRlby5fcmVzaXplX2VsZW1lbnQuc3R5bGUud2lkdGggPSB4O1xyXG4gICAgICAgIHRoaXMuY29udGV4dC52aWRlby5fcmVzaXplX2VsZW1lbnQuc3R5bGUuaGVpZ2h0ID0geTtcclxuICAgIH0sXHJcblxyXG4gICAgZGVzdHJveTogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHRoaXMudXRpbC5yZW1vdmVJdGVtKHRoaXMuY29udGV4dC52aWRlby5fY292ZXJFbGVtZW50KTtcclxuICAgICAgICB0aGlzLnBsdWdpbnMudmlkZW8uaW5pdC5jYWxsKHRoaXMpO1xyXG4gICAgfSxcclxuXHJcbiAgICBpbml0OiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgdGhpcy5jb250ZXh0LnZpZGVvLmZvY3VzRWxlbWVudC52YWx1ZSA9ICcnO1xyXG4gICAgICAgIHRoaXMuY29udGV4dC52aWRlby52aWRlb1gudmFsdWUgPSB0aGlzLmNvbnRleHQudXNlci52aWRlb1g7XHJcbiAgICAgICAgdGhpcy5jb250ZXh0LnZpZGVvLnZpZGVvWS52YWx1ZSA9IHRoaXMuY29udGV4dC51c2VyLnZpZGVvWTtcclxuICAgICAgICB0aGlzLmNvbnRleHQudmlkZW8ucHJvcG9ydGlvbi5jaGVja2VkID0gZmFsc2U7XHJcbiAgICAgICAgdGhpcy5jb250ZXh0LnZpZGVvLnByb3BvcnRpb24uZGlzYWJsZWQgPSB0cnVlO1xyXG4gICAgfVxyXG59O1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgdmlkZW87Il0sIm1hcHBpbmdzIjoiQUFBQTtBQUFBOzs7Ozs7O0FBT0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBWEE7QUFjQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBREE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUFBO0FBQ0E7QUFFQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQUE7QUFFQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBeUJBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBSEE7QUFLQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQURBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQURBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBclBBO0FBd1BBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/plugins/dialog/video.js\n");

/***/ }),

/***/ "./src/plugins/modules/dialog.js":
/*!***************************************!*\
  !*** ./src/plugins/modules/dialog.js ***!
  \***************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/*\r\n * wysiwyg web editor\r\n *\r\n * suneditor.js\r\n * Copyright 2017 JiHong Lee.\r\n * MIT license.\r\n */\n\n\nconst dialog = {\n  name: 'dialog',\n  add: function (_this) {\n    const context = _this.context;\n    context.dialog = {\n      _resizeClientX: 0,\n      _resizeClientY: 0,\n      _resize_plugin: '',\n      _resize_w: 0,\n      _resize_h: 0,\n      _resize_direction: ''\n    };\n    /** dialog */\n\n    let dialog_div = document.createElement('DIV');\n    dialog_div.className = 'sun-editor-id-dialogBox sun-editor-common';\n    let dialog_back = document.createElement('DIV');\n    dialog_back.className = 'modal-dialog-background sun-editor-id-dialog-back';\n    dialog_back.style.display = 'none';\n    let dialog_area = document.createElement('DIV');\n    dialog_area.className = 'modal-dialog sun-editor-id-dialog-modal';\n    dialog_area.style.display = 'none';\n    dialog_div.appendChild(dialog_back);\n    dialog_div.appendChild(dialog_area);\n    context.dialog.modalArea = dialog_div;\n    context.dialog.back = dialog_back;\n    context.dialog.modal = dialog_area;\n    /** resize controller, button */\n\n    let resize_div_container = eval(this.setController_resize());\n    context.dialog.resizeContainer = resize_div_container;\n    context.dialog.resizeDiv = resize_div_container.getElementsByClassName('modal-resize')[0];\n    context.dialog.resizeDot = resize_div_container.getElementsByClassName('resize-dot')[0];\n    context.dialog.resizeDisplay = resize_div_container.getElementsByClassName('resize-display')[0];\n    let resize_button = eval(this.setController_button(_this.lang));\n    ;\n    context.dialog.resizeButton = resize_button;\n    let resize_handles = resize_div_container.getElementsByClassName('sun-editor-name-resize-handle');\n    /** add event listeners */\n\n    context.dialog.modal.addEventListener('click', this.onClick_dialog.bind(_this));\n    context.element.topArea.getElementsByClassName('sun-editor-container')[0].appendChild(dialog_div);\n    resize_handles[0].addEventListener('mousedown', this.onMouseDown_resize_handle.bind(_this));\n    resize_handles[1].addEventListener('mousedown', this.onMouseDown_resize_handle.bind(_this));\n    resize_handles[2].addEventListener('mousedown', this.onMouseDown_resize_handle.bind(_this));\n    resize_handles[3].addEventListener('mousedown', this.onMouseDown_resize_handle.bind(_this));\n    resize_handles[4].addEventListener('mousedown', this.onMouseDown_resize_handle.bind(_this));\n    resize_handles[5].addEventListener('mousedown', this.onMouseDown_resize_handle.bind(_this));\n    resize_handles[6].addEventListener('mousedown', this.onMouseDown_resize_handle.bind(_this));\n    resize_handles[7].addEventListener('mousedown', this.onMouseDown_resize_handle.bind(_this));\n    resize_button.addEventListener('click', this.onClick_resizeButton.bind(_this));\n    /** append html */\n\n    context.element.relative.appendChild(resize_div_container);\n    context.element.relative.appendChild(resize_button);\n    /** empty memory */\n\n    dialog_div = null, dialog_back = null, dialog_area = null, resize_div_container = null, resize_button = null, resize_handles = null;\n  },\n  onClick_dialog: function (e) {\n    e.stopPropagation();\n\n    if (/modal-dialog/.test(e.target.className) || /close/.test(e.target.getAttribute('data-command'))) {\n      this.plugins.dialog.closeDialog.call(this);\n    }\n  },\n  openDialog: function (kind, option, update) {\n    if (this.modalForm) return false;\n    this.context.dialog.updateModal = update;\n\n    if (option === 'full') {\n      this.context.dialog.modalArea.style.position = 'fixed';\n    } else {\n      this.context.dialog.modalArea.style.position = 'absolute';\n    }\n\n    this.context.dialog.kind = kind;\n    this.modalForm = this.context[kind].modal;\n    const focusElement = this.context[kind].focusElement;\n    this.context.dialog.modalArea.style.display = 'block';\n    this.context.dialog.back.style.display = 'block';\n    this.context.dialog.modal.style.display = 'block';\n    this.modalForm.style.display = 'block';\n    if (focusElement) focusElement.focus();\n  },\n  closeDialog: function () {\n    this.modalForm.style.display = 'none';\n    this.context.dialog.back.style.display = 'none';\n    this.context.dialog.modalArea.style.display = 'none';\n    this.modalForm = null;\n    this.context.dialog.updateModal = false;\n    this.plugins[this.context.dialog.kind].init.call(this);\n  },\n\n  /** resize controller, button (image, iframe) */\n  setController_resize: function () {\n    const resize_container = document.createElement('DIV');\n    resize_container.className = 'modal-resize-container';\n    resize_container.style.display = 'none';\n    resize_container.innerHTML = '' + '<div class=\"modal-resize\">' + '   <div class=\"resize-display\"></div>' + '</div>' + '<div class=\"resize-dot\">' + '   <div class=\"tl sun-editor-name-resize-handle\"></div>' + '   <div class=\"tr sun-editor-name-resize-handle\"></div>' + '   <div class=\"bl sun-editor-name-resize-handle\"></div>' + '   <div class=\"br sun-editor-name-resize-handle\"></div>' + '   <div class=\"lw sun-editor-name-resize-handle\"></div>' + '   <div class=\"th sun-editor-name-resize-handle\"></div>' + '   <div class=\"rw sun-editor-name-resize-handle\"></div>' + '   <div class=\"bh sun-editor-name-resize-handle\"></div>' + '</div>';\n    return resize_container;\n  },\n  setController_button: function (lang) {\n    const resize_button = document.createElement(\"DIV\");\n    resize_button.className = \"resize-btn\";\n    resize_button.style.display = \"none\";\n    resize_button.innerHTML = '' + '<div class=\"btn-group\">' + '   <button type=\"button\" data-command=\"100\" title=\"' + lang.dialogBox.resize100 + '\"><span class=\"note-fontsize-10\">100%</span></button>' + '   <button type=\"button\" data-command=\"75\" title=\"' + lang.dialogBox.resize75 + '\"><span class=\"note-fontsize-10\">75%</span></button>' + '   <button type=\"button\" data-command=\"50\" title=\"' + lang.dialogBox.resize50 + '\"><span class=\"note-fontsize-10\">50%</span></button>' + '   <button type=\"button\" data-command=\"25\" title=\"' + lang.dialogBox.resize25 + '\"><span class=\"note-fontsize-10\">25%</span></button>' + '   <button type=\"button\" data-command=\"update\" title=\"' + lang.toolbar.image + '\"><div class=\"icon-modify\"></div></button>' + '</div>' + '<div class=\"btn-group remove\">' + '   <button type=\"button\" data-command=\"delete\" title=\"' + lang.dialogBox.remove + '\"><div aria-hidden=\"true\" class=\"icon-cancel\"></div></button>' + '</div>';\n    return resize_button;\n  },\n  call_controller_resize: function (targetElement, plugin) {\n    this.context.dialog._resize_plugin = plugin;\n    targetElement.setAttribute('unselectable', 'on');\n    targetElement.contentEditable = false;\n    const resizeContainer = this.context.dialog.resizeContainer;\n    const resizeDiv = this.context.dialog.resizeDiv;\n    const w = targetElement.offsetWidth;\n    const h = targetElement.offsetHeight;\n    const t = targetElement.offsetTop - this.context.element.wysiwyg.scrollTop;\n    const l = targetElement.offsetLeft;\n    resizeContainer.style.top = t + 'px';\n    resizeContainer.style.left = l + 'px';\n    resizeContainer.style.width = w + 'px';\n    resizeContainer.style.height = h + 'px';\n    resizeDiv.style.top = '0px';\n    resizeDiv.style.left = '0px';\n    resizeDiv.style.width = w + 'px';\n    resizeDiv.style.height = h + 'px';\n    this.context.dialog.resizeButton.style.top = h + t + 'px';\n    this.context.dialog.resizeButton.style.left = l + 'px';\n    this.util.changeTxt(this.context.dialog.resizeDisplay, w + ' x ' + h);\n    this.context.dialog.resizeContainer.style.display = 'block';\n    this.context.dialog.resizeButton.style.display = 'block';\n    this.context.dialog.resizeDot.style.display = 'block';\n    this.context.dialog._resize_w = w;\n    this.context.dialog._resize_h = h;\n    this.controllerArray = [this.context.dialog.resizeContainer, this.context.dialog.resizeButton];\n    return {\n      w: w,\n      h: h,\n      t: t,\n      l: l\n    };\n  },\n  cancel_controller_resize: function () {\n    this.context[this.context.dialog._resize_plugin]._resize_element.style.width = this.context.dialog._resize_w + 'px';\n    this.context[this.context.dialog._resize_plugin]._resize_element.style.height = this.context.dialog._resize_h + 'px';\n    this.context.element.resizeBackground.style.display = 'none';\n    this.context.dialog.resizeContainer.style.display = 'none';\n    this.context.dialog.resizeButton.style.display = 'none';\n\n    this.plugins[this.context.dialog._resize_plugin].init.call(this);\n  },\n  onClick_resizeButton: function (e) {\n    e.stopPropagation();\n    const command = e.target.getAttribute('data-command') || e.target.parentNode.getAttribute('data-command');\n    if (!command) return;\n    e.preventDefault();\n\n    if (/^\\d+$/.test(command)) {\n      this.plugins[this.context.dialog._resize_plugin].setSize.call(this, command + '%', '');\n    } else if (/update/.test(command)) {\n      this.plugins[this.context.dialog._resize_plugin].openModify.call(this);\n    } else if (/delete/.test(command)) {\n      this.plugins[this.context.dialog._resize_plugin].destroy.call(this);\n    }\n\n    this.submenuOff();\n    this.focus();\n  },\n  onMouseDown_resize_handle: function (e) {\n    const direction = this.context.dialog._resize_direction = e.target.classList[0];\n    e.stopPropagation();\n    e.preventDefault();\n    this.context.dialog.resizeDot.style.display = 'none';\n    this.context.dialog._resizeClientX = e.clientX;\n    this.context.dialog._resizeClientY = e.clientY;\n    this.context.element.resizeBackground.style.display = 'block';\n    this.context.dialog.resizeButton.style.display = 'none';\n    this.context.dialog.resizeDiv.style.float = /l/.test(direction) ? 'right' : /r/.test(direction) ? 'left' : 'none';\n\n    function closureFunc() {\n      this.plugins.dialog.cancel_controller_resize.call(this);\n      document.removeEventListener('mousemove', resizing_element_bind);\n      document.removeEventListener('mouseup', closureFunc_bind);\n    }\n\n    const resizing_element_bind = this.plugins.dialog.resizing_element.bind(this);\n    const closureFunc_bind = closureFunc.bind(this);\n    document.addEventListener('mousemove', resizing_element_bind);\n    document.addEventListener('mouseup', closureFunc_bind);\n  },\n  resizing_element: function (e) {\n    const direction = this.context.dialog._resize_direction;\n    const clientX = e.clientX;\n    const clientY = e.clientY;\n    const plugin = this.context[this.context.dialog._resize_plugin];\n    let resultW = plugin._element_w;\n    let resultH = plugin._element_h;\n    const w = plugin._element_w + (/r/.test(direction) ? clientX - this.context.dialog._resizeClientX : this.context.dialog._resizeClientX - clientX);\n    const h = plugin._element_h + (/b/.test(direction) ? clientY - this.context.dialog._resizeClientY : this.context.dialog._resizeClientY - clientY);\n    const wh = plugin._element_h / plugin._element_w * w;\n    if (/t/.test(direction)) this.context.dialog.resizeDiv.style.top = plugin._element_h - (/h/.test(direction) ? h : wh) + 'px';\n    if (/l/.test(direction)) this.context.dialog.resizeDiv.style.left = plugin._element_w - w + 'px';\n\n    if (/r|l/.test(direction)) {\n      this.context.dialog.resizeDiv.style.width = w + 'px';\n      resultW = w;\n    }\n\n    if (/^(?:t|b)[^h]$/.test(direction)) {\n      this.context.dialog.resizeDiv.style.height = wh + 'px';\n      resultH = wh;\n    } else if (/^(?:t|b)h$/.test(direction)) {\n      this.context.dialog.resizeDiv.style.height = h + 'px';\n      resultH = h;\n    }\n\n    this.context.dialog._resize_w = resultW;\n    this.context.dialog._resize_h = resultH;\n    this.util.changeTxt(this.context.dialog.resizeDisplay, Math.round(resultW) + ' x ' + Math.round(resultH));\n  }\n};\n/* harmony default export */ __webpack_exports__[\"default\"] = (dialog);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvcGx1Z2lucy9tb2R1bGVzL2RpYWxvZy5qcy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL3NyYy9wbHVnaW5zL21vZHVsZXMvZGlhbG9nLmpzP2Q2NGIiXSwic291cmNlc0NvbnRlbnQiOlsiLypcclxuICogd3lzaXd5ZyB3ZWIgZWRpdG9yXHJcbiAqXHJcbiAqIHN1bmVkaXRvci5qc1xyXG4gKiBDb3B5cmlnaHQgMjAxNyBKaUhvbmcgTGVlLlxyXG4gKiBNSVQgbGljZW5zZS5cclxuICovXHJcbid1c2Ugc3RyaWN0JztcclxuY29uc3QgZGlhbG9nID0ge1xyXG4gICAgbmFtZTogJ2RpYWxvZycsXHJcbiAgICBhZGQ6IGZ1bmN0aW9uIChfdGhpcykge1xyXG4gICAgICAgIGNvbnN0IGNvbnRleHQgPSBfdGhpcy5jb250ZXh0O1xyXG4gICAgICAgIGNvbnRleHQuZGlhbG9nID0ge1xyXG4gICAgICAgICAgICBfcmVzaXplQ2xpZW50WDogMCxcclxuICAgICAgICAgICAgX3Jlc2l6ZUNsaWVudFk6IDAsXHJcbiAgICAgICAgICAgIF9yZXNpemVfcGx1Z2luOiAnJyxcclxuICAgICAgICAgICAgX3Jlc2l6ZV93OiAwLFxyXG4gICAgICAgICAgICBfcmVzaXplX2g6IDAsXHJcbiAgICAgICAgICAgIF9yZXNpemVfZGlyZWN0aW9uOiAnJ1xyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIC8qKiBkaWFsb2cgKi9cclxuICAgICAgICBsZXQgZGlhbG9nX2RpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ0RJVicpO1xyXG4gICAgICAgIGRpYWxvZ19kaXYuY2xhc3NOYW1lID0gJ3N1bi1lZGl0b3ItaWQtZGlhbG9nQm94IHN1bi1lZGl0b3ItY29tbW9uJztcclxuXHJcbiAgICAgICAgbGV0IGRpYWxvZ19iYWNrID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnRElWJyk7XHJcbiAgICAgICAgZGlhbG9nX2JhY2suY2xhc3NOYW1lID0gJ21vZGFsLWRpYWxvZy1iYWNrZ3JvdW5kIHN1bi1lZGl0b3ItaWQtZGlhbG9nLWJhY2snO1xyXG4gICAgICAgIGRpYWxvZ19iYWNrLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XHJcblxyXG4gICAgICAgIGxldCBkaWFsb2dfYXJlYSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ0RJVicpO1xyXG4gICAgICAgIGRpYWxvZ19hcmVhLmNsYXNzTmFtZSA9ICdtb2RhbC1kaWFsb2cgc3VuLWVkaXRvci1pZC1kaWFsb2ctbW9kYWwnO1xyXG4gICAgICAgIGRpYWxvZ19hcmVhLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XHJcblxyXG4gICAgICAgIGRpYWxvZ19kaXYuYXBwZW5kQ2hpbGQoZGlhbG9nX2JhY2spO1xyXG4gICAgICAgIGRpYWxvZ19kaXYuYXBwZW5kQ2hpbGQoZGlhbG9nX2FyZWEpO1xyXG5cclxuICAgICAgICBjb250ZXh0LmRpYWxvZy5tb2RhbEFyZWEgPSBkaWFsb2dfZGl2O1xyXG4gICAgICAgIGNvbnRleHQuZGlhbG9nLmJhY2sgPSBkaWFsb2dfYmFjaztcclxuICAgICAgICBjb250ZXh0LmRpYWxvZy5tb2RhbCA9IGRpYWxvZ19hcmVhO1xyXG5cclxuICAgICAgICAvKiogcmVzaXplIGNvbnRyb2xsZXIsIGJ1dHRvbiAqL1xyXG4gICAgICAgIGxldCByZXNpemVfZGl2X2NvbnRhaW5lciA9IGV2YWwodGhpcy5zZXRDb250cm9sbGVyX3Jlc2l6ZSgpKTtcclxuICAgICAgICBjb250ZXh0LmRpYWxvZy5yZXNpemVDb250YWluZXIgPSByZXNpemVfZGl2X2NvbnRhaW5lcjtcclxuXHJcbiAgICAgICAgY29udGV4dC5kaWFsb2cucmVzaXplRGl2ID0gcmVzaXplX2Rpdl9jb250YWluZXIuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgnbW9kYWwtcmVzaXplJylbMF07XHJcbiAgICAgICAgY29udGV4dC5kaWFsb2cucmVzaXplRG90ID0gcmVzaXplX2Rpdl9jb250YWluZXIuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgncmVzaXplLWRvdCcpWzBdO1xyXG4gICAgICAgIGNvbnRleHQuZGlhbG9nLnJlc2l6ZURpc3BsYXkgPSByZXNpemVfZGl2X2NvbnRhaW5lci5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCdyZXNpemUtZGlzcGxheScpWzBdO1xyXG5cclxuICAgICAgICBsZXQgcmVzaXplX2J1dHRvbiA9IGV2YWwodGhpcy5zZXRDb250cm9sbGVyX2J1dHRvbihfdGhpcy5sYW5nKSk7O1xyXG4gICAgICAgIGNvbnRleHQuZGlhbG9nLnJlc2l6ZUJ1dHRvbiA9IHJlc2l6ZV9idXR0b247XHJcblxyXG4gICAgICAgIGxldCByZXNpemVfaGFuZGxlcyA9IHJlc2l6ZV9kaXZfY29udGFpbmVyLmdldEVsZW1lbnRzQnlDbGFzc05hbWUoJ3N1bi1lZGl0b3ItbmFtZS1yZXNpemUtaGFuZGxlJyk7XHJcblxyXG4gICAgICAgIC8qKiBhZGQgZXZlbnQgbGlzdGVuZXJzICovXHJcbiAgICAgICAgY29udGV4dC5kaWFsb2cubW9kYWwuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLm9uQ2xpY2tfZGlhbG9nLmJpbmQoX3RoaXMpKTtcclxuICAgICAgICBjb250ZXh0LmVsZW1lbnQudG9wQXJlYS5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCdzdW4tZWRpdG9yLWNvbnRhaW5lcicpWzBdLmFwcGVuZENoaWxkKGRpYWxvZ19kaXYpO1xyXG4gICAgICAgIHJlc2l6ZV9oYW5kbGVzWzBdLmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlZG93bicsIHRoaXMub25Nb3VzZURvd25fcmVzaXplX2hhbmRsZS5iaW5kKF90aGlzKSk7XHJcbiAgICAgICAgcmVzaXplX2hhbmRsZXNbMV0uYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vkb3duJywgdGhpcy5vbk1vdXNlRG93bl9yZXNpemVfaGFuZGxlLmJpbmQoX3RoaXMpKTtcclxuICAgICAgICByZXNpemVfaGFuZGxlc1syXS5hZGRFdmVudExpc3RlbmVyKCdtb3VzZWRvd24nLCB0aGlzLm9uTW91c2VEb3duX3Jlc2l6ZV9oYW5kbGUuYmluZChfdGhpcykpO1xyXG4gICAgICAgIHJlc2l6ZV9oYW5kbGVzWzNdLmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlZG93bicsIHRoaXMub25Nb3VzZURvd25fcmVzaXplX2hhbmRsZS5iaW5kKF90aGlzKSk7XHJcbiAgICAgICAgcmVzaXplX2hhbmRsZXNbNF0uYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vkb3duJywgdGhpcy5vbk1vdXNlRG93bl9yZXNpemVfaGFuZGxlLmJpbmQoX3RoaXMpKTtcclxuICAgICAgICByZXNpemVfaGFuZGxlc1s1XS5hZGRFdmVudExpc3RlbmVyKCdtb3VzZWRvd24nLCB0aGlzLm9uTW91c2VEb3duX3Jlc2l6ZV9oYW5kbGUuYmluZChfdGhpcykpO1xyXG4gICAgICAgIHJlc2l6ZV9oYW5kbGVzWzZdLmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlZG93bicsIHRoaXMub25Nb3VzZURvd25fcmVzaXplX2hhbmRsZS5iaW5kKF90aGlzKSk7XHJcbiAgICAgICAgcmVzaXplX2hhbmRsZXNbN10uYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vkb3duJywgdGhpcy5vbk1vdXNlRG93bl9yZXNpemVfaGFuZGxlLmJpbmQoX3RoaXMpKTtcclxuICAgICAgICByZXNpemVfYnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5vbkNsaWNrX3Jlc2l6ZUJ1dHRvbi5iaW5kKF90aGlzKSk7XHJcblxyXG4gICAgICAgIC8qKiBhcHBlbmQgaHRtbCAqL1xyXG4gICAgICAgIGNvbnRleHQuZWxlbWVudC5yZWxhdGl2ZS5hcHBlbmRDaGlsZChyZXNpemVfZGl2X2NvbnRhaW5lcik7XHJcbiAgICAgICAgY29udGV4dC5lbGVtZW50LnJlbGF0aXZlLmFwcGVuZENoaWxkKHJlc2l6ZV9idXR0b24pO1xyXG5cclxuICAgICAgICAvKiogZW1wdHkgbWVtb3J5ICovXHJcbiAgICAgICAgZGlhbG9nX2RpdiA9IG51bGwsIGRpYWxvZ19iYWNrID0gbnVsbCwgZGlhbG9nX2FyZWEgPSBudWxsLCByZXNpemVfZGl2X2NvbnRhaW5lciA9IG51bGwsIHJlc2l6ZV9idXR0b24gPSBudWxsLCByZXNpemVfaGFuZGxlcyA9IG51bGw7XHJcbiAgICB9LFxyXG5cclxuICAgIG9uQ2xpY2tfZGlhbG9nOiBmdW5jdGlvbiAoZSkge1xyXG4gICAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XHJcblxyXG4gICAgICAgIGlmICgvbW9kYWwtZGlhbG9nLy50ZXN0KGUudGFyZ2V0LmNsYXNzTmFtZSkgfHwgL2Nsb3NlLy50ZXN0KGUudGFyZ2V0LmdldEF0dHJpYnV0ZSgnZGF0YS1jb21tYW5kJykpKSB7XHJcbiAgICAgICAgICAgIHRoaXMucGx1Z2lucy5kaWFsb2cuY2xvc2VEaWFsb2cuY2FsbCh0aGlzKTtcclxuICAgICAgICB9XHJcbiAgICB9LFxyXG5cclxuICAgIG9wZW5EaWFsb2c6IGZ1bmN0aW9uIChraW5kLCBvcHRpb24sIHVwZGF0ZSkgIHtcclxuICAgICAgICBpZiAodGhpcy5tb2RhbEZvcm0pIHJldHVybiBmYWxzZTtcclxuXHJcbiAgICAgICAgdGhpcy5jb250ZXh0LmRpYWxvZy51cGRhdGVNb2RhbCA9IHVwZGF0ZTtcclxuXHJcbiAgICAgICAgaWYgKG9wdGlvbiA9PT0gJ2Z1bGwnKSB7XHJcbiAgICAgICAgICAgIHRoaXMuY29udGV4dC5kaWFsb2cubW9kYWxBcmVhLnN0eWxlLnBvc2l0aW9uID0gJ2ZpeGVkJztcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICB0aGlzLmNvbnRleHQuZGlhbG9nLm1vZGFsQXJlYS5zdHlsZS5wb3NpdGlvbiA9ICdhYnNvbHV0ZSc7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0aGlzLmNvbnRleHQuZGlhbG9nLmtpbmQgPSBraW5kO1xyXG4gICAgICAgIHRoaXMubW9kYWxGb3JtID0gdGhpcy5jb250ZXh0W2tpbmRdLm1vZGFsO1xyXG4gICAgICAgIGNvbnN0IGZvY3VzRWxlbWVudCA9IHRoaXMuY29udGV4dFtraW5kXS5mb2N1c0VsZW1lbnQ7XHJcblxyXG4gICAgICAgIHRoaXMuY29udGV4dC5kaWFsb2cubW9kYWxBcmVhLnN0eWxlLmRpc3BsYXkgPSAnYmxvY2snO1xyXG4gICAgICAgIHRoaXMuY29udGV4dC5kaWFsb2cuYmFjay5zdHlsZS5kaXNwbGF5ID0gJ2Jsb2NrJztcclxuICAgICAgICB0aGlzLmNvbnRleHQuZGlhbG9nLm1vZGFsLnN0eWxlLmRpc3BsYXkgPSAnYmxvY2snO1xyXG4gICAgICAgIHRoaXMubW9kYWxGb3JtLnN0eWxlLmRpc3BsYXkgPSAnYmxvY2snO1xyXG5cclxuICAgICAgICBpZiAoZm9jdXNFbGVtZW50KSBmb2N1c0VsZW1lbnQuZm9jdXMoKTtcclxuICAgIH0sXHJcblxyXG4gICAgY2xvc2VEaWFsb2c6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICB0aGlzLm1vZGFsRm9ybS5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xyXG4gICAgICAgIHRoaXMuY29udGV4dC5kaWFsb2cuYmFjay5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xyXG4gICAgICAgIHRoaXMuY29udGV4dC5kaWFsb2cubW9kYWxBcmVhLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XHJcbiAgICAgICAgdGhpcy5tb2RhbEZvcm0gPSBudWxsO1xyXG4gICAgICAgIHRoaXMuY29udGV4dC5kaWFsb2cudXBkYXRlTW9kYWwgPSBmYWxzZTtcclxuICAgICAgICB0aGlzLnBsdWdpbnNbdGhpcy5jb250ZXh0LmRpYWxvZy5raW5kXS5pbml0LmNhbGwodGhpcyk7XHJcbiAgICB9LFxyXG5cclxuICAgIC8qKiByZXNpemUgY29udHJvbGxlciwgYnV0dG9uIChpbWFnZSwgaWZyYW1lKSAqL1xyXG4gICAgc2V0Q29udHJvbGxlcl9yZXNpemU6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBjb25zdCByZXNpemVfY29udGFpbmVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnRElWJyk7XHJcbiAgICAgICAgcmVzaXplX2NvbnRhaW5lci5jbGFzc05hbWUgPSAnbW9kYWwtcmVzaXplLWNvbnRhaW5lcic7XHJcbiAgICAgICAgcmVzaXplX2NvbnRhaW5lci5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xyXG4gICAgICAgIHJlc2l6ZV9jb250YWluZXIuaW5uZXJIVE1MID0gJycgK1xyXG4gICAgICAgICAgICAnPGRpdiBjbGFzcz1cIm1vZGFsLXJlc2l6ZVwiPicgK1xyXG4gICAgICAgICAgICAnICAgPGRpdiBjbGFzcz1cInJlc2l6ZS1kaXNwbGF5XCI+PC9kaXY+JyArXHJcbiAgICAgICAgICAgICc8L2Rpdj4nICtcclxuICAgICAgICAgICAgJzxkaXYgY2xhc3M9XCJyZXNpemUtZG90XCI+JyArXHJcbiAgICAgICAgICAgICcgICA8ZGl2IGNsYXNzPVwidGwgc3VuLWVkaXRvci1uYW1lLXJlc2l6ZS1oYW5kbGVcIj48L2Rpdj4nICtcclxuICAgICAgICAgICAgJyAgIDxkaXYgY2xhc3M9XCJ0ciBzdW4tZWRpdG9yLW5hbWUtcmVzaXplLWhhbmRsZVwiPjwvZGl2PicgK1xyXG4gICAgICAgICAgICAnICAgPGRpdiBjbGFzcz1cImJsIHN1bi1lZGl0b3ItbmFtZS1yZXNpemUtaGFuZGxlXCI+PC9kaXY+JyArXHJcbiAgICAgICAgICAgICcgICA8ZGl2IGNsYXNzPVwiYnIgc3VuLWVkaXRvci1uYW1lLXJlc2l6ZS1oYW5kbGVcIj48L2Rpdj4nICtcclxuICAgICAgICAgICAgJyAgIDxkaXYgY2xhc3M9XCJsdyBzdW4tZWRpdG9yLW5hbWUtcmVzaXplLWhhbmRsZVwiPjwvZGl2PicgK1xyXG4gICAgICAgICAgICAnICAgPGRpdiBjbGFzcz1cInRoIHN1bi1lZGl0b3ItbmFtZS1yZXNpemUtaGFuZGxlXCI+PC9kaXY+JyArXHJcbiAgICAgICAgICAgICcgICA8ZGl2IGNsYXNzPVwicncgc3VuLWVkaXRvci1uYW1lLXJlc2l6ZS1oYW5kbGVcIj48L2Rpdj4nICtcclxuICAgICAgICAgICAgJyAgIDxkaXYgY2xhc3M9XCJiaCBzdW4tZWRpdG9yLW5hbWUtcmVzaXplLWhhbmRsZVwiPjwvZGl2PicgK1xyXG4gICAgICAgICAgICAnPC9kaXY+JztcclxuXHJcbiAgICAgICAgcmV0dXJuIHJlc2l6ZV9jb250YWluZXI7XHJcbiAgICB9LFxyXG5cclxuICAgIHNldENvbnRyb2xsZXJfYnV0dG9uOiBmdW5jdGlvbiAobGFuZykge1xyXG4gICAgICAgIGNvbnN0IHJlc2l6ZV9idXR0b24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiRElWXCIpO1xyXG4gICAgICAgIHJlc2l6ZV9idXR0b24uY2xhc3NOYW1lID0gXCJyZXNpemUtYnRuXCI7XHJcbiAgICAgICAgcmVzaXplX2J1dHRvbi5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCI7XHJcbiAgICAgICAgcmVzaXplX2J1dHRvbi5pbm5lckhUTUwgPSAnJyArXHJcbiAgICAgICAgICAgICc8ZGl2IGNsYXNzPVwiYnRuLWdyb3VwXCI+JyArXHJcbiAgICAgICAgICAgICcgICA8YnV0dG9uIHR5cGU9XCJidXR0b25cIiBkYXRhLWNvbW1hbmQ9XCIxMDBcIiB0aXRsZT1cIicgKyBsYW5nLmRpYWxvZ0JveC5yZXNpemUxMDAgKyAnXCI+PHNwYW4gY2xhc3M9XCJub3RlLWZvbnRzaXplLTEwXCI+MTAwJTwvc3Bhbj48L2J1dHRvbj4nICtcclxuICAgICAgICAgICAgJyAgIDxidXR0b24gdHlwZT1cImJ1dHRvblwiIGRhdGEtY29tbWFuZD1cIjc1XCIgdGl0bGU9XCInICsgbGFuZy5kaWFsb2dCb3gucmVzaXplNzUgKyAnXCI+PHNwYW4gY2xhc3M9XCJub3RlLWZvbnRzaXplLTEwXCI+NzUlPC9zcGFuPjwvYnV0dG9uPicgK1xyXG4gICAgICAgICAgICAnICAgPGJ1dHRvbiB0eXBlPVwiYnV0dG9uXCIgZGF0YS1jb21tYW5kPVwiNTBcIiB0aXRsZT1cIicgKyBsYW5nLmRpYWxvZ0JveC5yZXNpemU1MCArICdcIj48c3BhbiBjbGFzcz1cIm5vdGUtZm9udHNpemUtMTBcIj41MCU8L3NwYW4+PC9idXR0b24+JyArXHJcbiAgICAgICAgICAgICcgICA8YnV0dG9uIHR5cGU9XCJidXR0b25cIiBkYXRhLWNvbW1hbmQ9XCIyNVwiIHRpdGxlPVwiJyArIGxhbmcuZGlhbG9nQm94LnJlc2l6ZTI1ICsgJ1wiPjxzcGFuIGNsYXNzPVwibm90ZS1mb250c2l6ZS0xMFwiPjI1JTwvc3Bhbj48L2J1dHRvbj4nICtcclxuICAgICAgICAgICAgJyAgIDxidXR0b24gdHlwZT1cImJ1dHRvblwiIGRhdGEtY29tbWFuZD1cInVwZGF0ZVwiIHRpdGxlPVwiJyArIGxhbmcudG9vbGJhci5pbWFnZSArICdcIj48ZGl2IGNsYXNzPVwiaWNvbi1tb2RpZnlcIj48L2Rpdj48L2J1dHRvbj4nICtcclxuICAgICAgICAgICAgJzwvZGl2PicgK1xyXG4gICAgICAgICAgICAnPGRpdiBjbGFzcz1cImJ0bi1ncm91cCByZW1vdmVcIj4nICtcclxuICAgICAgICAgICAgJyAgIDxidXR0b24gdHlwZT1cImJ1dHRvblwiIGRhdGEtY29tbWFuZD1cImRlbGV0ZVwiIHRpdGxlPVwiJyArIGxhbmcuZGlhbG9nQm94LnJlbW92ZSArICdcIj48ZGl2IGFyaWEtaGlkZGVuPVwidHJ1ZVwiIGNsYXNzPVwiaWNvbi1jYW5jZWxcIj48L2Rpdj48L2J1dHRvbj4nICtcclxuICAgICAgICAgICAgJzwvZGl2Pic7XHJcblxyXG4gICAgICAgIHJldHVybiByZXNpemVfYnV0dG9uO1xyXG4gICAgfSxcclxuXHJcbiAgICBjYWxsX2NvbnRyb2xsZXJfcmVzaXplOiBmdW5jdGlvbiAodGFyZ2V0RWxlbWVudCwgcGx1Z2luKSB7XHJcbiAgICAgICAgdGhpcy5jb250ZXh0LmRpYWxvZy5fcmVzaXplX3BsdWdpbiA9IHBsdWdpbjtcclxuICAgICAgICB0YXJnZXRFbGVtZW50LnNldEF0dHJpYnV0ZSgndW5zZWxlY3RhYmxlJywgJ29uJyk7XHJcbiAgICAgICAgdGFyZ2V0RWxlbWVudC5jb250ZW50RWRpdGFibGUgPSBmYWxzZTtcclxuXHJcbiAgICAgICAgY29uc3QgcmVzaXplQ29udGFpbmVyID0gdGhpcy5jb250ZXh0LmRpYWxvZy5yZXNpemVDb250YWluZXI7XHJcbiAgICAgICAgY29uc3QgcmVzaXplRGl2ID0gdGhpcy5jb250ZXh0LmRpYWxvZy5yZXNpemVEaXY7XHJcblxyXG4gICAgICAgIGNvbnN0IHcgPSB0YXJnZXRFbGVtZW50Lm9mZnNldFdpZHRoO1xyXG4gICAgICAgIGNvbnN0IGggPSB0YXJnZXRFbGVtZW50Lm9mZnNldEhlaWdodDtcclxuICAgICAgICBjb25zdCB0ID0gKHRhcmdldEVsZW1lbnQub2Zmc2V0VG9wIC0gdGhpcy5jb250ZXh0LmVsZW1lbnQud3lzaXd5Zy5zY3JvbGxUb3ApO1xyXG4gICAgICAgIGNvbnN0IGwgPSAodGFyZ2V0RWxlbWVudC5vZmZzZXRMZWZ0KTtcclxuXHJcbiAgICAgICAgcmVzaXplQ29udGFpbmVyLnN0eWxlLnRvcCA9IHQgKyAncHgnO1xyXG4gICAgICAgIHJlc2l6ZUNvbnRhaW5lci5zdHlsZS5sZWZ0ID0gbCArICdweCc7XHJcbiAgICAgICAgcmVzaXplQ29udGFpbmVyLnN0eWxlLndpZHRoID0gdyArICdweCc7XHJcbiAgICAgICAgcmVzaXplQ29udGFpbmVyLnN0eWxlLmhlaWdodCA9IGggKyAncHgnO1xyXG5cclxuICAgICAgICByZXNpemVEaXYuc3R5bGUudG9wID0gJzBweCc7XHJcbiAgICAgICAgcmVzaXplRGl2LnN0eWxlLmxlZnQgPSAnMHB4JztcclxuICAgICAgICByZXNpemVEaXYuc3R5bGUud2lkdGggPSAgdyArICdweCc7XHJcbiAgICAgICAgcmVzaXplRGl2LnN0eWxlLmhlaWdodCA9ICBoICsgJ3B4JztcclxuXHJcbiAgICAgICAgdGhpcy5jb250ZXh0LmRpYWxvZy5yZXNpemVCdXR0b24uc3R5bGUudG9wID0gKGggKyB0KSArICdweCc7XHJcbiAgICAgICAgdGhpcy5jb250ZXh0LmRpYWxvZy5yZXNpemVCdXR0b24uc3R5bGUubGVmdCA9IGwgKyAncHgnO1xyXG5cclxuICAgICAgICB0aGlzLnV0aWwuY2hhbmdlVHh0KHRoaXMuY29udGV4dC5kaWFsb2cucmVzaXplRGlzcGxheSwgdyArICcgeCAnICsgaCk7XHJcblxyXG4gICAgICAgIHRoaXMuY29udGV4dC5kaWFsb2cucmVzaXplQ29udGFpbmVyLnN0eWxlLmRpc3BsYXkgPSAnYmxvY2snO1xyXG4gICAgICAgIHRoaXMuY29udGV4dC5kaWFsb2cucmVzaXplQnV0dG9uLnN0eWxlLmRpc3BsYXkgPSAnYmxvY2snO1xyXG4gICAgICAgIHRoaXMuY29udGV4dC5kaWFsb2cucmVzaXplRG90LnN0eWxlLmRpc3BsYXkgPSAnYmxvY2snO1xyXG5cclxuICAgICAgICB0aGlzLmNvbnRleHQuZGlhbG9nLl9yZXNpemVfdyA9IHc7XHJcbiAgICAgICAgdGhpcy5jb250ZXh0LmRpYWxvZy5fcmVzaXplX2ggPSBoO1xyXG5cclxuICAgICAgICB0aGlzLmNvbnRyb2xsZXJBcnJheSA9IFt0aGlzLmNvbnRleHQuZGlhbG9nLnJlc2l6ZUNvbnRhaW5lciwgdGhpcy5jb250ZXh0LmRpYWxvZy5yZXNpemVCdXR0b25dO1xyXG5cclxuICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICB3OiB3LFxyXG4gICAgICAgICAgICBoOiBoLFxyXG4gICAgICAgICAgICB0OiB0LFxyXG4gICAgICAgICAgICBsOiBsXHJcbiAgICAgICAgfTtcclxuICAgIH0sXHJcblxyXG4gICAgY2FuY2VsX2NvbnRyb2xsZXJfcmVzaXplOiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgdGhpcy5jb250ZXh0W3RoaXMuY29udGV4dC5kaWFsb2cuX3Jlc2l6ZV9wbHVnaW5dLl9yZXNpemVfZWxlbWVudC5zdHlsZS53aWR0aCA9IHRoaXMuY29udGV4dC5kaWFsb2cuX3Jlc2l6ZV93ICsgJ3B4JztcclxuICAgICAgICB0aGlzLmNvbnRleHRbdGhpcy5jb250ZXh0LmRpYWxvZy5fcmVzaXplX3BsdWdpbl0uX3Jlc2l6ZV9lbGVtZW50LnN0eWxlLmhlaWdodCA9dGhpcy5jb250ZXh0LmRpYWxvZy5fcmVzaXplX2ggKyAncHgnO1xyXG5cclxuICAgICAgICB0aGlzLmNvbnRleHQuZWxlbWVudC5yZXNpemVCYWNrZ3JvdW5kLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XHJcbiAgICAgICAgdGhpcy5jb250ZXh0LmRpYWxvZy5yZXNpemVDb250YWluZXIuc3R5bGUuZGlzcGxheSA9ICdub25lJztcclxuICAgICAgICB0aGlzLmNvbnRleHQuZGlhbG9nLnJlc2l6ZUJ1dHRvbi5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xyXG4gICAgICAgIHRoaXMucGx1Z2luc1t0aGlzLmNvbnRleHQuZGlhbG9nLl9yZXNpemVfcGx1Z2luXS5pbml0LmNhbGwodGhpcyk7XHJcbiAgICB9LFxyXG5cclxuICAgIG9uQ2xpY2tfcmVzaXplQnV0dG9uOiBmdW5jdGlvbiAoZSkge1xyXG4gICAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XHJcblxyXG4gICAgICAgIGNvbnN0IGNvbW1hbmQgPSBlLnRhcmdldC5nZXRBdHRyaWJ1dGUoJ2RhdGEtY29tbWFuZCcpIHx8IGUudGFyZ2V0LnBhcmVudE5vZGUuZ2V0QXR0cmlidXRlKCdkYXRhLWNvbW1hbmQnKTtcclxuICAgICAgICBpZiAoIWNvbW1hbmQpIHJldHVybjtcclxuXHJcbiAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG5cclxuICAgICAgICBpZiAoL15cXGQrJC8udGVzdChjb21tYW5kKSkge1xyXG4gICAgICAgICAgICB0aGlzLnBsdWdpbnNbdGhpcy5jb250ZXh0LmRpYWxvZy5fcmVzaXplX3BsdWdpbl0uc2V0U2l6ZS5jYWxsKHRoaXMsIGNvbW1hbmQgKyAnJScsICcnKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBpZiAoL3VwZGF0ZS8udGVzdChjb21tYW5kKSkge1xyXG4gICAgICAgICAgICB0aGlzLnBsdWdpbnNbdGhpcy5jb250ZXh0LmRpYWxvZy5fcmVzaXplX3BsdWdpbl0ub3Blbk1vZGlmeS5jYWxsKHRoaXMpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIGlmICgvZGVsZXRlLy50ZXN0KGNvbW1hbmQpKSB7XHJcbiAgICAgICAgICAgIHRoaXMucGx1Z2luc1t0aGlzLmNvbnRleHQuZGlhbG9nLl9yZXNpemVfcGx1Z2luXS5kZXN0cm95LmNhbGwodGhpcyk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0aGlzLnN1Ym1lbnVPZmYoKTtcclxuICAgICAgICB0aGlzLmZvY3VzKCk7XHJcbiAgICB9LFxyXG5cclxuICAgIG9uTW91c2VEb3duX3Jlc2l6ZV9oYW5kbGU6IGZ1bmN0aW9uIChlKSB7XHJcbiAgICAgICAgY29uc3QgZGlyZWN0aW9uID0gdGhpcy5jb250ZXh0LmRpYWxvZy5fcmVzaXplX2RpcmVjdGlvbiA9IGUudGFyZ2V0LmNsYXNzTGlzdFswXTtcclxuICAgICAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xyXG4gICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcclxuXHJcbiAgICAgICAgdGhpcy5jb250ZXh0LmRpYWxvZy5yZXNpemVEb3Quc3R5bGUuZGlzcGxheSA9ICdub25lJztcclxuICAgICAgICB0aGlzLmNvbnRleHQuZGlhbG9nLl9yZXNpemVDbGllbnRYID0gZS5jbGllbnRYO1xyXG4gICAgICAgIHRoaXMuY29udGV4dC5kaWFsb2cuX3Jlc2l6ZUNsaWVudFkgPSBlLmNsaWVudFk7XHJcbiAgICAgICAgdGhpcy5jb250ZXh0LmVsZW1lbnQucmVzaXplQmFja2dyb3VuZC5zdHlsZS5kaXNwbGF5ID0gJ2Jsb2NrJztcclxuICAgICAgICB0aGlzLmNvbnRleHQuZGlhbG9nLnJlc2l6ZUJ1dHRvbi5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xyXG4gICAgICAgIHRoaXMuY29udGV4dC5kaWFsb2cucmVzaXplRGl2LnN0eWxlLmZsb2F0ID0gL2wvLnRlc3QoZGlyZWN0aW9uKSA/ICdyaWdodCcgOiAvci8udGVzdChkaXJlY3Rpb24pID8gJ2xlZnQnIDogJ25vbmUnO1xyXG5cclxuICAgICAgICBmdW5jdGlvbiBjbG9zdXJlRnVuYygpIHtcclxuICAgICAgICAgICAgdGhpcy5wbHVnaW5zLmRpYWxvZy5jYW5jZWxfY29udHJvbGxlcl9yZXNpemUuY2FsbCh0aGlzKTtcclxuICAgICAgICAgICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcignbW91c2Vtb3ZlJywgcmVzaXppbmdfZWxlbWVudF9iaW5kKTtcclxuICAgICAgICAgICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcignbW91c2V1cCcsIGNsb3N1cmVGdW5jX2JpbmQpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgY29uc3QgcmVzaXppbmdfZWxlbWVudF9iaW5kID0gdGhpcy5wbHVnaW5zLmRpYWxvZy5yZXNpemluZ19lbGVtZW50LmJpbmQodGhpcyk7XHJcbiAgICAgICAgY29uc3QgY2xvc3VyZUZ1bmNfYmluZCA9IGNsb3N1cmVGdW5jLmJpbmQodGhpcyk7XHJcblxyXG4gICAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlbW92ZScsIHJlc2l6aW5nX2VsZW1lbnRfYmluZCk7XHJcbiAgICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignbW91c2V1cCcsIGNsb3N1cmVGdW5jX2JpbmQpO1xyXG4gICAgfSxcclxuXHJcbiAgICByZXNpemluZ19lbGVtZW50OiBmdW5jdGlvbiAoZSkge1xyXG4gICAgICAgIGNvbnN0IGRpcmVjdGlvbiA9IHRoaXMuY29udGV4dC5kaWFsb2cuX3Jlc2l6ZV9kaXJlY3Rpb247XHJcbiAgICAgICAgY29uc3QgY2xpZW50WCA9IGUuY2xpZW50WDtcclxuICAgICAgICBjb25zdCBjbGllbnRZID0gZS5jbGllbnRZO1xyXG4gICAgICAgIGNvbnN0IHBsdWdpbiA9IHRoaXMuY29udGV4dFt0aGlzLmNvbnRleHQuZGlhbG9nLl9yZXNpemVfcGx1Z2luXTtcclxuXHJcbiAgICAgICAgbGV0IHJlc3VsdFcgPSBwbHVnaW4uX2VsZW1lbnRfdztcclxuICAgICAgICBsZXQgcmVzdWx0SCA9IHBsdWdpbi5fZWxlbWVudF9oO1xyXG5cclxuICAgICAgICBjb25zdCB3ID0gcGx1Z2luLl9lbGVtZW50X3cgKyAoL3IvLnRlc3QoZGlyZWN0aW9uKSA/IGNsaWVudFggLSB0aGlzLmNvbnRleHQuZGlhbG9nLl9yZXNpemVDbGllbnRYIDogdGhpcy5jb250ZXh0LmRpYWxvZy5fcmVzaXplQ2xpZW50WCAtIGNsaWVudFgpO1xyXG4gICAgICAgIGNvbnN0IGggPSBwbHVnaW4uX2VsZW1lbnRfaCArICgvYi8udGVzdChkaXJlY3Rpb24pID8gY2xpZW50WSAtIHRoaXMuY29udGV4dC5kaWFsb2cuX3Jlc2l6ZUNsaWVudFkgOiB0aGlzLmNvbnRleHQuZGlhbG9nLl9yZXNpemVDbGllbnRZIC0gY2xpZW50WSk7XHJcbiAgICAgICAgY29uc3Qgd2ggPSAoKHBsdWdpbi5fZWxlbWVudF9oIC8gcGx1Z2luLl9lbGVtZW50X3cpICogdyk7XHJcblxyXG4gICAgICAgIGlmICgvdC8udGVzdChkaXJlY3Rpb24pKSB0aGlzLmNvbnRleHQuZGlhbG9nLnJlc2l6ZURpdi5zdHlsZS50b3AgPSAocGx1Z2luLl9lbGVtZW50X2ggLSAoL2gvLnRlc3QoZGlyZWN0aW9uKSA/IGggOiB3aCkpICsgJ3B4JztcclxuICAgICAgICBpZiAoL2wvLnRlc3QoZGlyZWN0aW9uKSkgdGhpcy5jb250ZXh0LmRpYWxvZy5yZXNpemVEaXYuc3R5bGUubGVmdCA9IChwbHVnaW4uX2VsZW1lbnRfdyAtIHcpICsgJ3B4JztcclxuXHJcbiAgICAgICAgaWYgKC9yfGwvLnRlc3QoZGlyZWN0aW9uKSkge1xyXG4gICAgICAgICAgICB0aGlzLmNvbnRleHQuZGlhbG9nLnJlc2l6ZURpdi5zdHlsZS53aWR0aCA9IHcgKyAncHgnO1xyXG4gICAgICAgICAgICByZXN1bHRXID13O1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKC9eKD86dHxiKVteaF0kLy50ZXN0KGRpcmVjdGlvbikpIHtcclxuICAgICAgICAgICAgdGhpcy5jb250ZXh0LmRpYWxvZy5yZXNpemVEaXYuc3R5bGUuaGVpZ2h0ID0gd2ggKyAncHgnO1xyXG4gICAgICAgICAgICByZXN1bHRIID0gd2g7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgaWYgKC9eKD86dHxiKWgkLy50ZXN0KGRpcmVjdGlvbikpIHtcclxuICAgICAgICAgICAgdGhpcy5jb250ZXh0LmRpYWxvZy5yZXNpemVEaXYuc3R5bGUuaGVpZ2h0ID0gaCArICdweCc7XHJcbiAgICAgICAgICAgIHJlc3VsdEggPSBoO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGhpcy5jb250ZXh0LmRpYWxvZy5fcmVzaXplX3cgPSByZXN1bHRXO1xyXG4gICAgICAgIHRoaXMuY29udGV4dC5kaWFsb2cuX3Jlc2l6ZV9oID0gcmVzdWx0SDtcclxuICAgICAgICB0aGlzLnV0aWwuY2hhbmdlVHh0KHRoaXMuY29udGV4dC5kaWFsb2cucmVzaXplRGlzcGxheSwgTWF0aC5yb3VuZChyZXN1bHRXKSArICcgeCAnICsgTWF0aC5yb3VuZChyZXN1bHRIKSk7XHJcbiAgICB9XHJcbn07XHJcblxyXG5leHBvcnQgZGVmYXVsdCBkaWFsb2c7Il0sIm1hcHBpbmdzIjoiQUFBQTtBQUFBOzs7Ozs7O0FBT0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFOQTtBQVNBO0FBQ0E7QUFBQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFBQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFBQTtBQUNBO0FBRUE7QUFFQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFBQTtBQUNBO0FBRUE7QUFDQTtBQUFBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBZUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFZQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUpBO0FBTUE7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUEzUkE7QUE4UkEiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/plugins/modules/dialog.js\n");

/***/ }),

/***/ "./src/plugins/modules_init.js":
/*!*************************************!*\
  !*** ./src/plugins/modules_init.js ***!
  \*************************************/
/*! exports provided: dialog */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _modules_dialog__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./modules/dialog */ \"./src/plugins/modules/dialog.js\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"dialog\", function() { return _modules_dialog__WEBPACK_IMPORTED_MODULE_0__[\"default\"]; });\n\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvcGx1Z2lucy9tb2R1bGVzX2luaXQuanMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvcGx1Z2lucy9tb2R1bGVzX2luaXQuanM/OTc3NSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgZGlhbG9nIGZyb20gJy4vbW9kdWxlcy9kaWFsb2cnXHJcblxyXG5leHBvcnQge2RpYWxvZ30iXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7Iiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/plugins/modules_init.js\n");

/***/ }),

/***/ "./src/plugins/plugins_init.js":
/*!*************************************!*\
  !*** ./src/plugins/plugins_init.js ***!
  \*************************************/
/*! exports provided: align, font, fontSize, fontColor, hiliteColor, horizontalRule, list, table, formatBlock, link, image, video */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _submenu_align__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./submenu/align */ \"./src/plugins/submenu/align.js\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"align\", function() { return _submenu_align__WEBPACK_IMPORTED_MODULE_0__[\"default\"]; });\n\n/* harmony import */ var _submenu_font__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./submenu/font */ \"./src/plugins/submenu/font.js\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"font\", function() { return _submenu_font__WEBPACK_IMPORTED_MODULE_1__[\"default\"]; });\n\n/* harmony import */ var _submenu_fontSize__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./submenu/fontSize */ \"./src/plugins/submenu/fontSize.js\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"fontSize\", function() { return _submenu_fontSize__WEBPACK_IMPORTED_MODULE_2__[\"default\"]; });\n\n/* harmony import */ var _submenu_fontColor__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./submenu/fontColor */ \"./src/plugins/submenu/fontColor.js\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"fontColor\", function() { return _submenu_fontColor__WEBPACK_IMPORTED_MODULE_3__[\"default\"]; });\n\n/* harmony import */ var _submenu_hiliteColor__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./submenu/hiliteColor */ \"./src/plugins/submenu/hiliteColor.js\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"hiliteColor\", function() { return _submenu_hiliteColor__WEBPACK_IMPORTED_MODULE_4__[\"default\"]; });\n\n/* harmony import */ var _submenu_horizontalRule__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./submenu/horizontalRule */ \"./src/plugins/submenu/horizontalRule.js\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"horizontalRule\", function() { return _submenu_horizontalRule__WEBPACK_IMPORTED_MODULE_5__[\"default\"]; });\n\n/* harmony import */ var _submenu_list__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./submenu/list */ \"./src/plugins/submenu/list.js\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"list\", function() { return _submenu_list__WEBPACK_IMPORTED_MODULE_6__[\"default\"]; });\n\n/* harmony import */ var _submenu_table__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./submenu/table */ \"./src/plugins/submenu/table.js\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"table\", function() { return _submenu_table__WEBPACK_IMPORTED_MODULE_7__[\"default\"]; });\n\n/* harmony import */ var _submenu_formatBlock__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./submenu/formatBlock */ \"./src/plugins/submenu/formatBlock.js\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"formatBlock\", function() { return _submenu_formatBlock__WEBPACK_IMPORTED_MODULE_8__[\"default\"]; });\n\n/* harmony import */ var _dialog_link__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./dialog/link */ \"./src/plugins/dialog/link.js\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"link\", function() { return _dialog_link__WEBPACK_IMPORTED_MODULE_9__[\"default\"]; });\n\n/* harmony import */ var _dialog_image__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./dialog/image */ \"./src/plugins/dialog/image.js\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"image\", function() { return _dialog_image__WEBPACK_IMPORTED_MODULE_10__[\"default\"]; });\n\n/* harmony import */ var _dialog_video__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./dialog/video */ \"./src/plugins/dialog/video.js\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"video\", function() { return _dialog_video__WEBPACK_IMPORTED_MODULE_11__[\"default\"]; });\n\n\n\n\n\n\n\n\n\n\n\n\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvcGx1Z2lucy9wbHVnaW5zX2luaXQuanMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvcGx1Z2lucy9wbHVnaW5zX2luaXQuanM/YzBjNiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgYWxpZ24gZnJvbSAnLi9zdWJtZW51L2FsaWduJ1xyXG5pbXBvcnQgZm9udCBmcm9tICcuL3N1Ym1lbnUvZm9udCdcclxuaW1wb3J0IGZvbnRTaXplIGZyb20gJy4vc3VibWVudS9mb250U2l6ZSdcclxuaW1wb3J0IGZvbnRDb2xvciBmcm9tICcuL3N1Ym1lbnUvZm9udENvbG9yJ1xyXG5pbXBvcnQgaGlsaXRlQ29sb3IgZnJvbSAnLi9zdWJtZW51L2hpbGl0ZUNvbG9yJ1xyXG5pbXBvcnQgaG9yaXpvbnRhbFJ1bGUgZnJvbSAnLi9zdWJtZW51L2hvcml6b250YWxSdWxlJ1xyXG5pbXBvcnQgbGlzdCBmcm9tICcuL3N1Ym1lbnUvbGlzdCdcclxuaW1wb3J0IHRhYmxlIGZyb20gJy4vc3VibWVudS90YWJsZSdcclxuaW1wb3J0IGZvcm1hdEJsb2NrIGZyb20gJy4vc3VibWVudS9mb3JtYXRCbG9jaydcclxuXHJcbmltcG9ydCBsaW5rIGZyb20gJy4vZGlhbG9nL2xpbmsnXHJcbmltcG9ydCBpbWFnZSBmcm9tICcuL2RpYWxvZy9pbWFnZSdcclxuaW1wb3J0IHZpZGVvIGZyb20gJy4vZGlhbG9nL3ZpZGVvJ1xyXG5cclxuZXhwb3J0IHthbGlnbiwgZm9udCwgZm9udFNpemUsIGZvbnRDb2xvciwgaGlsaXRlQ29sb3IsIGhvcml6b250YWxSdWxlLCBsaXN0LCB0YWJsZSwgZm9ybWF0QmxvY2ssIGxpbmssIGltYWdlLCB2aWRlb30iXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBOyIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/plugins/plugins_init.js\n");

/***/ }),

/***/ "./src/plugins/submenu/align.js":
/*!**************************************!*\
  !*** ./src/plugins/submenu/align.js ***!
  \**************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/*\r\n * wysiwyg web editor\r\n *\r\n * suneditor.js\r\n * Copyright 2017 JiHong Lee.\r\n * MIT license.\r\n */\n\n\nconst align = {\n  name: 'align',\n  add: function (_this, targetElement) {\n    /** set submenu */\n    let listDiv = eval(this.setSubmenu(_this.lang));\n    /** add event listeners */\n\n    listDiv.getElementsByTagName('UL')[0].addEventListener('click', this.pickup.bind(_this));\n    /** append html */\n\n    targetElement.parentNode.appendChild(listDiv);\n    /** empty memory */\n\n    listDiv = null;\n  },\n  setSubmenu: function (lang) {\n    const listDiv = document.createElement('DIV');\n    listDiv.className = 'layer_editor layer_align';\n    listDiv.style.display = 'none';\n    listDiv.innerHTML = '' + '<div class=\"inner_layer\">' + '   <ul class=\"list_editor\">' + '       <li><button type=\"button\" class=\"btn_edit btn_align\" data-command=\"justifyleft\" title=\"' + lang.toolbar.alignLeft + '\"><span class=\"img_editor icon-align-left\"></span>' + lang.toolbar.alignLeft + '</button></li>' + '       <li><button type=\"button\" class=\"btn_edit btn_align\" data-command=\"justifycenter\" title=\"' + lang.toolbar.alignCenter + '\"><span class=\"img_editor icon-align-center\"></span>' + lang.toolbar.alignCenter + '</button></li>' + '       <li><button type=\"button\" class=\"btn_edit btn_align\" data-command=\"justifyright\" title=\"' + lang.toolbar.alignRight + '\"><span class=\"img_editor icon-align-right\"></span>' + lang.toolbar.alignRight + '</button></li>' + '       <li><button type=\"button\" class=\"btn_edit btn_align\" data-command=\"justifyfull\" title=\"' + lang.toolbar.justifyFull + '\"><span class=\"img_editor icon-align-just\"></span>' + lang.toolbar.justifyFull + '</button></li>' + '   </ul>' + '</div>';\n    return listDiv;\n  },\n  pickup: function (e) {\n    e.preventDefault();\n    e.stopPropagation();\n    let target = e.target;\n    let command = null;\n\n    while (!command && !/UL/i.test(target.tagName)) {\n      command = target.getAttribute('data-command');\n      target = target.parentNode;\n    }\n\n    this.focus();\n    this.execCommand(command, false);\n    this.submenuOff();\n  }\n};\n/* harmony default export */ __webpack_exports__[\"default\"] = (align);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvcGx1Z2lucy9zdWJtZW51L2FsaWduLmpzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vc3JjL3BsdWdpbnMvc3VibWVudS9hbGlnbi5qcz81OTFiIl0sInNvdXJjZXNDb250ZW50IjpbIi8qXHJcbiAqIHd5c2l3eWcgd2ViIGVkaXRvclxyXG4gKlxyXG4gKiBzdW5lZGl0b3IuanNcclxuICogQ29weXJpZ2h0IDIwMTcgSmlIb25nIExlZS5cclxuICogTUlUIGxpY2Vuc2UuXHJcbiAqL1xyXG4ndXNlIHN0cmljdCc7XHJcbmNvbnN0IGFsaWduID0ge1xyXG4gICAgbmFtZTogJ2FsaWduJyxcclxuICAgIGFkZDogZnVuY3Rpb24gKF90aGlzLCB0YXJnZXRFbGVtZW50KSB7XHJcbiAgICAgICAgLyoqIHNldCBzdWJtZW51ICovXHJcbiAgICAgICAgbGV0IGxpc3REaXYgPSBldmFsKHRoaXMuc2V0U3VibWVudShfdGhpcy5sYW5nKSk7XHJcblxyXG4gICAgICAgIC8qKiBhZGQgZXZlbnQgbGlzdGVuZXJzICovXHJcbiAgICAgICAgbGlzdERpdi5nZXRFbGVtZW50c0J5VGFnTmFtZSgnVUwnKVswXS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMucGlja3VwLmJpbmQoX3RoaXMpKTtcclxuXHJcbiAgICAgICAgLyoqIGFwcGVuZCBodG1sICovXHJcbiAgICAgICAgdGFyZ2V0RWxlbWVudC5wYXJlbnROb2RlLmFwcGVuZENoaWxkKGxpc3REaXYpO1xyXG5cclxuICAgICAgICAvKiogZW1wdHkgbWVtb3J5ICovXHJcbiAgICAgICAgbGlzdERpdiA9IG51bGw7XHJcbiAgICB9LFxyXG5cclxuICAgIHNldFN1Ym1lbnU6IGZ1bmN0aW9uIChsYW5nKSB7XHJcbiAgICAgICAgY29uc3QgbGlzdERpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ0RJVicpO1xyXG5cclxuICAgICAgICBsaXN0RGl2LmNsYXNzTmFtZSA9ICdsYXllcl9lZGl0b3IgbGF5ZXJfYWxpZ24nO1xyXG4gICAgICAgIGxpc3REaXYuc3R5bGUuZGlzcGxheSA9ICdub25lJztcclxuICAgICAgICBsaXN0RGl2LmlubmVySFRNTCA9ICcnICtcclxuICAgICAgICAgICAgJzxkaXYgY2xhc3M9XCJpbm5lcl9sYXllclwiPicgK1xyXG4gICAgICAgICAgICAnICAgPHVsIGNsYXNzPVwibGlzdF9lZGl0b3JcIj4nICtcclxuICAgICAgICAgICAgJyAgICAgICA8bGk+PGJ1dHRvbiB0eXBlPVwiYnV0dG9uXCIgY2xhc3M9XCJidG5fZWRpdCBidG5fYWxpZ25cIiBkYXRhLWNvbW1hbmQ9XCJqdXN0aWZ5bGVmdFwiIHRpdGxlPVwiJyArIGxhbmcudG9vbGJhci5hbGlnbkxlZnQgKyAnXCI+PHNwYW4gY2xhc3M9XCJpbWdfZWRpdG9yIGljb24tYWxpZ24tbGVmdFwiPjwvc3Bhbj4nICsgbGFuZy50b29sYmFyLmFsaWduTGVmdCArICc8L2J1dHRvbj48L2xpPicgK1xyXG4gICAgICAgICAgICAnICAgICAgIDxsaT48YnV0dG9uIHR5cGU9XCJidXR0b25cIiBjbGFzcz1cImJ0bl9lZGl0IGJ0bl9hbGlnblwiIGRhdGEtY29tbWFuZD1cImp1c3RpZnljZW50ZXJcIiB0aXRsZT1cIicgKyBsYW5nLnRvb2xiYXIuYWxpZ25DZW50ZXIgKyAnXCI+PHNwYW4gY2xhc3M9XCJpbWdfZWRpdG9yIGljb24tYWxpZ24tY2VudGVyXCI+PC9zcGFuPicgKyBsYW5nLnRvb2xiYXIuYWxpZ25DZW50ZXIgKyAnPC9idXR0b24+PC9saT4nICtcclxuICAgICAgICAgICAgJyAgICAgICA8bGk+PGJ1dHRvbiB0eXBlPVwiYnV0dG9uXCIgY2xhc3M9XCJidG5fZWRpdCBidG5fYWxpZ25cIiBkYXRhLWNvbW1hbmQ9XCJqdXN0aWZ5cmlnaHRcIiB0aXRsZT1cIicgKyBsYW5nLnRvb2xiYXIuYWxpZ25SaWdodCArICdcIj48c3BhbiBjbGFzcz1cImltZ19lZGl0b3IgaWNvbi1hbGlnbi1yaWdodFwiPjwvc3Bhbj4nICsgbGFuZy50b29sYmFyLmFsaWduUmlnaHQgKyAnPC9idXR0b24+PC9saT4nICtcclxuICAgICAgICAgICAgJyAgICAgICA8bGk+PGJ1dHRvbiB0eXBlPVwiYnV0dG9uXCIgY2xhc3M9XCJidG5fZWRpdCBidG5fYWxpZ25cIiBkYXRhLWNvbW1hbmQ9XCJqdXN0aWZ5ZnVsbFwiIHRpdGxlPVwiJyArIGxhbmcudG9vbGJhci5qdXN0aWZ5RnVsbCArICdcIj48c3BhbiBjbGFzcz1cImltZ19lZGl0b3IgaWNvbi1hbGlnbi1qdXN0XCI+PC9zcGFuPicgKyBsYW5nLnRvb2xiYXIuanVzdGlmeUZ1bGwgKyAnPC9idXR0b24+PC9saT4nICtcclxuICAgICAgICAgICAgJyAgIDwvdWw+JyArXHJcbiAgICAgICAgICAgICc8L2Rpdj4nO1xyXG5cclxuICAgICAgICByZXR1cm4gbGlzdERpdjtcclxuICAgIH0sXHJcblxyXG4gICAgcGlja3VwOiBmdW5jdGlvbiAoZSkge1xyXG4gICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xyXG5cclxuICAgICAgICBsZXQgdGFyZ2V0ID0gZS50YXJnZXQ7XHJcbiAgICAgICAgbGV0IGNvbW1hbmQgPSBudWxsO1xyXG4gICAgICAgIFxyXG4gICAgICAgIHdoaWxlICghY29tbWFuZCAmJiAhL1VML2kudGVzdCh0YXJnZXQudGFnTmFtZSkpIHtcclxuICAgICAgICAgICAgY29tbWFuZCA9IHRhcmdldC5nZXRBdHRyaWJ1dGUoJ2RhdGEtY29tbWFuZCcpO1xyXG4gICAgICAgICAgICB0YXJnZXQgPSB0YXJnZXQucGFyZW50Tm9kZTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHRoaXMuZm9jdXMoKTtcclxuICAgICAgICB0aGlzLmV4ZWNDb21tYW5kKGNvbW1hbmQsIGZhbHNlKTtcclxuICAgICAgICB0aGlzLnN1Ym1lbnVPZmYoKTtcclxuICAgIH1cclxufTtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGFsaWduOyJdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTs7Ozs7OztBQU9BO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUFBO0FBRUE7QUFDQTtBQUFBO0FBRUE7QUFDQTtBQUFBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBVUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQWpEQTtBQW9EQSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/plugins/submenu/align.js\n");

/***/ }),

/***/ "./src/plugins/submenu/font.js":
/*!*************************************!*\
  !*** ./src/plugins/submenu/font.js ***!
  \*************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/*\r\n * wysiwyg web editor\r\n *\r\n * suneditor.js\r\n * Copyright 2017 JiHong Lee.\r\n * MIT license.\r\n */\n\n\nconst font = {\n  name: 'font',\n  add: function (_this, targetElement) {\n    /** set submenu */\n    let listDiv = eval(this.setSubmenu(_this.context.user));\n    /** add event listeners */\n\n    listDiv.getElementsByClassName('list_family')[0].addEventListener('click', this.pickup.bind(_this));\n    /** append html */\n\n    targetElement.parentNode.appendChild(listDiv);\n    /** empty memory */\n\n    listDiv = null;\n  },\n  setSubmenu: function (user) {\n    const listDiv = document.createElement('DIV');\n    listDiv.className = 'layer_editor';\n    listDiv.style.display = 'none';\n    let font, text, i, len;\n    let fontList = !user.font ? ['Arial', 'Comic Sans MS', 'Courier New,Courier', 'Georgia', 'tahoma', 'Trebuchet MS,Helvetica', 'Verdana'] : user.font;\n    let list = '<div class=\"inner_layer list_family\">' + '   <ul class=\"list_editor sun-editor-list-font-family\">';\n\n    for (i = 0, len = fontList.length; i < len; i++) {\n      font = fontList[i];\n      text = font.split(',')[0];\n      list += '<li><button type=\"button\" class=\"btn_edit\" data-value=\"' + font + '\" data-txt=\"' + text + '\" style=\"font-family:' + font + ';\">' + text + '</button></li>';\n    }\n\n    list += '   </ul>';\n    list += '</div>';\n    listDiv.innerHTML = list;\n    return listDiv;\n  },\n  pickup: function (e) {\n    if (!/^BUTTON$/i.test(e.target.tagName)) {\n      return false;\n    }\n\n    e.preventDefault();\n    e.stopPropagation();\n    const target = e.target;\n    this.focus();\n    this.util.changeTxt(this.context.tool.font, target.getAttribute('data-txt'));\n    const newNode = document.createElement('SPAN');\n    newNode.style.fontFamily = target.getAttribute('data-value');\n    this.wrapRangeToTag(newNode, ['font-family']);\n    this.submenuOff();\n  }\n};\n/* harmony default export */ __webpack_exports__[\"default\"] = (font);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvcGx1Z2lucy9zdWJtZW51L2ZvbnQuanMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvcGx1Z2lucy9zdWJtZW51L2ZvbnQuanM/ZTc0MiJdLCJzb3VyY2VzQ29udGVudCI6WyIvKlxyXG4gKiB3eXNpd3lnIHdlYiBlZGl0b3JcclxuICpcclxuICogc3VuZWRpdG9yLmpzXHJcbiAqIENvcHlyaWdodCAyMDE3IEppSG9uZyBMZWUuXHJcbiAqIE1JVCBsaWNlbnNlLlxyXG4gKi9cclxuJ3VzZSBzdHJpY3QnO1xyXG5jb25zdCBmb250ID0ge1xyXG4gICAgbmFtZTogJ2ZvbnQnLFxyXG4gICAgYWRkOiBmdW5jdGlvbiAoX3RoaXMsIHRhcmdldEVsZW1lbnQpIHtcclxuICAgICAgICAvKiogc2V0IHN1Ym1lbnUgKi9cclxuICAgICAgICBsZXQgbGlzdERpdiA9IGV2YWwodGhpcy5zZXRTdWJtZW51KF90aGlzLmNvbnRleHQudXNlcikpO1xyXG5cclxuICAgICAgICAvKiogYWRkIGV2ZW50IGxpc3RlbmVycyAqL1xyXG4gICAgICAgIGxpc3REaXYuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgnbGlzdF9mYW1pbHknKVswXS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMucGlja3VwLmJpbmQoX3RoaXMpKTtcclxuXHJcbiAgICAgICAgLyoqIGFwcGVuZCBodG1sICovXHJcbiAgICAgICAgdGFyZ2V0RWxlbWVudC5wYXJlbnROb2RlLmFwcGVuZENoaWxkKGxpc3REaXYpO1xyXG5cclxuICAgICAgICAvKiogZW1wdHkgbWVtb3J5ICovXHJcbiAgICAgICAgbGlzdERpdiA9IG51bGw7XHJcbiAgICB9LFxyXG5cclxuICAgIHNldFN1Ym1lbnU6IGZ1bmN0aW9uICh1c2VyKSB7XHJcbiAgICAgICAgY29uc3QgbGlzdERpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ0RJVicpO1xyXG4gICAgICAgIGxpc3REaXYuY2xhc3NOYW1lID0gJ2xheWVyX2VkaXRvcic7XHJcbiAgICAgICAgbGlzdERpdi5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xyXG5cclxuICAgICAgICBsZXQgZm9udCwgdGV4dCwgaSwgbGVuO1xyXG4gICAgICAgIGxldCBmb250TGlzdCA9ICF1c2VyLmZvbnQgP1xyXG4gICAgICAgICAgICBbXHJcbiAgICAgICAgICAgICAgICAnQXJpYWwnLFxyXG4gICAgICAgICAgICAgICAgJ0NvbWljIFNhbnMgTVMnLFxyXG4gICAgICAgICAgICAgICAgJ0NvdXJpZXIgTmV3LENvdXJpZXInLFxyXG4gICAgICAgICAgICAgICAgJ0dlb3JnaWEnLFxyXG4gICAgICAgICAgICAgICAgJ3RhaG9tYScsXHJcbiAgICAgICAgICAgICAgICAnVHJlYnVjaGV0IE1TLEhlbHZldGljYScsXHJcbiAgICAgICAgICAgICAgICAnVmVyZGFuYSdcclxuICAgICAgICAgICAgXSA6IHVzZXIuZm9udDtcclxuXHJcbiAgICAgICAgbGV0IGxpc3QgPSAnPGRpdiBjbGFzcz1cImlubmVyX2xheWVyIGxpc3RfZmFtaWx5XCI+JyArXHJcbiAgICAgICAgICAgICcgICA8dWwgY2xhc3M9XCJsaXN0X2VkaXRvciBzdW4tZWRpdG9yLWxpc3QtZm9udC1mYW1pbHlcIj4nO1xyXG4gICAgICAgIGZvciAoaSA9IDAsIGxlbiA9IGZvbnRMaXN0Lmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XHJcbiAgICAgICAgICAgIGZvbnQgPSBmb250TGlzdFtpXTtcclxuICAgICAgICAgICAgdGV4dCA9IGZvbnQuc3BsaXQoJywnKVswXTtcclxuICAgICAgICAgICAgbGlzdCArPSAnPGxpPjxidXR0b24gdHlwZT1cImJ1dHRvblwiIGNsYXNzPVwiYnRuX2VkaXRcIiBkYXRhLXZhbHVlPVwiJyArIGZvbnQgKyAnXCIgZGF0YS10eHQ9XCInICsgdGV4dCArICdcIiBzdHlsZT1cImZvbnQtZmFtaWx5OicgKyBmb250ICsgJztcIj4nICsgdGV4dCArICc8L2J1dHRvbj48L2xpPic7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGxpc3QgKz0gJyAgIDwvdWw+JztcclxuICAgICAgICBsaXN0ICs9ICc8L2Rpdj4nO1xyXG4gICAgICAgIGxpc3REaXYuaW5uZXJIVE1MID0gbGlzdDtcclxuXHJcbiAgICAgICAgcmV0dXJuIGxpc3REaXY7XHJcbiAgICB9LFxyXG5cclxuICAgIHBpY2t1cDogZnVuY3Rpb24gKGUpIHtcclxuICAgICAgICBpZiAoIS9eQlVUVE9OJC9pLnRlc3QoZS50YXJnZXQudGFnTmFtZSkpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XHJcblxyXG4gICAgICAgIGNvbnN0IHRhcmdldCA9IGUudGFyZ2V0O1xyXG5cclxuICAgICAgICB0aGlzLmZvY3VzKCk7XHJcblxyXG4gICAgICAgIHRoaXMudXRpbC5jaGFuZ2VUeHQodGhpcy5jb250ZXh0LnRvb2wuZm9udCwgdGFyZ2V0LmdldEF0dHJpYnV0ZSgnZGF0YS10eHQnKSk7XHJcbiAgICAgICAgY29uc3QgbmV3Tm9kZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ1NQQU4nKTsgbmV3Tm9kZS5zdHlsZS5mb250RmFtaWx5ID0gdGFyZ2V0LmdldEF0dHJpYnV0ZSgnZGF0YS12YWx1ZScpO1xyXG4gICAgICAgIHRoaXMud3JhcFJhbmdlVG9UYWcobmV3Tm9kZSwgWydmb250LWZhbWlseSddKTtcclxuICAgICAgICB0aGlzLnN1Ym1lbnVPZmYoKTtcclxuICAgIH1cclxufTtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGZvbnQ7Il0sIm1hcHBpbmdzIjoiQUFBQTtBQUFBOzs7Ozs7O0FBT0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQUE7QUFFQTtBQUNBO0FBQUE7QUFFQTtBQUNBO0FBQUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQVdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUVBO0FBRUE7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBL0RBO0FBa0VBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/plugins/submenu/font.js\n");

/***/ }),

/***/ "./src/plugins/submenu/fontColor.js":
/*!******************************************!*\
  !*** ./src/plugins/submenu/fontColor.js ***!
  \******************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/*\r\n * wysiwyg web editor\r\n *\r\n * suneditor.js\r\n * Copyright 2017 JiHong Lee.\r\n * MIT license.\r\n */\n\n\nconst fontColor = {\n  name: 'fontColor',\n  add: function (_this, targetElement) {\n    /** set submenu */\n    let listDiv = eval(this.setSubmenu());\n    /** add event listeners */\n\n    listDiv.getElementsByTagName('UL')[0].addEventListener('click', this.pickUp.bind(_this));\n    /** append html */\n\n    targetElement.parentNode.appendChild(listDiv);\n    /** empty memory */\n\n    listDiv = null;\n  },\n  setSubmenu: function () {\n    const listDiv = document.createElement('DIV');\n    listDiv.className = 'layer_editor';\n    listDiv.style.display = 'none';\n    const colorList = ['#ff0000', '#ff5e00', '#ffe400', '#abf200', '#00d8ff', '#0055ff', '#6600ff', '#ff00dd', '#000000', '#ffd8d8', '#fae0d4', '#faf4c0', '#e4f7ba', '#d4f4fa', '#d9e5ff', '#e8d9ff', '#ffd9fa', '#ffffff', '#ffa7a7', '#ffc19e', '#faed7d', '#cef279', '#b2ebf4', '#b2ccff', '#d1b2ff', '#ffb2f5', '#bdbdbd', '#f15f5f', '#f29661', '#e5d85c', '#bce55c', '#5cd1e5', '#6699ff', '#a366ff', '#f261df', '#8c8c8c', '#980000', '#993800', '#998a00', '#6b9900', '#008299', '#003399', '#3d0099', '#990085', '#353535', '#670000', '#662500', '#665c00', '#476600', '#005766', '#002266', '#290066', '#660058', '#222222'];\n    let list = '<div class=\"inner_layer\">' + '   <div class=\"pallet_font_color\">' + '       <ul class=\"list_color\">';\n\n    for (let i = 0, len = colorList.length; i < len; i++) {\n      const color = colorList[i];\n      list += '<li>' + '   <button type=\"button\" class=\"' + (/ffffff/.test(color) ? ' color_white' : '') + '\" data-value=\"' + color + '\" title=\"' + color + '\" style=\"background-color:' + color + ';\"></button>' + '</li>';\n    }\n\n    list += '       </ul>' + '   </div>' + '</div>';\n    listDiv.innerHTML = list;\n    return listDiv;\n  },\n  pickUp: function (e) {\n    e.preventDefault();\n    e.stopPropagation();\n\n    if (!/^BUTTON$/i.test(e.target.tagName)) {\n      return false;\n    }\n\n    this.focus();\n    const newNode = document.createElement('SPAN');\n    newNode.style.color = e.target.getAttribute('data-value');\n    this.wrapRangeToTag(newNode, ['color']);\n    this.submenuOff();\n  }\n};\n/* harmony default export */ __webpack_exports__[\"default\"] = (fontColor);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvcGx1Z2lucy9zdWJtZW51L2ZvbnRDb2xvci5qcy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL3NyYy9wbHVnaW5zL3N1Ym1lbnUvZm9udENvbG9yLmpzP2QwMGUiXSwic291cmNlc0NvbnRlbnQiOlsiLypcclxuICogd3lzaXd5ZyB3ZWIgZWRpdG9yXHJcbiAqXHJcbiAqIHN1bmVkaXRvci5qc1xyXG4gKiBDb3B5cmlnaHQgMjAxNyBKaUhvbmcgTGVlLlxyXG4gKiBNSVQgbGljZW5zZS5cclxuICovXHJcbid1c2Ugc3RyaWN0JztcclxuY29uc3QgZm9udENvbG9yID0ge1xyXG4gICAgbmFtZTogJ2ZvbnRDb2xvcicsXHJcbiAgICBhZGQ6IGZ1bmN0aW9uIChfdGhpcywgdGFyZ2V0RWxlbWVudCkge1xyXG4gICAgICAgIC8qKiBzZXQgc3VibWVudSAqL1xyXG4gICAgICAgIGxldCBsaXN0RGl2ID0gZXZhbCh0aGlzLnNldFN1Ym1lbnUoKSk7XHJcblxyXG4gICAgICAgIC8qKiBhZGQgZXZlbnQgbGlzdGVuZXJzICovXHJcbiAgICAgICAgbGlzdERpdi5nZXRFbGVtZW50c0J5VGFnTmFtZSgnVUwnKVswXS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMucGlja1VwLmJpbmQoX3RoaXMpKTtcclxuXHJcbiAgICAgICAgLyoqIGFwcGVuZCBodG1sICovXHJcbiAgICAgICAgdGFyZ2V0RWxlbWVudC5wYXJlbnROb2RlLmFwcGVuZENoaWxkKGxpc3REaXYpO1xyXG5cclxuICAgICAgICAvKiogZW1wdHkgbWVtb3J5ICovXHJcbiAgICAgICAgbGlzdERpdiA9IG51bGw7XHJcbiAgICB9LFxyXG5cclxuICAgIHNldFN1Ym1lbnU6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBjb25zdCBsaXN0RGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnRElWJyk7XHJcbiAgICAgICAgbGlzdERpdi5jbGFzc05hbWUgPSAnbGF5ZXJfZWRpdG9yJztcclxuICAgICAgICBsaXN0RGl2LnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XHJcblxyXG4gICAgICAgIGNvbnN0IGNvbG9yTGlzdCA9IFsnI2ZmMDAwMCcsICcjZmY1ZTAwJywgJyNmZmU0MDAnLCAnI2FiZjIwMCcsICcjMDBkOGZmJywgJyMwMDU1ZmYnLCAnIzY2MDBmZicsICcjZmYwMGRkJywgJyMwMDAwMDAnLCAnI2ZmZDhkOCcsICcjZmFlMGQ0JywgJyNmYWY0YzAnLCAnI2U0ZjdiYScsICcjZDRmNGZhJywgJyNkOWU1ZmYnLCAnI2U4ZDlmZicsICcjZmZkOWZhJyxcclxuICAgICAgICAgICAgJyNmZmZmZmYnLCAnI2ZmYTdhNycsICcjZmZjMTllJywgJyNmYWVkN2QnLCAnI2NlZjI3OScsICcjYjJlYmY0JywgJyNiMmNjZmYnLCAnI2QxYjJmZicsICcjZmZiMmY1JywgJyNiZGJkYmQnLCAnI2YxNWY1ZicsICcjZjI5NjYxJywgJyNlNWQ4NWMnLCAnI2JjZTU1YycsICcjNWNkMWU1JywgJyM2Njk5ZmYnLCAnI2EzNjZmZicsICcjZjI2MWRmJywgJyM4YzhjOGMnLFxyXG4gICAgICAgICAgICAnIzk4MDAwMCcsICcjOTkzODAwJywgJyM5OThhMDAnLCAnIzZiOTkwMCcsICcjMDA4Mjk5JywgJyMwMDMzOTknLCAnIzNkMDA5OScsICcjOTkwMDg1JywgJyMzNTM1MzUnLCAnIzY3MDAwMCcsICcjNjYyNTAwJywgJyM2NjVjMDAnLCAnIzQ3NjYwMCcsICcjMDA1NzY2JywgJyMwMDIyNjYnLCAnIzI5MDA2NicsICcjNjYwMDU4JywgJyMyMjIyMjInXTtcclxuXHJcbiAgICAgICAgbGV0IGxpc3QgPSAnPGRpdiBjbGFzcz1cImlubmVyX2xheWVyXCI+JyArXHJcbiAgICAgICAgICAgICcgICA8ZGl2IGNsYXNzPVwicGFsbGV0X2ZvbnRfY29sb3JcIj4nICtcclxuICAgICAgICAgICAgJyAgICAgICA8dWwgY2xhc3M9XCJsaXN0X2NvbG9yXCI+JztcclxuICAgICAgICBmb3IgKGxldCBpID0gMCwgbGVuID0gY29sb3JMaXN0Lmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IGNvbG9yID0gY29sb3JMaXN0W2ldO1xyXG4gICAgICAgICAgICBsaXN0ICs9ICc8bGk+JyArXHJcbiAgICAgICAgICAgICAgICAnICAgPGJ1dHRvbiB0eXBlPVwiYnV0dG9uXCIgY2xhc3M9XCInICsgKC9mZmZmZmYvLnRlc3QoY29sb3IpID8gJyBjb2xvcl93aGl0ZScgOiAnJykgKyAnXCIgZGF0YS12YWx1ZT1cIicgKyBjb2xvciArICdcIiB0aXRsZT1cIicgKyBjb2xvciArICdcIiBzdHlsZT1cImJhY2tncm91bmQtY29sb3I6JyArIGNvbG9yICsgJztcIj48L2J1dHRvbj4nICtcclxuICAgICAgICAgICAgICAgICc8L2xpPic7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGxpc3QgKz0gJyAgICAgICA8L3VsPicgK1xyXG4gICAgICAgICAgICAnICAgPC9kaXY+JyArXHJcbiAgICAgICAgICAgICc8L2Rpdj4nO1xyXG5cclxuICAgICAgICBsaXN0RGl2LmlubmVySFRNTCA9IGxpc3Q7XHJcblxyXG4gICAgICAgIHJldHVybiBsaXN0RGl2O1xyXG4gICAgfSxcclxuXHJcbiAgICBwaWNrVXA6IGZ1bmN0aW9uIChlKSB7XHJcbiAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XHJcblxyXG4gICAgICAgIGlmICghL15CVVRUT04kL2kudGVzdChlLnRhcmdldC50YWdOYW1lKSkge1xyXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0aGlzLmZvY3VzKCk7XHJcblxyXG4gICAgICAgIGNvbnN0IG5ld05vZGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdTUEFOJyk7IG5ld05vZGUuc3R5bGUuY29sb3IgPSBlLnRhcmdldC5nZXRBdHRyaWJ1dGUoJ2RhdGEtdmFsdWUnKTtcclxuICAgICAgICB0aGlzLndyYXBSYW5nZVRvVGFnKG5ld05vZGUsIFsnY29sb3InXSk7XHJcbiAgICAgICAgdGhpcy5zdWJtZW51T2ZmKCk7XHJcbiAgICB9XHJcbn07XHJcblxyXG5leHBvcnQgZGVmYXVsdCBmb250Q29sb3I7Il0sIm1hcHBpbmdzIjoiQUFBQTtBQUFBOzs7Ozs7O0FBT0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQUE7QUFFQTtBQUNBO0FBQUE7QUFFQTtBQUNBO0FBQUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFJQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBR0E7QUFDQTtBQUFBO0FBSUE7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQXhEQTtBQTJEQSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/plugins/submenu/fontColor.js\n");

/***/ }),

/***/ "./src/plugins/submenu/fontSize.js":
/*!*****************************************!*\
  !*** ./src/plugins/submenu/fontSize.js ***!
  \*****************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/*\r\n * wysiwyg web editor\r\n *\r\n * suneditor.js\r\n * Copyright 2017 JiHong Lee.\r\n * MIT license.\r\n */\n\n\nconst fontSize = {\n  name: 'fontSize',\n  add: function (_this, targetElement) {\n    /** set submenu */\n    let listDiv = eval(this.setSubmenu(_this.context.user));\n    /** add event listeners */\n\n    listDiv.getElementsByTagName('UL')[0].addEventListener('click', this.pickup.bind(_this));\n    /** append html */\n\n    targetElement.parentNode.appendChild(listDiv);\n    /** empty memory */\n\n    listDiv = null;\n  },\n  setSubmenu: function (user) {\n    const listDiv = document.createElement('DIV');\n    listDiv.className = 'layer_editor layer_size';\n    listDiv.style.display = 'none';\n    const sizeList = !user.fontSize ? [8, 9, 10, 11, 12, 14, 16, 18, 20, 22, 24, 26, 28, 36, 48, 72] : user.fontSize;\n    let list = '<div class=\"inner_layer\">' + '   <ul class=\"list_editor font_size_list\">';\n\n    for (let i = 0, len = sizeList.length; i < len; i++) {\n      const size = sizeList[i];\n      list += '<li><button type=\"button\" class=\"btn_edit\" data-value=\"' + size + '\" style=\"font-size:' + size + 'px;\">' + size + '</button></li>';\n    }\n\n    list += '   </ul>' + '</div>';\n    listDiv.innerHTML = list;\n    return listDiv;\n  },\n  pickup: function (e) {\n    e.preventDefault();\n    e.stopPropagation();\n\n    if (!/^BUTTON$/i.test(e.target.tagName)) {\n      return false;\n    }\n\n    this.focus();\n    this.util.changeTxt(this.context.tool.fontSize, e.target.getAttribute('data-value'));\n    const newNode = document.createElement('SPAN');\n    newNode.style.fontSize = e.target.getAttribute('data-value') + 'px';\n    this.wrapRangeToTag(newNode, ['font-size']);\n    this.submenuOff();\n  }\n};\n/* harmony default export */ __webpack_exports__[\"default\"] = (fontSize);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvcGx1Z2lucy9zdWJtZW51L2ZvbnRTaXplLmpzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vc3JjL3BsdWdpbnMvc3VibWVudS9mb250U2l6ZS5qcz8zMDg4Il0sInNvdXJjZXNDb250ZW50IjpbIi8qXHJcbiAqIHd5c2l3eWcgd2ViIGVkaXRvclxyXG4gKlxyXG4gKiBzdW5lZGl0b3IuanNcclxuICogQ29weXJpZ2h0IDIwMTcgSmlIb25nIExlZS5cclxuICogTUlUIGxpY2Vuc2UuXHJcbiAqL1xyXG4ndXNlIHN0cmljdCc7XHJcbmNvbnN0IGZvbnRTaXplID0ge1xyXG4gICAgbmFtZTogJ2ZvbnRTaXplJyxcclxuICAgIGFkZDogZnVuY3Rpb24gKF90aGlzLCB0YXJnZXRFbGVtZW50KSB7XHJcbiAgICAgICAgLyoqIHNldCBzdWJtZW51ICovXHJcbiAgICAgICAgbGV0IGxpc3REaXYgPSBldmFsKHRoaXMuc2V0U3VibWVudShfdGhpcy5jb250ZXh0LnVzZXIpKTtcclxuXHJcbiAgICAgICAgLyoqIGFkZCBldmVudCBsaXN0ZW5lcnMgKi9cclxuICAgICAgICBsaXN0RGl2LmdldEVsZW1lbnRzQnlUYWdOYW1lKCdVTCcpWzBdLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5waWNrdXAuYmluZChfdGhpcykpO1xyXG5cclxuICAgICAgICAvKiogYXBwZW5kIGh0bWwgKi9cclxuICAgICAgICB0YXJnZXRFbGVtZW50LnBhcmVudE5vZGUuYXBwZW5kQ2hpbGQobGlzdERpdik7XHJcblxyXG4gICAgICAgIC8qKiBlbXB0eSBtZW1vcnkgKi9cclxuICAgICAgICBsaXN0RGl2ID0gbnVsbDtcclxuICAgIH0sXHJcblxyXG4gICAgc2V0U3VibWVudTogZnVuY3Rpb24gKHVzZXIpIHtcclxuICAgICAgICBjb25zdCBsaXN0RGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnRElWJyk7XHJcbiAgICAgICAgbGlzdERpdi5jbGFzc05hbWUgPSAnbGF5ZXJfZWRpdG9yIGxheWVyX3NpemUnO1xyXG4gICAgICAgIGxpc3REaXYuc3R5bGUuZGlzcGxheSA9ICdub25lJztcclxuXHJcbiAgICAgICAgY29uc3Qgc2l6ZUxpc3QgPSAhdXNlci5mb250U2l6ZSA/IFs4LCA5LCAxMCwgMTEsIDEyLCAxNCwgMTYsIDE4LCAyMCwgMjIsIDI0LCAyNiwgMjgsIDM2LCA0OCwgNzJdIDogdXNlci5mb250U2l6ZTtcclxuXHJcbiAgICAgICAgbGV0IGxpc3QgPSAnPGRpdiBjbGFzcz1cImlubmVyX2xheWVyXCI+JyArXHJcbiAgICAgICAgICAgICcgICA8dWwgY2xhc3M9XCJsaXN0X2VkaXRvciBmb250X3NpemVfbGlzdFwiPic7XHJcbiAgICAgICAgZm9yIChsZXQgaSA9IDAsIGxlbiA9IHNpemVMaXN0Lmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IHNpemUgPSBzaXplTGlzdFtpXTtcclxuICAgICAgICAgICAgbGlzdCArPSAnPGxpPjxidXR0b24gdHlwZT1cImJ1dHRvblwiIGNsYXNzPVwiYnRuX2VkaXRcIiBkYXRhLXZhbHVlPVwiJyArIHNpemUgKyAnXCIgc3R5bGU9XCJmb250LXNpemU6JyArIHNpemUgKyAncHg7XCI+JyArIHNpemUgKyAnPC9idXR0b24+PC9saT4nO1xyXG4gICAgICAgIH1cclxuICAgICAgICBsaXN0ICs9ICcgICA8L3VsPicgK1xyXG4gICAgICAgICAgICAnPC9kaXY+JztcclxuXHJcbiAgICAgICAgbGlzdERpdi5pbm5lckhUTUwgPSBsaXN0O1xyXG5cclxuICAgICAgICByZXR1cm4gbGlzdERpdjtcclxuICAgIH0sXHJcblxyXG4gICAgcGlja3VwOiBmdW5jdGlvbiAoZSkge1xyXG4gICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xyXG5cclxuICAgICAgICBpZiAoIS9eQlVUVE9OJC9pLnRlc3QoZS50YXJnZXQudGFnTmFtZSkpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGhpcy5mb2N1cygpO1xyXG5cclxuICAgICAgICB0aGlzLnV0aWwuY2hhbmdlVHh0KHRoaXMuY29udGV4dC50b29sLmZvbnRTaXplLCBlLnRhcmdldC5nZXRBdHRyaWJ1dGUoJ2RhdGEtdmFsdWUnKSk7XHJcbiAgICAgICAgY29uc3QgbmV3Tm9kZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ1NQQU4nKTsgbmV3Tm9kZS5zdHlsZS5mb250U2l6ZSA9IGUudGFyZ2V0LmdldEF0dHJpYnV0ZSgnZGF0YS12YWx1ZScpICsgJ3B4JztcclxuICAgICAgICB0aGlzLndyYXBSYW5nZVRvVGFnKG5ld05vZGUsIFsnZm9udC1zaXplJ10pO1xyXG4gICAgICAgIHRoaXMuc3VibWVudU9mZigpO1xyXG4gICAgfVxyXG59O1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgZm9udFNpemU7Il0sIm1hcHBpbmdzIjoiQUFBQTtBQUFBOzs7Ozs7O0FBT0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQUE7QUFFQTtBQUNBO0FBQUE7QUFFQTtBQUNBO0FBQUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBR0E7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBbkRBO0FBc0RBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/plugins/submenu/fontSize.js\n");

/***/ }),

/***/ "./src/plugins/submenu/formatBlock.js":
/*!********************************************!*\
  !*** ./src/plugins/submenu/formatBlock.js ***!
  \********************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/*\r\n * wysiwyg web editor\r\n *\r\n * suneditor.js\r\n * Copyright 2017 JiHong Lee.\r\n * MIT license.\r\n */\n\n\nconst formatBlock = {\n  name: 'formatBlock',\n  add: function (_this, targetElement) {\n    /** set submenu */\n    let listDiv = eval(this.setSubmenu(_this.lang));\n    /** add event listeners */\n\n    listDiv.getElementsByTagName('UL')[0].addEventListener('click', this.pickUp.bind(_this));\n    /** append html */\n\n    targetElement.parentNode.appendChild(listDiv);\n    /** empty memory */\n\n    listDiv = null;\n  },\n  setSubmenu: function (lang) {\n    const listDiv = document.createElement('DIV');\n    listDiv.className = 'layer_editor layer_size';\n    listDiv.style.display = 'none';\n    listDiv.innerHTML = '' + '<div class=\"inner_layer\">' + '   <ul class=\"list_editor format_list\">' + '       <li style=\"border-bottom:1px solid #dedede;\"><button type=\"button\" class=\"btn_edit\" data-value=\"P\" style=\"height:24px;\"><span style=\"font-size:13px;\">' + lang.toolbar.tag_p + '</span></button></li>' + '       <li><button type=\"button\" class=\"btn_edit\" data-value=\"DIV\" style=\"height:24px; border-bottom:1px solid #dedede;\"><span style=\"font-size:13px;\">' + lang.toolbar.tag_div + '</span></button></li>' + '       <li><button type=\"button\" class=\"btn_edit\" data-value=\"H1\" style=\"height:45px;\"><h1>' + lang.toolbar.tag_h + ' 1</h1></button></li>' + '       <li><button type=\"button\" class=\"btn_edit\" data-value=\"H2\" style=\"height:34px;\"><h2>' + lang.toolbar.tag_h + ' 2</h2></button></li>' + '       <li><button type=\"button\" class=\"btn_edit\" data-value=\"H3\" style=\"height:26px;\"><h3>' + lang.toolbar.tag_h + ' 3</h3></button></li>' + '       <li><button type=\"button\" class=\"btn_edit\" data-value=\"H4\" style=\"height:23px;\"><h4>' + lang.toolbar.tag_h + ' 4</h4></button></li>' + '       <li><button type=\"button\" class=\"btn_edit\" data-value=\"H5\" style=\"height:19px;\"><h5>' + lang.toolbar.tag_h + ' 5</h5></button></li>' + '       <li><button type=\"button\" class=\"btn_edit\" data-value=\"H6\" style=\"height:15px;\"><h6>' + lang.toolbar.tag_h + ' 6</h6></button></li>' + '   </ul>' + '</div>';\n    return listDiv;\n  },\n  pickUp: function (e) {\n    e.preventDefault();\n    e.stopPropagation();\n    let target = e.target;\n    let value = null;\n\n    while (!value && !/UL/i.test(target.tagName)) {\n      value = target.getAttribute('data-value');\n      target = target.parentNode;\n    }\n\n    this.focus();\n    this.util.changeTxt(this.commandMap['FORMAT'], value);\n    this.execCommand('formatBlock', false, value);\n    this.submenuOff();\n  }\n};\n/* harmony default export */ __webpack_exports__[\"default\"] = (formatBlock);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvcGx1Z2lucy9zdWJtZW51L2Zvcm1hdEJsb2NrLmpzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vc3JjL3BsdWdpbnMvc3VibWVudS9mb3JtYXRCbG9jay5qcz81YjM1Il0sInNvdXJjZXNDb250ZW50IjpbIi8qXHJcbiAqIHd5c2l3eWcgd2ViIGVkaXRvclxyXG4gKlxyXG4gKiBzdW5lZGl0b3IuanNcclxuICogQ29weXJpZ2h0IDIwMTcgSmlIb25nIExlZS5cclxuICogTUlUIGxpY2Vuc2UuXHJcbiAqL1xyXG4ndXNlIHN0cmljdCc7XHJcbmNvbnN0IGZvcm1hdEJsb2NrID0ge1xyXG4gICAgbmFtZTogJ2Zvcm1hdEJsb2NrJyxcclxuICAgIGFkZDogZnVuY3Rpb24gKF90aGlzLCB0YXJnZXRFbGVtZW50KSB7XHJcbiAgICAgICAgLyoqIHNldCBzdWJtZW51ICovXHJcbiAgICAgICAgbGV0IGxpc3REaXYgPSBldmFsKHRoaXMuc2V0U3VibWVudShfdGhpcy5sYW5nKSk7XHJcblxyXG4gICAgICAgIC8qKiBhZGQgZXZlbnQgbGlzdGVuZXJzICovXHJcbiAgICAgICAgbGlzdERpdi5nZXRFbGVtZW50c0J5VGFnTmFtZSgnVUwnKVswXS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMucGlja1VwLmJpbmQoX3RoaXMpKTtcclxuXHJcbiAgICAgICAgLyoqIGFwcGVuZCBodG1sICovXHJcbiAgICAgICAgdGFyZ2V0RWxlbWVudC5wYXJlbnROb2RlLmFwcGVuZENoaWxkKGxpc3REaXYpO1xyXG5cclxuICAgICAgICAvKiogZW1wdHkgbWVtb3J5ICovXHJcbiAgICAgICAgbGlzdERpdiA9IG51bGw7XHJcbiAgICB9LFxyXG5cclxuICAgIHNldFN1Ym1lbnU6IGZ1bmN0aW9uIChsYW5nKSB7XHJcbiAgICAgICAgY29uc3QgbGlzdERpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ0RJVicpO1xyXG5cclxuICAgICAgICBsaXN0RGl2LmNsYXNzTmFtZSA9ICdsYXllcl9lZGl0b3IgbGF5ZXJfc2l6ZSc7XHJcbiAgICAgICAgbGlzdERpdi5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xyXG4gICAgICAgIGxpc3REaXYuaW5uZXJIVE1MID0gJycgK1xyXG4gICAgICAgICAgICAnPGRpdiBjbGFzcz1cImlubmVyX2xheWVyXCI+JyArXHJcbiAgICAgICAgICAgICcgICA8dWwgY2xhc3M9XCJsaXN0X2VkaXRvciBmb3JtYXRfbGlzdFwiPicgK1xyXG4gICAgICAgICAgICAnICAgICAgIDxsaSBzdHlsZT1cImJvcmRlci1ib3R0b206MXB4IHNvbGlkICNkZWRlZGU7XCI+PGJ1dHRvbiB0eXBlPVwiYnV0dG9uXCIgY2xhc3M9XCJidG5fZWRpdFwiIGRhdGEtdmFsdWU9XCJQXCIgc3R5bGU9XCJoZWlnaHQ6MjRweDtcIj48c3BhbiBzdHlsZT1cImZvbnQtc2l6ZToxM3B4O1wiPicgKyBsYW5nLnRvb2xiYXIudGFnX3AgKyAnPC9zcGFuPjwvYnV0dG9uPjwvbGk+JyArXHJcbiAgICAgICAgICAgICcgICAgICAgPGxpPjxidXR0b24gdHlwZT1cImJ1dHRvblwiIGNsYXNzPVwiYnRuX2VkaXRcIiBkYXRhLXZhbHVlPVwiRElWXCIgc3R5bGU9XCJoZWlnaHQ6MjRweDsgYm9yZGVyLWJvdHRvbToxcHggc29saWQgI2RlZGVkZTtcIj48c3BhbiBzdHlsZT1cImZvbnQtc2l6ZToxM3B4O1wiPicgKyBsYW5nLnRvb2xiYXIudGFnX2RpdiArICc8L3NwYW4+PC9idXR0b24+PC9saT4nICtcclxuICAgICAgICAgICAgJyAgICAgICA8bGk+PGJ1dHRvbiB0eXBlPVwiYnV0dG9uXCIgY2xhc3M9XCJidG5fZWRpdFwiIGRhdGEtdmFsdWU9XCJIMVwiIHN0eWxlPVwiaGVpZ2h0OjQ1cHg7XCI+PGgxPicgKyBsYW5nLnRvb2xiYXIudGFnX2ggKyAnIDE8L2gxPjwvYnV0dG9uPjwvbGk+JyArXHJcbiAgICAgICAgICAgICcgICAgICAgPGxpPjxidXR0b24gdHlwZT1cImJ1dHRvblwiIGNsYXNzPVwiYnRuX2VkaXRcIiBkYXRhLXZhbHVlPVwiSDJcIiBzdHlsZT1cImhlaWdodDozNHB4O1wiPjxoMj4nICsgbGFuZy50b29sYmFyLnRhZ19oICsgJyAyPC9oMj48L2J1dHRvbj48L2xpPicgK1xyXG4gICAgICAgICAgICAnICAgICAgIDxsaT48YnV0dG9uIHR5cGU9XCJidXR0b25cIiBjbGFzcz1cImJ0bl9lZGl0XCIgZGF0YS12YWx1ZT1cIkgzXCIgc3R5bGU9XCJoZWlnaHQ6MjZweDtcIj48aDM+JyArIGxhbmcudG9vbGJhci50YWdfaCArICcgMzwvaDM+PC9idXR0b24+PC9saT4nICtcclxuICAgICAgICAgICAgJyAgICAgICA8bGk+PGJ1dHRvbiB0eXBlPVwiYnV0dG9uXCIgY2xhc3M9XCJidG5fZWRpdFwiIGRhdGEtdmFsdWU9XCJINFwiIHN0eWxlPVwiaGVpZ2h0OjIzcHg7XCI+PGg0PicgKyBsYW5nLnRvb2xiYXIudGFnX2ggKyAnIDQ8L2g0PjwvYnV0dG9uPjwvbGk+JyArXHJcbiAgICAgICAgICAgICcgICAgICAgPGxpPjxidXR0b24gdHlwZT1cImJ1dHRvblwiIGNsYXNzPVwiYnRuX2VkaXRcIiBkYXRhLXZhbHVlPVwiSDVcIiBzdHlsZT1cImhlaWdodDoxOXB4O1wiPjxoNT4nICsgbGFuZy50b29sYmFyLnRhZ19oICsgJyA1PC9oNT48L2J1dHRvbj48L2xpPicgK1xyXG4gICAgICAgICAgICAnICAgICAgIDxsaT48YnV0dG9uIHR5cGU9XCJidXR0b25cIiBjbGFzcz1cImJ0bl9lZGl0XCIgZGF0YS12YWx1ZT1cIkg2XCIgc3R5bGU9XCJoZWlnaHQ6MTVweDtcIj48aDY+JyArIGxhbmcudG9vbGJhci50YWdfaCArICcgNjwvaDY+PC9idXR0b24+PC9saT4nICtcclxuICAgICAgICAgICAgJyAgIDwvdWw+JyArXHJcbiAgICAgICAgICAgICc8L2Rpdj4nO1xyXG5cclxuICAgICAgICByZXR1cm4gbGlzdERpdjtcclxuICAgIH0sXHJcblxyXG4gICAgcGlja1VwOiBmdW5jdGlvbiAoZSkge1xyXG4gICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xyXG5cclxuICAgICAgICBsZXQgdGFyZ2V0ID0gZS50YXJnZXQ7XHJcbiAgICAgICAgbGV0IHZhbHVlID0gbnVsbDtcclxuICAgICAgICBcclxuICAgICAgICB3aGlsZSAoIXZhbHVlICYmICEvVUwvaS50ZXN0KHRhcmdldC50YWdOYW1lKSkge1xyXG4gICAgICAgICAgICB2YWx1ZSA9IHRhcmdldC5nZXRBdHRyaWJ1dGUoJ2RhdGEtdmFsdWUnKTtcclxuICAgICAgICAgICAgdGFyZ2V0ID0gdGFyZ2V0LnBhcmVudE5vZGU7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0aGlzLmZvY3VzKCk7XHJcbiAgICAgICAgdGhpcy51dGlsLmNoYW5nZVR4dCh0aGlzLmNvbW1hbmRNYXBbJ0ZPUk1BVCddLCB2YWx1ZSk7XHJcbiAgICAgICAgdGhpcy5leGVjQ29tbWFuZCgnZm9ybWF0QmxvY2snLCBmYWxzZSwgdmFsdWUpO1xyXG4gICAgICAgIHRoaXMuc3VibWVudU9mZigpO1xyXG4gICAgfVxyXG59O1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgZm9ybWF0QmxvY2s7Il0sIm1hcHBpbmdzIjoiQUFBQTtBQUFBOzs7Ozs7O0FBT0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQUE7QUFFQTtBQUNBO0FBQUE7QUFFQTtBQUNBO0FBQUE7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFjQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUF0REE7QUF5REEiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/plugins/submenu/formatBlock.js\n");

/***/ }),

/***/ "./src/plugins/submenu/hiliteColor.js":
/*!********************************************!*\
  !*** ./src/plugins/submenu/hiliteColor.js ***!
  \********************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/*\r\n * wysiwyg web editor\r\n *\r\n * suneditor.js\r\n * Copyright 2017 JiHong Lee.\r\n * MIT license.\r\n */\n\n\nconst hiliteColor = {\n  name: 'hiliteColor',\n  add: function (_this, targetElement) {\n    /** set submenu */\n    let listDiv = eval(this.setSubmenu());\n    /** add event listeners */\n\n    listDiv.getElementsByTagName('UL')[0].addEventListener('click', this.colorPick.bind(_this));\n    /** append html */\n\n    targetElement.parentNode.appendChild(listDiv);\n    /** empty memory */\n\n    listDiv = null;\n  },\n  setSubmenu: function () {\n    const listDiv = document.createElement('DIV');\n    listDiv.className = 'layer_editor';\n    listDiv.style.display = 'none';\n    const colorList = ['#1e9af9', '#00b8c6', '#6cce02', '#ff9702', '#ff0000', '#ff00dd', '#6600ff', '#cce9ff', '#fcfd4c', '#ffffff', '#dfdede', '#8c8c8c', '#000000', '#222222'];\n    let list = '<div class=\"inner_layer\">' + '   <div class=\"pallet_hilite_color\">' + '       <ul class=\"list_color\">';\n\n    for (let i = 0, len = colorList.length; i < len; i++) {\n      const color = colorList[i];\n      list += '<li>' + '   <button type=\"button\" class=\"' + (/ffffff/.test(color) ? ' color_white' : '') + '\" data-value=\"' + color + '\" title=\"' + color + '\" style=\"background-color:' + color + ';\"></button>' + '</li>';\n    }\n\n    list += '   </ul>' + '   </div>' + '</div>';\n    listDiv.innerHTML = list;\n    return listDiv;\n  },\n  colorPick: function (e) {\n    e.preventDefault();\n    e.stopPropagation();\n\n    if (!/^BUTTON$/i.test(e.target.tagName)) {\n      return false;\n    }\n\n    this.focus();\n    const newNode = document.createElement('SPAN');\n    newNode.style.backgroundColor = e.target.getAttribute('data-value');\n    this.wrapRangeToTag(newNode, ['background-color']);\n    this.submenuOff();\n  }\n};\n/* harmony default export */ __webpack_exports__[\"default\"] = (hiliteColor);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvcGx1Z2lucy9zdWJtZW51L2hpbGl0ZUNvbG9yLmpzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vc3JjL3BsdWdpbnMvc3VibWVudS9oaWxpdGVDb2xvci5qcz9iMzQ3Il0sInNvdXJjZXNDb250ZW50IjpbIi8qXHJcbiAqIHd5c2l3eWcgd2ViIGVkaXRvclxyXG4gKlxyXG4gKiBzdW5lZGl0b3IuanNcclxuICogQ29weXJpZ2h0IDIwMTcgSmlIb25nIExlZS5cclxuICogTUlUIGxpY2Vuc2UuXHJcbiAqL1xyXG4ndXNlIHN0cmljdCc7XHJcbmNvbnN0IGhpbGl0ZUNvbG9yID0ge1xyXG4gICAgbmFtZTogJ2hpbGl0ZUNvbG9yJyxcclxuICAgIGFkZDogZnVuY3Rpb24gKF90aGlzLCB0YXJnZXRFbGVtZW50KSB7XHJcbiAgICAgICAgLyoqIHNldCBzdWJtZW51ICovXHJcbiAgICAgICAgbGV0IGxpc3REaXYgPSBldmFsKHRoaXMuc2V0U3VibWVudSgpKTtcclxuXHJcbiAgICAgICAgLyoqIGFkZCBldmVudCBsaXN0ZW5lcnMgKi9cclxuICAgICAgICBsaXN0RGl2LmdldEVsZW1lbnRzQnlUYWdOYW1lKCdVTCcpWzBdLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5jb2xvclBpY2suYmluZChfdGhpcykpO1xyXG5cclxuICAgICAgICAvKiogYXBwZW5kIGh0bWwgKi9cclxuICAgICAgICB0YXJnZXRFbGVtZW50LnBhcmVudE5vZGUuYXBwZW5kQ2hpbGQobGlzdERpdik7XHJcblxyXG4gICAgICAgIC8qKiBlbXB0eSBtZW1vcnkgKi9cclxuICAgICAgICBsaXN0RGl2ID0gbnVsbDtcclxuICAgIH0sXHJcblxyXG4gICAgc2V0U3VibWVudTogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIGNvbnN0IGxpc3REaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdESVYnKTtcclxuICAgICAgICBsaXN0RGl2LmNsYXNzTmFtZSA9ICdsYXllcl9lZGl0b3InO1xyXG4gICAgICAgIGxpc3REaXYuc3R5bGUuZGlzcGxheSA9ICdub25lJztcclxuXHJcbiAgICAgICAgY29uc3QgY29sb3JMaXN0ID0gWycjMWU5YWY5JywgJyMwMGI4YzYnLCAnIzZjY2UwMicsICcjZmY5NzAyJywgJyNmZjAwMDAnLCAnI2ZmMDBkZCcsICcjNjYwMGZmJywgJyNjY2U5ZmYnLCAnI2ZjZmQ0YycsICcjZmZmZmZmJywgJyNkZmRlZGUnLCAnIzhjOGM4YycsICcjMDAwMDAwJywgJyMyMjIyMjInXTtcclxuXHJcbiAgICAgICAgbGV0IGxpc3QgPSAnPGRpdiBjbGFzcz1cImlubmVyX2xheWVyXCI+JyArXHJcbiAgICAgICAgICAgICcgICA8ZGl2IGNsYXNzPVwicGFsbGV0X2hpbGl0ZV9jb2xvclwiPicgK1xyXG4gICAgICAgICAgICAnICAgICAgIDx1bCBjbGFzcz1cImxpc3RfY29sb3JcIj4nO1xyXG4gICAgICAgIGZvciAobGV0IGkgPSAwLCBsZW4gPSBjb2xvckxpc3QubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcclxuICAgICAgICAgICAgY29uc3QgY29sb3IgPSBjb2xvckxpc3RbaV07XHJcbiAgICAgICAgICAgIGxpc3QgKz0gJzxsaT4nICtcclxuICAgICAgICAgICAgICAgICcgICA8YnV0dG9uIHR5cGU9XCJidXR0b25cIiBjbGFzcz1cIicgKyAoL2ZmZmZmZi8udGVzdChjb2xvcikgPyAnIGNvbG9yX3doaXRlJyA6ICcnKSArICdcIiBkYXRhLXZhbHVlPVwiJyArIGNvbG9yICsgJ1wiIHRpdGxlPVwiJyArIGNvbG9yICsgJ1wiIHN0eWxlPVwiYmFja2dyb3VuZC1jb2xvcjonICsgY29sb3IgKyAnO1wiPjwvYnV0dG9uPicgK1xyXG4gICAgICAgICAgICAgICAgJzwvbGk+JztcclxuICAgICAgICB9XHJcbiAgICAgICAgbGlzdCArPSAnICAgPC91bD4nICtcclxuICAgICAgICAgICAgJyAgIDwvZGl2PicgK1xyXG4gICAgICAgICAgICAnPC9kaXY+JztcclxuXHJcbiAgICAgICAgbGlzdERpdi5pbm5lckhUTUwgPSBsaXN0O1xyXG5cclxuICAgICAgICByZXR1cm4gbGlzdERpdjtcclxuICAgIH0sXHJcblxyXG4gICAgY29sb3JQaWNrOiBmdW5jdGlvbiAoZSkge1xyXG4gICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xyXG5cclxuICAgICAgICBpZiAoIS9eQlVUVE9OJC9pLnRlc3QoZS50YXJnZXQudGFnTmFtZSkpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGhpcy5mb2N1cygpO1xyXG5cclxuICAgICAgICBjb25zdCBuZXdOb2RlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnU1BBTicpOyBuZXdOb2RlLnN0eWxlLmJhY2tncm91bmRDb2xvciA9IGUudGFyZ2V0LmdldEF0dHJpYnV0ZSgnZGF0YS12YWx1ZScpO1xyXG4gICAgICAgIHRoaXMud3JhcFJhbmdlVG9UYWcobmV3Tm9kZSwgWydiYWNrZ3JvdW5kLWNvbG9yJ10pO1xyXG4gICAgICAgIHRoaXMuc3VibWVudU9mZigpO1xyXG4gICAgfVxyXG59O1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgaGlsaXRlQ29sb3I7Il0sIm1hcHBpbmdzIjoiQUFBQTtBQUFBOzs7Ozs7O0FBT0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQUE7QUFFQTtBQUNBO0FBQUE7QUFFQTtBQUNBO0FBQUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBR0E7QUFDQTtBQUFBO0FBSUE7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQXREQTtBQXlEQSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/plugins/submenu/hiliteColor.js\n");

/***/ }),

/***/ "./src/plugins/submenu/horizontalRule.js":
/*!***********************************************!*\
  !*** ./src/plugins/submenu/horizontalRule.js ***!
  \***********************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/*\r\n * wysiwyg web editor\r\n *\r\n * suneditor.js\r\n * Copyright 2017 JiHong Lee.\r\n * MIT license.\r\n */\n\n\nconst horizontalRule = {\n  name: 'horizontalRule',\n  add: function (_this, targetElement) {\n    /** set submenu */\n    let listDiv = eval(this.setSubmenu());\n    /** add event listeners */\n\n    listDiv.getElementsByTagName('UL')[0].addEventListener('click', this.horizontalRulePick.bind(_this));\n    /** append html */\n\n    targetElement.parentNode.appendChild(listDiv);\n    /** empty memory */\n\n    listDiv = null;\n  },\n  setSubmenu: function () {\n    const listDiv = document.createElement('DIV');\n    listDiv.className = 'layer_editor layer_line';\n    listDiv.style.display = 'none';\n    listDiv.innerHTML = '' + '<div class=\"inner_layer\">' + '   <ul class=\"list_editor\">' + '       <li>' + '           <button type=\"button\" class=\"btn_edit btn_line\" data-command=\"horizontalRule\" data-value=\"solid\">' + '               <hr style=\"border-width: 1px 0 0; border-style: solid none none; border-color: black; border-image: initial; height: 1px;\" />' + '           </button>' + '       </li>' + '       <li>' + '           <button type=\"button\" class=\"btn_edit btn_line\" data-command=\"horizontalRule\" data-value=\"dotted\">' + '               <hr style=\"border-width: 1px 0 0; border-style: dotted none none; border-color: black; border-image: initial; height: 1px;\" />' + '           </button>' + '       </li>' + '       <li>' + '           <button type=\"button\" class=\"btn_edit btn_line\" data-command=\"horizontalRule\" data-value=\"dashed\">' + '               <hr style=\"border-width: 1px 0 0; border-style: dashed none none; border-color: black; border-image: initial; height: 1px;\" />' + '           </button>' + '       </li>' + '   </ul>' + '</div>';\n    return listDiv;\n  },\n  appendHr: function (className) {\n    const oHr = document.createElement('HR');\n    oHr.className = className;\n    this.focus();\n    this.insertNode(oHr, this.util.getFormatElement(this.getSelectionNode()));\n    const oP = this.appendP(oHr);\n    this.setRange(oP, 0, oP, 0);\n  },\n  horizontalRulePick: function (e) {\n    e.preventDefault();\n    e.stopPropagation();\n    let target = e.target;\n    let value = null;\n\n    while (!value && !/UL/i.test(target.tagName)) {\n      value = target.getAttribute('data-value');\n      target = target.parentNode;\n    }\n\n    this.focus();\n    this.plugins.horizontalRule.appendHr.call(this, value);\n    this.submenuOff();\n  }\n};\n/* harmony default export */ __webpack_exports__[\"default\"] = (horizontalRule);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvcGx1Z2lucy9zdWJtZW51L2hvcml6b250YWxSdWxlLmpzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vc3JjL3BsdWdpbnMvc3VibWVudS9ob3Jpem9udGFsUnVsZS5qcz84Mzg1Il0sInNvdXJjZXNDb250ZW50IjpbIi8qXHJcbiAqIHd5c2l3eWcgd2ViIGVkaXRvclxyXG4gKlxyXG4gKiBzdW5lZGl0b3IuanNcclxuICogQ29weXJpZ2h0IDIwMTcgSmlIb25nIExlZS5cclxuICogTUlUIGxpY2Vuc2UuXHJcbiAqL1xyXG4ndXNlIHN0cmljdCc7XHJcbmNvbnN0IGhvcml6b250YWxSdWxlID0ge1xyXG4gICAgbmFtZTogJ2hvcml6b250YWxSdWxlJyxcclxuICAgIGFkZDogZnVuY3Rpb24gKF90aGlzLCB0YXJnZXRFbGVtZW50KSB7XHJcbiAgICAgICAgLyoqIHNldCBzdWJtZW51ICovXHJcbiAgICAgICAgbGV0IGxpc3REaXYgPSBldmFsKHRoaXMuc2V0U3VibWVudSgpKTtcclxuXHJcbiAgICAgICAgLyoqIGFkZCBldmVudCBsaXN0ZW5lcnMgKi9cclxuICAgICAgICBsaXN0RGl2LmdldEVsZW1lbnRzQnlUYWdOYW1lKCdVTCcpWzBdLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5ob3Jpem9udGFsUnVsZVBpY2suYmluZChfdGhpcykpO1xyXG5cclxuICAgICAgICAvKiogYXBwZW5kIGh0bWwgKi9cclxuICAgICAgICB0YXJnZXRFbGVtZW50LnBhcmVudE5vZGUuYXBwZW5kQ2hpbGQobGlzdERpdik7XHJcblxyXG4gICAgICAgIC8qKiBlbXB0eSBtZW1vcnkgKi9cclxuICAgICAgICBsaXN0RGl2ID0gbnVsbDtcclxuICAgIH0sXHJcblxyXG4gICAgc2V0U3VibWVudTogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIGNvbnN0IGxpc3REaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdESVYnKTtcclxuXHJcbiAgICAgICAgbGlzdERpdi5jbGFzc05hbWUgPSAnbGF5ZXJfZWRpdG9yIGxheWVyX2xpbmUnO1xyXG4gICAgICAgIGxpc3REaXYuc3R5bGUuZGlzcGxheSA9ICdub25lJztcclxuICAgICAgICBsaXN0RGl2LmlubmVySFRNTCA9ICcnICtcclxuICAgICAgICAgICAgJzxkaXYgY2xhc3M9XCJpbm5lcl9sYXllclwiPicgK1xyXG4gICAgICAgICAgICAnICAgPHVsIGNsYXNzPVwibGlzdF9lZGl0b3JcIj4nICtcclxuICAgICAgICAgICAgJyAgICAgICA8bGk+JyArXHJcbiAgICAgICAgICAgICcgICAgICAgICAgIDxidXR0b24gdHlwZT1cImJ1dHRvblwiIGNsYXNzPVwiYnRuX2VkaXQgYnRuX2xpbmVcIiBkYXRhLWNvbW1hbmQ9XCJob3Jpem9udGFsUnVsZVwiIGRhdGEtdmFsdWU9XCJzb2xpZFwiPicgK1xyXG4gICAgICAgICAgICAnICAgICAgICAgICAgICAgPGhyIHN0eWxlPVwiYm9yZGVyLXdpZHRoOiAxcHggMCAwOyBib3JkZXItc3R5bGU6IHNvbGlkIG5vbmUgbm9uZTsgYm9yZGVyLWNvbG9yOiBibGFjazsgYm9yZGVyLWltYWdlOiBpbml0aWFsOyBoZWlnaHQ6IDFweDtcIiAvPicgK1xyXG4gICAgICAgICAgICAnICAgICAgICAgICA8L2J1dHRvbj4nICtcclxuICAgICAgICAgICAgJyAgICAgICA8L2xpPicgK1xyXG4gICAgICAgICAgICAnICAgICAgIDxsaT4nICtcclxuICAgICAgICAgICAgJyAgICAgICAgICAgPGJ1dHRvbiB0eXBlPVwiYnV0dG9uXCIgY2xhc3M9XCJidG5fZWRpdCBidG5fbGluZVwiIGRhdGEtY29tbWFuZD1cImhvcml6b250YWxSdWxlXCIgZGF0YS12YWx1ZT1cImRvdHRlZFwiPicgK1xyXG4gICAgICAgICAgICAnICAgICAgICAgICAgICAgPGhyIHN0eWxlPVwiYm9yZGVyLXdpZHRoOiAxcHggMCAwOyBib3JkZXItc3R5bGU6IGRvdHRlZCBub25lIG5vbmU7IGJvcmRlci1jb2xvcjogYmxhY2s7IGJvcmRlci1pbWFnZTogaW5pdGlhbDsgaGVpZ2h0OiAxcHg7XCIgLz4nICtcclxuICAgICAgICAgICAgJyAgICAgICAgICAgPC9idXR0b24+JyArXHJcbiAgICAgICAgICAgICcgICAgICAgPC9saT4nICtcclxuICAgICAgICAgICAgJyAgICAgICA8bGk+JyArXHJcbiAgICAgICAgICAgICcgICAgICAgICAgIDxidXR0b24gdHlwZT1cImJ1dHRvblwiIGNsYXNzPVwiYnRuX2VkaXQgYnRuX2xpbmVcIiBkYXRhLWNvbW1hbmQ9XCJob3Jpem9udGFsUnVsZVwiIGRhdGEtdmFsdWU9XCJkYXNoZWRcIj4nICtcclxuICAgICAgICAgICAgJyAgICAgICAgICAgICAgIDxociBzdHlsZT1cImJvcmRlci13aWR0aDogMXB4IDAgMDsgYm9yZGVyLXN0eWxlOiBkYXNoZWQgbm9uZSBub25lOyBib3JkZXItY29sb3I6IGJsYWNrOyBib3JkZXItaW1hZ2U6IGluaXRpYWw7IGhlaWdodDogMXB4O1wiIC8+JyArXHJcbiAgICAgICAgICAgICcgICAgICAgICAgIDwvYnV0dG9uPicgK1xyXG4gICAgICAgICAgICAnICAgICAgIDwvbGk+JyArXHJcbiAgICAgICAgICAgICcgICA8L3VsPicgK1xyXG4gICAgICAgICAgICAnPC9kaXY+JztcclxuXHJcbiAgICAgICAgcmV0dXJuIGxpc3REaXY7XHJcbiAgICB9LFxyXG5cclxuICAgIGFwcGVuZEhyOiBmdW5jdGlvbiAoY2xhc3NOYW1lKSB7XHJcbiAgICAgICAgY29uc3Qgb0hyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnSFInKTtcclxuICAgICAgICBvSHIuY2xhc3NOYW1lID0gY2xhc3NOYW1lO1xyXG5cclxuICAgICAgICB0aGlzLmZvY3VzKCk7XHJcbiAgICAgICAgdGhpcy5pbnNlcnROb2RlKG9IciwgdGhpcy51dGlsLmdldEZvcm1hdEVsZW1lbnQodGhpcy5nZXRTZWxlY3Rpb25Ob2RlKCkpKTtcclxuXHJcbiAgICAgICAgY29uc3Qgb1AgPSB0aGlzLmFwcGVuZFAob0hyKTtcclxuICAgICAgICB0aGlzLnNldFJhbmdlKG9QLCAwLCBvUCwgMCk7XHJcbiAgICB9LFxyXG5cclxuICAgIGhvcml6b250YWxSdWxlUGljazogZnVuY3Rpb24gKGUpIHtcclxuICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcclxuXHJcbiAgICAgICAgbGV0IHRhcmdldCA9IGUudGFyZ2V0O1xyXG4gICAgICAgIGxldCB2YWx1ZSA9IG51bGw7XHJcbiAgICAgICAgXHJcbiAgICAgICAgd2hpbGUgKCF2YWx1ZSAmJiAhL1VML2kudGVzdCh0YXJnZXQudGFnTmFtZSkpIHtcclxuICAgICAgICAgICAgdmFsdWUgPSB0YXJnZXQuZ2V0QXR0cmlidXRlKCdkYXRhLXZhbHVlJyk7XHJcbiAgICAgICAgICAgIHRhcmdldCA9IHRhcmdldC5wYXJlbnROb2RlO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGhpcy5mb2N1cygpO1xyXG4gICAgICAgIHRoaXMucGx1Z2lucy5ob3Jpem9udGFsUnVsZS5hcHBlbmRIci5jYWxsKHRoaXMsdmFsdWUpO1xyXG4gICAgICAgIHRoaXMuc3VibWVudU9mZigpO1xyXG4gICAgfVxyXG59O1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgaG9yaXpvbnRhbFJ1bGU7Il0sIm1hcHBpbmdzIjoiQUFBQTtBQUFBOzs7Ozs7O0FBT0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQUE7QUFFQTtBQUNBO0FBQUE7QUFFQTtBQUNBO0FBQUE7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFxQkE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUF2RUE7QUEwRUEiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/plugins/submenu/horizontalRule.js\n");

/***/ }),

/***/ "./src/plugins/submenu/list.js":
/*!*************************************!*\
  !*** ./src/plugins/submenu/list.js ***!
  \*************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/*\r\n * wysiwyg web editor\r\n *\r\n * suneditor.js\r\n * Copyright 2017 JiHong Lee.\r\n * MIT license.\r\n */\n\n\nconst list = {\n  name: 'list',\n  add: function (_this, targetElement) {\n    /** set submenu */\n    let listDiv = eval(this.setSubmenu(_this.lang));\n    /** add event listeners */\n\n    listDiv.getElementsByTagName('UL')[0].addEventListener('click', this.pickup.bind(_this));\n    /** append html */\n\n    targetElement.parentNode.appendChild(listDiv);\n    /** empty memory */\n\n    listDiv = null;\n  },\n  setSubmenu: function (lang) {\n    const listDiv = document.createElement('DIV');\n    listDiv.className = 'layer_editor layer_list';\n    listDiv.style.display = 'none';\n    listDiv.innerHTML = '' + '<div class=\"inner_layer\">' + '   <ul class=\"list_editor\">' + '       <li><button type=\"button\" class=\"btn_edit\" data-command=\"insertOrderedList\" data-value=\"DECIMAL\" title=\"' + lang.toolbar.orderList + '\"><div class=\"icon-list-number\"></div></button></li>' + '       <li><button type=\"button\" class=\"btn_edit\" data-command=\"insertUnorderedList\" data-value=\"DISC\" title=\"' + lang.toolbar.unorderList + '\"><div class=\"icon-list-bullets\"></div></button></li>' + '   </ul>' + '</div>';\n    return listDiv;\n  },\n  pickup: function (e) {\n    e.preventDefault();\n    e.stopPropagation();\n    let target = e.target;\n    let command = null;\n    let value = null;\n\n    while (!value && !/UL/i.test(target.tagName)) {\n      command = target.getAttribute('data-command');\n      value = target.getAttribute('data-value');\n      target = target.parentNode;\n    }\n\n    this.focus();\n    this.execCommand(command, false, value);\n    this.submenuOff();\n  }\n};\n/* harmony default export */ __webpack_exports__[\"default\"] = (list);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvcGx1Z2lucy9zdWJtZW51L2xpc3QuanMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvcGx1Z2lucy9zdWJtZW51L2xpc3QuanM/ODBjYiJdLCJzb3VyY2VzQ29udGVudCI6WyIvKlxyXG4gKiB3eXNpd3lnIHdlYiBlZGl0b3JcclxuICpcclxuICogc3VuZWRpdG9yLmpzXHJcbiAqIENvcHlyaWdodCAyMDE3IEppSG9uZyBMZWUuXHJcbiAqIE1JVCBsaWNlbnNlLlxyXG4gKi9cclxuJ3VzZSBzdHJpY3QnO1xyXG5jb25zdCBsaXN0ID0ge1xyXG4gICAgbmFtZTogJ2xpc3QnLFxyXG4gICAgYWRkOiBmdW5jdGlvbiAoX3RoaXMsIHRhcmdldEVsZW1lbnQpIHtcclxuICAgICAgICAvKiogc2V0IHN1Ym1lbnUgKi9cclxuICAgICAgICBsZXQgbGlzdERpdiA9IGV2YWwodGhpcy5zZXRTdWJtZW51KF90aGlzLmxhbmcpKTtcclxuXHJcbiAgICAgICAgLyoqIGFkZCBldmVudCBsaXN0ZW5lcnMgKi9cclxuICAgICAgICBsaXN0RGl2LmdldEVsZW1lbnRzQnlUYWdOYW1lKCdVTCcpWzBdLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5waWNrdXAuYmluZChfdGhpcykpO1xyXG5cclxuICAgICAgICAvKiogYXBwZW5kIGh0bWwgKi9cclxuICAgICAgICB0YXJnZXRFbGVtZW50LnBhcmVudE5vZGUuYXBwZW5kQ2hpbGQobGlzdERpdik7XHJcblxyXG4gICAgICAgIC8qKiBlbXB0eSBtZW1vcnkgKi9cclxuICAgICAgICBsaXN0RGl2ID0gbnVsbDtcclxuICAgIH0sXHJcblxyXG4gICAgc2V0U3VibWVudTogZnVuY3Rpb24gKGxhbmcpIHtcclxuICAgICAgICBjb25zdCBsaXN0RGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnRElWJyk7XHJcblxyXG4gICAgICAgIGxpc3REaXYuY2xhc3NOYW1lID0gJ2xheWVyX2VkaXRvciBsYXllcl9saXN0JztcclxuICAgICAgICBsaXN0RGl2LnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XHJcbiAgICAgICAgbGlzdERpdi5pbm5lckhUTUwgPSAnJyArXHJcbiAgICAgICAgICAgICc8ZGl2IGNsYXNzPVwiaW5uZXJfbGF5ZXJcIj4nICtcclxuICAgICAgICAgICAgJyAgIDx1bCBjbGFzcz1cImxpc3RfZWRpdG9yXCI+JyArXHJcbiAgICAgICAgICAgICcgICAgICAgPGxpPjxidXR0b24gdHlwZT1cImJ1dHRvblwiIGNsYXNzPVwiYnRuX2VkaXRcIiBkYXRhLWNvbW1hbmQ9XCJpbnNlcnRPcmRlcmVkTGlzdFwiIGRhdGEtdmFsdWU9XCJERUNJTUFMXCIgdGl0bGU9XCInICsgbGFuZy50b29sYmFyLm9yZGVyTGlzdCArICdcIj48ZGl2IGNsYXNzPVwiaWNvbi1saXN0LW51bWJlclwiPjwvZGl2PjwvYnV0dG9uPjwvbGk+JyArXHJcbiAgICAgICAgICAgICcgICAgICAgPGxpPjxidXR0b24gdHlwZT1cImJ1dHRvblwiIGNsYXNzPVwiYnRuX2VkaXRcIiBkYXRhLWNvbW1hbmQ9XCJpbnNlcnRVbm9yZGVyZWRMaXN0XCIgZGF0YS12YWx1ZT1cIkRJU0NcIiB0aXRsZT1cIicgKyBsYW5nLnRvb2xiYXIudW5vcmRlckxpc3QgKyAnXCI+PGRpdiBjbGFzcz1cImljb24tbGlzdC1idWxsZXRzXCI+PC9kaXY+PC9idXR0b24+PC9saT4nICtcclxuICAgICAgICAgICAgJyAgIDwvdWw+JyArXHJcbiAgICAgICAgICAgICc8L2Rpdj4nO1xyXG5cclxuICAgICAgICByZXR1cm4gbGlzdERpdjtcclxuICAgIH0sXHJcblxyXG4gICAgcGlja3VwOiBmdW5jdGlvbiAoZSkge1xyXG4gICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xyXG5cclxuICAgICAgICBsZXQgdGFyZ2V0ID0gZS50YXJnZXQ7XHJcbiAgICAgICAgbGV0IGNvbW1hbmQgPSBudWxsO1xyXG4gICAgICAgIGxldCB2YWx1ZSA9IG51bGw7XHJcblxyXG4gICAgICAgIHdoaWxlICghdmFsdWUgJiYgIS9VTC9pLnRlc3QodGFyZ2V0LnRhZ05hbWUpKSB7XHJcbiAgICAgICAgICAgIGNvbW1hbmQgPSB0YXJnZXQuZ2V0QXR0cmlidXRlKCdkYXRhLWNvbW1hbmQnKTtcclxuICAgICAgICAgICAgdmFsdWUgPSB0YXJnZXQuZ2V0QXR0cmlidXRlKCdkYXRhLXZhbHVlJyk7XHJcbiAgICAgICAgICAgIHRhcmdldCA9IHRhcmdldC5wYXJlbnROb2RlO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGhpcy5mb2N1cygpO1xyXG4gICAgICAgIHRoaXMuZXhlY0NvbW1hbmQoY29tbWFuZCwgZmFsc2UsIHZhbHVlKTtcclxuICAgICAgICB0aGlzLnN1Ym1lbnVPZmYoKTtcclxuICAgIH1cclxufTtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGxpc3Q7Il0sIm1hcHBpbmdzIjoiQUFBQTtBQUFBOzs7Ozs7O0FBT0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQUE7QUFFQTtBQUNBO0FBQUE7QUFFQTtBQUNBO0FBQUE7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFRQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQWpEQTtBQW9EQSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/plugins/submenu/list.js\n");

/***/ }),

/***/ "./src/plugins/submenu/table.js":
/*!**************************************!*\
  !*** ./src/plugins/submenu/table.js ***!
  \**************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/*\r\n * wysiwyg web editor\r\n *\r\n * suneditor.js\r\n * Copyright 2017 JiHong Lee.\r\n * MIT license.\r\n */\n\n\nconst table = {\n  name: 'table',\n  add: function (_this, targetElement) {\n    const context = _this.context;\n    /** set submenu */\n\n    let listDiv = eval(this.setSubmenu());\n    let tablePicker = listDiv.getElementsByClassName('sun-editor-id-table-picker')[0];\n    context.submenu.tableHighlight = listDiv.getElementsByClassName('sun-editor-id-table-highlighted')[0];\n    context.submenu.tableUnHighlight = listDiv.getElementsByClassName('sun-editor-id-table-unhighlighted')[0];\n    context.submenu.tableDisplay = listDiv.getElementsByClassName('sun-editor-table-display')[0];\n    context.submenu._tableXY = [];\n    /** add event listeners */\n\n    tablePicker.addEventListener('mousemove', this.onMouseMove_tablePicker.bind(_this));\n    tablePicker.addEventListener('click', this.appendTable.bind(_this));\n    /** append html */\n\n    targetElement.parentNode.appendChild(listDiv);\n    /** empty memory */\n\n    listDiv = null, tablePicker = null;\n  },\n  setSubmenu: function () {\n    const listDiv = document.createElement('DIV');\n    listDiv.className = 'table-content';\n    listDiv.style.display = 'none';\n    listDiv.innerHTML = '' + '<div class=\"table-data-form\">' + '   <div class=\"table-picker sun-editor-id-table-picker\"></div>' + '   <div class=\"table-highlighted sun-editor-id-table-highlighted\"></div>' + '   <div class=\"table-unhighlighted sun-editor-id-table-unhighlighted\"></div>' + '</div>' + '<div class=\"table-display sun-editor-table-display\">1 x 1</div>';\n    return listDiv;\n  },\n  appendTable: function () {\n    const oTable = document.createElement('TABLE');\n    let x = this.context.submenu._tableXY[0];\n    let y = this.context.submenu._tableXY[1];\n    let tableHTML = '<tbody>';\n\n    while (y > 0) {\n      tableHTML += '<tr>';\n      let tdCnt = x;\n\n      while (tdCnt > 0) {\n        tableHTML += '<td><p>&#65279</p></td>';\n        --tdCnt;\n      }\n\n      tableHTML += '</tr>';\n      --y;\n    }\n\n    tableHTML += '</tbody>';\n    oTable.innerHTML = tableHTML;\n    this.insertNode(oTable, this.util.getFormatElement(this.getSelectionNode()));\n    this.appendP(oTable);\n    this.plugins.table.reset_table_picker.call(this);\n  },\n  onMouseMove_tablePicker: function (e) {\n    e.stopPropagation();\n    let x = Math.ceil(e.offsetX / 18);\n    let y = Math.ceil(e.offsetY / 18);\n    x = x < 1 ? 1 : x;\n    y = y < 1 ? 1 : y;\n    this.context.submenu.tableHighlight.style.width = x + 'em';\n    this.context.submenu.tableHighlight.style.height = y + 'em';\n    let x_u = x < 5 ? 5 : x > 9 ? 10 : x + 1;\n    let y_u = y < 5 ? 5 : y > 9 ? 10 : y + 1;\n    this.context.submenu.tableUnHighlight.style.width = x_u + 'em';\n    this.context.submenu.tableUnHighlight.style.height = y_u + 'em';\n    this.util.changeTxt(this.context.submenu.tableDisplay, x + ' x ' + y);\n    this.context.submenu._tableXY = [x, y];\n  },\n  reset_table_picker: function () {\n    if (!this.context.submenu.tableHighlight) return;\n    const highlight = this.context.submenu.tableHighlight.style;\n    const unHighlight = this.context.submenu.tableUnHighlight.style;\n    highlight.width = '1em';\n    highlight.height = '1em';\n    unHighlight.width = '5em';\n    unHighlight.height = '5em';\n    this.util.changeTxt(this.context.submenu.tableDisplay, '1 x 1');\n    this.submenuOff();\n  }\n};\n/* harmony default export */ __webpack_exports__[\"default\"] = (table);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvcGx1Z2lucy9zdWJtZW51L3RhYmxlLmpzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vc3JjL3BsdWdpbnMvc3VibWVudS90YWJsZS5qcz81NmFiIl0sInNvdXJjZXNDb250ZW50IjpbIi8qXHJcbiAqIHd5c2l3eWcgd2ViIGVkaXRvclxyXG4gKlxyXG4gKiBzdW5lZGl0b3IuanNcclxuICogQ29weXJpZ2h0IDIwMTcgSmlIb25nIExlZS5cclxuICogTUlUIGxpY2Vuc2UuXHJcbiAqL1xyXG4ndXNlIHN0cmljdCc7XHJcbmNvbnN0IHRhYmxlID0ge1xyXG4gICAgbmFtZTogJ3RhYmxlJyxcclxuICAgIGFkZDogZnVuY3Rpb24gKF90aGlzLCB0YXJnZXRFbGVtZW50KSB7XHJcbiAgICAgICAgY29uc3QgY29udGV4dCA9IF90aGlzLmNvbnRleHQ7XHJcblxyXG4gICAgICAgIC8qKiBzZXQgc3VibWVudSAqL1xyXG4gICAgICAgIGxldCBsaXN0RGl2ID0gZXZhbCh0aGlzLnNldFN1Ym1lbnUoKSk7XHJcbiAgICAgICAgbGV0IHRhYmxlUGlja2VyID0gbGlzdERpdi5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCdzdW4tZWRpdG9yLWlkLXRhYmxlLXBpY2tlcicpWzBdO1xyXG5cclxuICAgICAgICBjb250ZXh0LnN1Ym1lbnUudGFibGVIaWdobGlnaHQgPSBsaXN0RGl2LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoJ3N1bi1lZGl0b3ItaWQtdGFibGUtaGlnaGxpZ2h0ZWQnKVswXTtcclxuICAgICAgICBjb250ZXh0LnN1Ym1lbnUudGFibGVVbkhpZ2hsaWdodCA9IGxpc3REaXYuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgnc3VuLWVkaXRvci1pZC10YWJsZS11bmhpZ2hsaWdodGVkJylbMF07XHJcbiAgICAgICAgY29udGV4dC5zdWJtZW51LnRhYmxlRGlzcGxheSA9IGxpc3REaXYuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgnc3VuLWVkaXRvci10YWJsZS1kaXNwbGF5JylbMF07XHJcbiAgICAgICAgY29udGV4dC5zdWJtZW51Ll90YWJsZVhZID0gW107XHJcblxyXG4gICAgICAgIC8qKiBhZGQgZXZlbnQgbGlzdGVuZXJzICovXHJcbiAgICAgICAgdGFibGVQaWNrZXIuYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vtb3ZlJywgdGhpcy5vbk1vdXNlTW92ZV90YWJsZVBpY2tlci5iaW5kKF90aGlzKSk7XHJcbiAgICAgICAgdGFibGVQaWNrZXIuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLmFwcGVuZFRhYmxlLmJpbmQoX3RoaXMpKTtcclxuXHJcbiAgICAgICAgLyoqIGFwcGVuZCBodG1sICovXHJcbiAgICAgICAgdGFyZ2V0RWxlbWVudC5wYXJlbnROb2RlLmFwcGVuZENoaWxkKGxpc3REaXYpO1xyXG5cclxuICAgICAgICAvKiogZW1wdHkgbWVtb3J5ICovXHJcbiAgICAgICAgbGlzdERpdiA9IG51bGwsIHRhYmxlUGlja2VyID0gbnVsbDtcclxuICAgIH0sXHJcblxyXG4gICAgc2V0U3VibWVudTogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIGNvbnN0IGxpc3REaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdESVYnKTtcclxuICAgICAgICBsaXN0RGl2LmNsYXNzTmFtZSA9ICd0YWJsZS1jb250ZW50JztcclxuICAgICAgICBsaXN0RGl2LnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XHJcblxyXG4gICAgICAgIGxpc3REaXYuaW5uZXJIVE1MID0gJycgK1xyXG4gICAgICAgICAgICAnPGRpdiBjbGFzcz1cInRhYmxlLWRhdGEtZm9ybVwiPicgK1xyXG4gICAgICAgICAgICAnICAgPGRpdiBjbGFzcz1cInRhYmxlLXBpY2tlciBzdW4tZWRpdG9yLWlkLXRhYmxlLXBpY2tlclwiPjwvZGl2PicgK1xyXG4gICAgICAgICAgICAnICAgPGRpdiBjbGFzcz1cInRhYmxlLWhpZ2hsaWdodGVkIHN1bi1lZGl0b3ItaWQtdGFibGUtaGlnaGxpZ2h0ZWRcIj48L2Rpdj4nICtcclxuICAgICAgICAgICAgJyAgIDxkaXYgY2xhc3M9XCJ0YWJsZS11bmhpZ2hsaWdodGVkIHN1bi1lZGl0b3ItaWQtdGFibGUtdW5oaWdobGlnaHRlZFwiPjwvZGl2PicgK1xyXG4gICAgICAgICAgICAnPC9kaXY+JyArXHJcbiAgICAgICAgICAgICc8ZGl2IGNsYXNzPVwidGFibGUtZGlzcGxheSBzdW4tZWRpdG9yLXRhYmxlLWRpc3BsYXlcIj4xIHggMTwvZGl2Pic7XHJcblxyXG4gICAgICAgIHJldHVybiBsaXN0RGl2O1xyXG4gICAgfSxcclxuXHJcbiAgICBhcHBlbmRUYWJsZTogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIGNvbnN0IG9UYWJsZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ1RBQkxFJyk7XHJcblxyXG4gICAgICAgIGxldCB4ID0gdGhpcy5jb250ZXh0LnN1Ym1lbnUuX3RhYmxlWFlbMF07XHJcbiAgICAgICAgbGV0IHkgPSB0aGlzLmNvbnRleHQuc3VibWVudS5fdGFibGVYWVsxXTtcclxuICAgICAgICBsZXQgdGFibGVIVE1MID0gJzx0Ym9keT4nO1xyXG5cclxuICAgICAgICB3aGlsZSAoeSA+IDApIHtcclxuICAgICAgICAgICAgdGFibGVIVE1MICs9ICc8dHI+JztcclxuICAgICAgICAgICAgbGV0IHRkQ250ID0geDtcclxuICAgICAgICAgICAgd2hpbGUgKHRkQ250ID4gMCkge1xyXG4gICAgICAgICAgICAgICAgdGFibGVIVE1MICs9ICc8dGQ+PHA+JiM2NTI3OTwvcD48L3RkPic7XHJcbiAgICAgICAgICAgICAgICAtLXRkQ250O1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHRhYmxlSFRNTCArPSAnPC90cj4nO1xyXG4gICAgICAgICAgICAtLXk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRhYmxlSFRNTCArPSAnPC90Ym9keT4nO1xyXG5cclxuICAgICAgICBvVGFibGUuaW5uZXJIVE1MID0gdGFibGVIVE1MO1xyXG5cclxuICAgICAgICB0aGlzLmluc2VydE5vZGUob1RhYmxlLCB0aGlzLnV0aWwuZ2V0Rm9ybWF0RWxlbWVudCh0aGlzLmdldFNlbGVjdGlvbk5vZGUoKSkpO1xyXG4gICAgICAgIHRoaXMuYXBwZW5kUChvVGFibGUpO1xyXG5cclxuICAgICAgICB0aGlzLnBsdWdpbnMudGFibGUucmVzZXRfdGFibGVfcGlja2VyLmNhbGwodGhpcyk7XHJcbiAgICB9LFxyXG5cclxuICAgIG9uTW91c2VNb3ZlX3RhYmxlUGlja2VyOiBmdW5jdGlvbiAoZSkge1xyXG4gICAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XHJcblxyXG4gICAgICAgIGxldCB4ID0gTWF0aC5jZWlsKGUub2Zmc2V0WCAvIDE4KTtcclxuICAgICAgICBsZXQgeSA9IE1hdGguY2VpbChlLm9mZnNldFkgLyAxOCk7XHJcbiAgICAgICAgeCA9IHggPCAxID8gMSA6IHg7XHJcbiAgICAgICAgeSA9IHkgPCAxID8gMSA6IHk7XHJcbiAgICAgICAgdGhpcy5jb250ZXh0LnN1Ym1lbnUudGFibGVIaWdobGlnaHQuc3R5bGUud2lkdGggPSB4ICsgJ2VtJztcclxuICAgICAgICB0aGlzLmNvbnRleHQuc3VibWVudS50YWJsZUhpZ2hsaWdodC5zdHlsZS5oZWlnaHQgPSB5ICsgJ2VtJztcclxuXHJcbiAgICAgICAgbGV0IHhfdSA9IHggPCA1ID8gNSA6ICh4ID4gOSA/IDEwIDogeCArIDEpO1xyXG4gICAgICAgIGxldCB5X3UgPSB5IDwgNSA/IDUgOiAoeSA+IDkgPyAxMCA6IHkgKyAxKTtcclxuICAgICAgICB0aGlzLmNvbnRleHQuc3VibWVudS50YWJsZVVuSGlnaGxpZ2h0LnN0eWxlLndpZHRoID0geF91ICsgJ2VtJztcclxuICAgICAgICB0aGlzLmNvbnRleHQuc3VibWVudS50YWJsZVVuSGlnaGxpZ2h0LnN0eWxlLmhlaWdodCA9IHlfdSArICdlbSc7XHJcblxyXG4gICAgICAgIHRoaXMudXRpbC5jaGFuZ2VUeHQodGhpcy5jb250ZXh0LnN1Ym1lbnUudGFibGVEaXNwbGF5LCB4ICsgJyB4ICcgKyB5KTtcclxuICAgICAgICB0aGlzLmNvbnRleHQuc3VibWVudS5fdGFibGVYWSA9IFt4LCB5XTtcclxuICAgIH0sXHJcblxyXG4gICAgcmVzZXRfdGFibGVfcGlja2VyOiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgaWYgKCF0aGlzLmNvbnRleHQuc3VibWVudS50YWJsZUhpZ2hsaWdodCkgcmV0dXJuO1xyXG5cclxuICAgICAgICBjb25zdCBoaWdobGlnaHQgPSB0aGlzLmNvbnRleHQuc3VibWVudS50YWJsZUhpZ2hsaWdodC5zdHlsZTtcclxuICAgICAgICBjb25zdCB1bkhpZ2hsaWdodCA9IHRoaXMuY29udGV4dC5zdWJtZW51LnRhYmxlVW5IaWdobGlnaHQuc3R5bGU7XHJcblxyXG4gICAgICAgIGhpZ2hsaWdodC53aWR0aCA9ICcxZW0nO1xyXG4gICAgICAgIGhpZ2hsaWdodC5oZWlnaHQgPSAnMWVtJztcclxuICAgICAgICB1bkhpZ2hsaWdodC53aWR0aCA9ICc1ZW0nO1xyXG4gICAgICAgIHVuSGlnaGxpZ2h0LmhlaWdodCA9ICc1ZW0nO1xyXG5cclxuICAgICAgICB0aGlzLnV0aWwuY2hhbmdlVHh0KHRoaXMuY29udGV4dC5zdWJtZW51LnRhYmxlRGlzcGxheSwgJzEgeCAxJyk7XHJcbiAgICAgICAgdGhpcy5zdWJtZW51T2ZmKCk7XHJcbiAgICB9XHJcbn07XHJcblxyXG5leHBvcnQgZGVmYXVsdCB0YWJsZTsiXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7Ozs7Ozs7QUFPQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUFBO0FBQ0E7QUFFQTtBQUNBO0FBQUE7QUFFQTtBQUNBO0FBQUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFRQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUVBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBcEdBO0FBdUdBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/plugins/submenu/table.js\n");

/***/ }),

/***/ "./src/suneditor.js":
/*!**************************!*\
  !*** ./src/suneditor.js ***!
  \**************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _lib_util__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./lib/util */ \"./src/lib/util.js\");\n/* harmony import */ var _lib_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./lib/core */ \"./src/lib/core.js\");\n/* harmony import */ var _lib_constructor__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./lib/constructor */ \"./src/lib/constructor.js\");\n/* harmony import */ var _lib_context__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./lib/context */ \"./src/lib/context.js\");\n/* harmony import */ var _lang_en__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./lang/en */ \"./src/lang/en.js\");\n/*\r\n * wysiwyg web editor\r\n *\r\n * suneditor.js\r\n * Copyright 2017 JiHong Lee.\r\n * MIT license.\r\n */\n\n\n\n\n\n\n\nconst SUNEDITOR = {\n  util: _lib_util__WEBPACK_IMPORTED_MODULE_0__[\"default\"],\n  core: _lib_core__WEBPACK_IMPORTED_MODULE_1__[\"default\"],\n  _Constructor: _lib_constructor__WEBPACK_IMPORTED_MODULE_2__[\"default\"],\n  _Context: _lib_context__WEBPACK_IMPORTED_MODULE_3__[\"default\"],\n  _defaultLang: _lang_en__WEBPACK_IMPORTED_MODULE_4__[\"default\"],\n\n  /**\r\n   * @description Create the suneditor\r\n   * @param {string} elementId - textarea Id\r\n   * @param {json} options - user options\r\n   * @returns {{save: save, getContent: getContent, setContent: setContent, appendContent: appendContent, disabled: disabled, enabled: enabled, show: show, hide: hide, destroy: destroy}}\r\n   */\n  create: function (idOrElement, options) {\n    const element = typeof idOrElement === 'string' ? document.getElementById(idOrElement) : idOrElement;\n\n    if (!element) {\n      if (typeof idOrElement === 'string') {\n        throw Error('[SUNEDITOR.create.fail] The element for that id was not found (ID:\"' + idOrElement + '\")');\n      }\n\n      throw Error('[SUNEDITOR.create.fail] suneditor requires textarea\\'s element or id value');\n    }\n\n    const cons = this._Constructor.init(element, options, options.lang || this._defaultLang);\n\n    if (document.getElementById(cons.constructed._top.id)) {\n      throw Error('[SUNEDITOR.create.fail] The ID of the suneditor you are trying to create already exists (ID:\"' + cons.constructed._top.id + '\")');\n    }\n\n    element.style.display = 'none';\n    cons.constructed._top.style.display = 'block';\n    /** Create to sibling node */\n\n    if (typeof element.nextElementSibling === 'object') {\n      element.parentNode.insertBefore(cons.constructed._top, element.nextElementSibling);\n    } else {\n      element.parentNode.appendChild(cons.constructed._top);\n    }\n\n    return this.core(this._Context(element, cons.constructed, cons.options), this.util, cons.modules, cons.plugins, cons.lang);\n  }\n};\nwindow.SUNEDITOR = SUNEDITOR;\n/* harmony default export */ __webpack_exports__[\"default\"] = (SUNEDITOR);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvc3VuZWRpdG9yLmpzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vc3JjL3N1bmVkaXRvci5qcz9iNTliIl0sInNvdXJjZXNDb250ZW50IjpbIi8qXHJcbiAqIHd5c2l3eWcgd2ViIGVkaXRvclxyXG4gKlxyXG4gKiBzdW5lZGl0b3IuanNcclxuICogQ29weXJpZ2h0IDIwMTcgSmlIb25nIExlZS5cclxuICogTUlUIGxpY2Vuc2UuXHJcbiAqL1xyXG4ndXNlIHN0cmljdCc7XHJcblxyXG5pbXBvcnQgdXRpbCBmcm9tICcuL2xpYi91dGlsJztcclxuaW1wb3J0IGNvcmUgZnJvbSAnLi9saWIvY29yZSc7XHJcbmltcG9ydCBfQ29uc3RydWN0b3IgZnJvbSAnLi9saWIvY29uc3RydWN0b3InO1xyXG5pbXBvcnQgX0NvbnRleHQgZnJvbSAnLi9saWIvY29udGV4dCc7XHJcbmltcG9ydCBfZGVmYXVsdExhbmcgZnJvbSAnLi9sYW5nL2VuJ1xyXG5cclxuXHJcbmNvbnN0IFNVTkVESVRPUiA9IHtcclxuICAgIHV0aWwsXHJcbiAgICBjb3JlLFxyXG4gICAgX0NvbnN0cnVjdG9yLFxyXG4gICAgX0NvbnRleHQsXHJcbiAgICBfZGVmYXVsdExhbmcsXHJcbiAgICAvKipcclxuICAgICAqIEBkZXNjcmlwdGlvbiBDcmVhdGUgdGhlIHN1bmVkaXRvclxyXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGVsZW1lbnRJZCAtIHRleHRhcmVhIElkXHJcbiAgICAgKiBAcGFyYW0ge2pzb259IG9wdGlvbnMgLSB1c2VyIG9wdGlvbnNcclxuICAgICAqIEByZXR1cm5zIHt7c2F2ZTogc2F2ZSwgZ2V0Q29udGVudDogZ2V0Q29udGVudCwgc2V0Q29udGVudDogc2V0Q29udGVudCwgYXBwZW5kQ29udGVudDogYXBwZW5kQ29udGVudCwgZGlzYWJsZWQ6IGRpc2FibGVkLCBlbmFibGVkOiBlbmFibGVkLCBzaG93OiBzaG93LCBoaWRlOiBoaWRlLCBkZXN0cm95OiBkZXN0cm95fX1cclxuICAgICAqL1xyXG4gICAgY3JlYXRlOiBmdW5jdGlvbiAoaWRPckVsZW1lbnQsIG9wdGlvbnMpIHtcclxuICAgICAgICBjb25zdCBlbGVtZW50ID0gdHlwZW9mIGlkT3JFbGVtZW50ID09PSAnc3RyaW5nJyA/IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGlkT3JFbGVtZW50KSA6IGlkT3JFbGVtZW50O1xyXG5cclxuICAgICAgICBpZiAoIWVsZW1lbnQpIHtcclxuICAgICAgICAgICAgaWYgKHR5cGVvZiBpZE9yRWxlbWVudCA9PT0gJ3N0cmluZycpIHtcclxuICAgICAgICAgICAgICAgIHRocm93IEVycm9yKCdbU1VORURJVE9SLmNyZWF0ZS5mYWlsXSBUaGUgZWxlbWVudCBmb3IgdGhhdCBpZCB3YXMgbm90IGZvdW5kIChJRDpcIicgKyBpZE9yRWxlbWVudCArICdcIiknKTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgdGhyb3cgRXJyb3IoJ1tTVU5FRElUT1IuY3JlYXRlLmZhaWxdIHN1bmVkaXRvciByZXF1aXJlcyB0ZXh0YXJlYVxcJ3MgZWxlbWVudCBvciBpZCB2YWx1ZScpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgY29uc3QgY29ucyA9IHRoaXMuX0NvbnN0cnVjdG9yLmluaXQoZWxlbWVudCwgb3B0aW9ucywgKG9wdGlvbnMubGFuZyB8fCB0aGlzLl9kZWZhdWx0TGFuZykpO1xyXG5cclxuICAgICAgICBpZiAoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoY29ucy5jb25zdHJ1Y3RlZC5fdG9wLmlkKSkge1xyXG4gICAgICAgICAgICB0aHJvdyBFcnJvcignW1NVTkVESVRPUi5jcmVhdGUuZmFpbF0gVGhlIElEIG9mIHRoZSBzdW5lZGl0b3IgeW91IGFyZSB0cnlpbmcgdG8gY3JlYXRlIGFscmVhZHkgZXhpc3RzIChJRDpcIicgKyBjb25zLmNvbnN0cnVjdGVkLl90b3AuaWQgKyAnXCIpJyk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBlbGVtZW50LnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XHJcbiAgICAgICAgY29ucy5jb25zdHJ1Y3RlZC5fdG9wLnN0eWxlLmRpc3BsYXkgPSAnYmxvY2snO1xyXG5cclxuICAgICAgICAvKiogQ3JlYXRlIHRvIHNpYmxpbmcgbm9kZSAqL1xyXG4gICAgICAgIGlmICh0eXBlb2YgZWxlbWVudC5uZXh0RWxlbWVudFNpYmxpbmcgPT09ICdvYmplY3QnKSB7XHJcbiAgICAgICAgICAgIGVsZW1lbnQucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUoY29ucy5jb25zdHJ1Y3RlZC5fdG9wLCBlbGVtZW50Lm5leHRFbGVtZW50U2libGluZyk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgZWxlbWVudC5wYXJlbnROb2RlLmFwcGVuZENoaWxkKGNvbnMuY29uc3RydWN0ZWQuX3RvcCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4gdGhpcy5jb3JlKHRoaXMuX0NvbnRleHQoZWxlbWVudCwgY29ucy5jb25zdHJ1Y3RlZCwgY29ucy5vcHRpb25zKSwgdGhpcy51dGlsLCBjb25zLm1vZHVsZXMsIGNvbnMucGx1Z2lucywgY29ucy5sYW5nKTtcclxuICAgIH1cclxufTtcclxuXHJcbndpbmRvdy5TVU5FRElUT1IgPSBTVU5FRElUT1I7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBTVU5FRElUT1I7Il0sIm1hcHBpbmdzIjoiQUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTs7Ozs7OztBQU9BO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTs7Ozs7O0FBTUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQXhDQTtBQTJDQTtBQUVBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/suneditor.js\n");

/***/ }),

/***/ "./src/suneditor_build.js":
/*!********************************!*\
  !*** ./src/suneditor_build.js ***!
  \********************************/
/*! no exports provided */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _assets_css_suneditor_css__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./assets/css/suneditor.css */ \"./src/assets/css/suneditor.css\");\n/* harmony import */ var _assets_css_suneditor_css__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_assets_css_suneditor_css__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _assets_css_suneditor_contents_css__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./assets/css/suneditor-contents.css */ \"./src/assets/css/suneditor-contents.css\");\n/* harmony import */ var _assets_css_suneditor_contents_css__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_assets_css_suneditor_contents_css__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _suneditor__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./suneditor */ \"./src/suneditor.js\");\n/* harmony import */ var _plugins_plugins_init__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./plugins/plugins_init */ \"./src/plugins/plugins_init.js\");\n/* harmony import */ var _plugins_modules_init__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./plugins/modules_init */ \"./src/plugins/modules_init.js\");\n\n\n\n\n // import lang from './lang/ko'\n\n_suneditor__WEBPACK_IMPORTED_MODULE_2__[\"default\"].create(document.getElementById('editor'), {\n  modules: [_plugins_modules_init__WEBPACK_IMPORTED_MODULE_4__[\"dialog\"]],\n  buttonList: [['undo', 'redo'], [_plugins_plugins_init__WEBPACK_IMPORTED_MODULE_3__[\"font\"], _plugins_plugins_init__WEBPACK_IMPORTED_MODULE_3__[\"fontSize\"], _plugins_plugins_init__WEBPACK_IMPORTED_MODULE_3__[\"formatBlock\"]], ['bold', 'underline', 'italic', 'strike', 'subscript', 'superscript'], ['removeFormat'], '/', [_plugins_plugins_init__WEBPACK_IMPORTED_MODULE_3__[\"fontColor\"], _plugins_plugins_init__WEBPACK_IMPORTED_MODULE_3__[\"hiliteColor\"]], ['indent', 'outdent'], [_plugins_plugins_init__WEBPACK_IMPORTED_MODULE_3__[\"align\"], _plugins_plugins_init__WEBPACK_IMPORTED_MODULE_3__[\"horizontalRule\"], _plugins_plugins_init__WEBPACK_IMPORTED_MODULE_3__[\"list\"], _plugins_plugins_init__WEBPACK_IMPORTED_MODULE_3__[\"table\"]], [_plugins_plugins_init__WEBPACK_IMPORTED_MODULE_3__[\"link\"], _plugins_plugins_init__WEBPACK_IMPORTED_MODULE_3__[\"image\"], _plugins_plugins_init__WEBPACK_IMPORTED_MODULE_3__[\"video\"]], ['fullScreen', 'showBlocks', 'codeView'], ['preview', 'print']] // lang: lang\n\n});//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvc3VuZWRpdG9yX2J1aWxkLmpzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vc3JjL3N1bmVkaXRvcl9idWlsZC5qcz81Yzk0Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCAnLi9hc3NldHMvY3NzL3N1bmVkaXRvci5jc3MnXHJcbmltcG9ydCAnLi9hc3NldHMvY3NzL3N1bmVkaXRvci1jb250ZW50cy5jc3MnXHJcblxyXG5pbXBvcnQgc3VuZWRpdG9yIGZyb20gJy4vc3VuZWRpdG9yJ1xyXG5pbXBvcnQge2FsaWduLCBmb250LCBmb250U2l6ZSwgZm9udENvbG9yLCBoaWxpdGVDb2xvciwgaG9yaXpvbnRhbFJ1bGUsIGxpc3QsIHRhYmxlLCBmb3JtYXRCbG9jaywgbGluaywgaW1hZ2UsIHZpZGVvfSBmcm9tICcuL3BsdWdpbnMvcGx1Z2luc19pbml0J1xyXG5pbXBvcnQge2RpYWxvZ30gZnJvbSAnLi9wbHVnaW5zL21vZHVsZXNfaW5pdCdcclxuLy8gaW1wb3J0IGxhbmcgZnJvbSAnLi9sYW5nL2tvJ1xyXG5cclxuc3VuZWRpdG9yLmNyZWF0ZShkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZWRpdG9yJyksIHtcclxuICAgIG1vZHVsZXM6IFtcclxuICAgICAgICBkaWFsb2dcclxuICAgIF0sXHJcbiAgICBidXR0b25MaXN0OiBbXHJcbiAgICAgICAgWyd1bmRvJywgJ3JlZG8nXSxcclxuICAgICAgICBbZm9udCwgZm9udFNpemUsIGZvcm1hdEJsb2NrXSxcclxuICAgICAgICBbJ2JvbGQnLCAndW5kZXJsaW5lJywgJ2l0YWxpYycsICdzdHJpa2UnLCAnc3Vic2NyaXB0JywgJ3N1cGVyc2NyaXB0J10sXHJcbiAgICAgICAgWydyZW1vdmVGb3JtYXQnXSxcclxuICAgICAgICAnLycsXHJcbiAgICAgICAgW2ZvbnRDb2xvciwgaGlsaXRlQ29sb3JdLFxyXG4gICAgICAgIFsnaW5kZW50JywgJ291dGRlbnQnXSxcclxuICAgICAgICBbYWxpZ24sIGhvcml6b250YWxSdWxlLCBsaXN0LCB0YWJsZV0sXHJcbiAgICAgICAgW2xpbmssIGltYWdlLCB2aWRlb10sXHJcbiAgICAgICAgWydmdWxsU2NyZWVuJywgJ3Nob3dCbG9ja3MnLCAnY29kZVZpZXcnXSxcclxuICAgICAgICBbJ3ByZXZpZXcnLCAncHJpbnQnXVxyXG4gICAgXSxcclxuICAgIC8vIGxhbmc6IGxhbmdcclxufSkiXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBR0E7QUFDQTtBQUxBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/suneditor_build.js\n");

/***/ })

/******/ });